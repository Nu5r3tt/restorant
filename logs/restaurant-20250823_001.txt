2025-08-23 14:23:14.284 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-23 14:23:14.344 +03:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-08-23 14:23:14.366 +03:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-08-23 14:23:14.413 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-08-23 14:23:14.421 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-23 14:23:14.422 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-08-23 14:23:14.428 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-08-23 14:23:14.434 +03:00 [INF] No migrations were applied. The database is already up to date.
2025-08-23 14:23:14.438 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-08-23 14:36:40.291 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-23 14:36:40.335 +03:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-08-23 14:36:40.382 +03:00 [INF] Executed DbCommand (44ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-08-23 14:36:40.456 +03:00 [INF] Executed DbCommand (27ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-08-23 14:36:40.465 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-23 14:36:40.467 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-08-23 14:36:40.473 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-08-23 14:36:40.482 +03:00 [INF] Applying migration '20250823113628_AddImageDataToMenuItem'.
2025-08-23 14:36:40.516 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [MenuItems] ADD [ImageData] nvarchar(max) NULL;
2025-08-23 14:36:40.522 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE [MenuItems] SET [ImageData] = NULL
WHERE [Id] = 1;
SELECT @@ROWCOUNT;
2025-08-23 14:36:40.525 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE [MenuItems] SET [ImageData] = NULL
WHERE [Id] = 2;
SELECT @@ROWCOUNT;
2025-08-23 14:36:40.527 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE [MenuItems] SET [ImageData] = NULL
WHERE [Id] = 3;
SELECT @@ROWCOUNT;
2025-08-23 14:36:40.529 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE [MenuItems] SET [ImageData] = NULL
WHERE [Id] = 4;
SELECT @@ROWCOUNT;
2025-08-23 14:36:40.530 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE [MenuItems] SET [ImageData] = NULL
WHERE [Id] = 5;
SELECT @@ROWCOUNT;
2025-08-23 14:36:40.532 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE [MenuItems] SET [ImageData] = NULL
WHERE [Id] = 6;
SELECT @@ROWCOUNT;
2025-08-23 14:36:40.533 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE [MenuItems] SET [ImageData] = NULL
WHERE [Id] = 7;
SELECT @@ROWCOUNT;
2025-08-23 14:36:40.535 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE [MenuItems] SET [ImageData] = NULL
WHERE [Id] = 8;
SELECT @@ROWCOUNT;
2025-08-23 14:36:40.537 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE [MenuItems] SET [ImageData] = NULL
WHERE [Id] = 9;
SELECT @@ROWCOUNT;
2025-08-23 14:36:40.538 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE [MenuItems] SET [ImageData] = NULL
WHERE [Id] = 10;
SELECT @@ROWCOUNT;
2025-08-23 14:36:40.539 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE [MenuItems] SET [ImageData] = NULL
WHERE [Id] = 11;
SELECT @@ROWCOUNT;
2025-08-23 14:36:40.541 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE [MenuItems] SET [ImageData] = NULL
WHERE [Id] = 12;
SELECT @@ROWCOUNT;
2025-08-23 14:36:40.543 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20250823113628_AddImageDataToMenuItem', N'9.0.8');
2025-08-23 14:36:40.553 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-08-23 14:38:39.731 +03:00 [INF] User profile is available. Using 'C:\Users\fatih\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-23 14:38:40.606 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-23 14:38:40.679 +03:00 [INF] Executed DbCommand (63ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-08-23 14:38:40.942 +03:00 [INF] Executed DbCommand (34ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-08-23 14:38:41.076 +03:00 [INF] Now listening on: http://localhost:5010
2025-08-23 14:38:41.080 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-23 14:38:41.081 +03:00 [INF] Hosting environment: Development
2025-08-23 14:38:41.081 +03:00 [INF] Content root path: C:\AI\Restorant
2025-08-23 14:38:41.208 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5010/_blazor/negotiate?negotiateVersion=1 - null 0
2025-08-23 14:38:41.237 +03:00 [WRN] Failed to determine the https port for redirect.
2025-08-23 14:38:41.267 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-23 14:38:41.275 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-23 14:38:41.278 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5010/_blazor/negotiate?negotiateVersion=1 - 200 316 application/json 70.6063ms
2025-08-23 14:38:41.281 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/_blazor?id=_vrM0ElNv5-y2-VrNlaquw - null null
2025-08-23 14:38:41.286 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-23 14:38:58.487 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/admin/menus?id=7f7a33e0-c960-4ca4-a34d-5c98608e7ac4&vscodeBrowserReqId=1755949138484 - null null
2025-08-23 14:38:58.513 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-23 14:38:58.520 +03:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2025-08-23 14:38:58.526 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/admin/menus?id=7f7a33e0-c960-4ca4-a34d-5c98608e7ac4&vscodeBrowserReqId=1755949138484 - 302 0 null 38.9439ms
2025-08-23 14:38:58.539 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/Identity/Account/Login?ReturnUrl=%2Fadmin%2Fmenus%3Fid%3D7f7a33e0-c960-4ca4-a34d-5c98608e7ac4%26vscodeBrowserReqId%3D1755949138484 - null null
2025-08-23 14:38:58.546 +03:00 [INF] Executing endpoint '/Account/Login'
2025-08-23 14:38:58.565 +03:00 [INF] Route matched with {page = "/Account/Login", area = "Identity"}. Executing page /Account/Login
2025-08-23 14:38:58.584 +03:00 [INF] Executing handler method Microsoft.AspNetCore.Identity.UI.V5.Pages.Account.Internal.LoginModel.OnGetAsync - ModelState is "Valid"
2025-08-23 14:38:58.588 +03:00 [INF] AuthenticationScheme: Identity.External signed out.
2025-08-23 14:38:58.590 +03:00 [INF] Executed handler method OnGetAsync, returned result .
2025-08-23 14:38:58.592 +03:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2025-08-23 14:38:58.593 +03:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2025-08-23 14:38:58.671 +03:00 [INF] Executed page /Account/Login in 99.7238ms
2025-08-23 14:38:58.672 +03:00 [INF] Executed endpoint '/Account/Login'
2025-08-23 14:38:58.674 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/Identity/Account/Login?ReturnUrl=%2Fadmin%2Fmenus%3Fid%3D7f7a33e0-c960-4ca4-a34d-5c98608e7ac4%26vscodeBrowserReqId%3D1755949138484 - 200 null text/html; charset=utf-8 135.4109ms
2025-08-23 14:41:45.627 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/admin - null null
2025-08-23 14:41:45.651 +03:00 [INF] Executing endpoint '/admin (/admin)'
2025-08-23 14:41:45.907 +03:00 [INF] Executed DbCommand (48ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice], [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber], [m].[Id], [m].[CreatedAt], [m].[Description], [m].[ImageData], [m].[ImageUrl], [m].[IsAvailable], [m].[MenuId], [m].[Name], [m].[Price], [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[IsActive], [m0].[Name]
FROM [Orders] AS [o]
INNER JOIN [Tables] AS [t] ON [o].[TableId] = [t].[Id]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[Id]
INNER JOIN [Menus] AS [m0] ON [m].[MenuId] = [m0].[Id]
WHERE [o].[Status] IN (0, 1, 2)
ORDER BY [o].[OrderDate]
2025-08-23 14:41:45.990 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__startDate_0='?' (DbType = DateTime2), @__endDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalPrice]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[Status] = 4 AND [o].[OrderDate] >= @__startDate_0 AND [o].[OrderDate] <= @__endDate_1
2025-08-23 14:41:46.025 +03:00 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[IsActive] = CAST(1 AS bit)
ORDER BY [t].[TableNumber]
2025-08-23 14:41:46.061 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-23 14:41:46.123 +03:00 [INF] Executed endpoint '/admin (/admin)'
2025-08-23 14:41:46.127 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/admin - 200 null text/html; charset=utf-8 500.376ms
2025-08-23 14:41:46.157 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/_framework/blazor.web.js - null null
2025-08-23 14:41:46.160 +03:00 [INF] Executing endpoint 'Blazor web static files'
2025-08-23 14:41:46.163 +03:00 [INF] The file /_framework/blazor.web.js was not modified
2025-08-23 14:41:46.164 +03:00 [INF] Executed endpoint 'Blazor web static files'
2025-08-23 14:41:46.165 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/_framework/blazor.web.js - 304 null text/javascript 8.4733ms
2025-08-23 14:41:46.546 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/_blazor/initializers - null null
2025-08-23 14:41:46.549 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-23 14:41:46.554 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-23 14:41:46.555 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/_blazor/initializers - 200 null application/json; charset=utf-8 9.0828ms
2025-08-23 14:41:46.564 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5010/_blazor/negotiate?negotiateVersion=1 - null 0
2025-08-23 14:41:46.566 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-23 14:41:46.567 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-23 14:41:46.568 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5010/_blazor/negotiate?negotiateVersion=1 - 200 316 application/json 3.8135ms
2025-08-23 14:41:46.570 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/_blazor?id=7l439ivtuZE5tZyw-0406A - null null
2025-08-23 14:41:46.572 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-23 14:41:46.683 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice], [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber], [m].[Id], [m].[CreatedAt], [m].[Description], [m].[ImageData], [m].[ImageUrl], [m].[IsAvailable], [m].[MenuId], [m].[Name], [m].[Price], [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[IsActive], [m0].[Name]
FROM [Orders] AS [o]
INNER JOIN [Tables] AS [t] ON [o].[TableId] = [t].[Id]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[Id]
INNER JOIN [Menus] AS [m0] ON [m].[MenuId] = [m0].[Id]
WHERE [o].[Status] IN (0, 1, 2)
ORDER BY [o].[OrderDate]
2025-08-23 14:41:46.686 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__startDate_0='?' (DbType = DateTime2), @__endDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalPrice]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[Status] = 4 AND [o].[OrderDate] >= @__startDate_0 AND [o].[OrderDate] <= @__endDate_1
2025-08-23 14:41:46.689 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[IsActive] = CAST(1 AS bit)
ORDER BY [t].[TableNumber]
2025-08-23 14:41:46.691 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-23 14:41:49.093 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/menu?table=1&category=Ana%20Yemekler - null null
2025-08-23 14:41:49.095 +03:00 [INF] Executing endpoint '/menu (/menu)'
2025-08-23 14:41:49.114 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__tableNumber_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[TableNumber] = @__tableNumber_0
2025-08-23 14:41:49.117 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-23 14:41:49.126 +03:00 [INF] Executed endpoint '/menu (/menu)'
2025-08-23 14:41:49.128 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/menu?table=1&category=Ana%20Yemekler - 200 null text/html; charset=utf-8 35.0512ms
2025-08-23 14:41:49.187 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__tableNumber_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[TableNumber] = @__tableNumber_0
2025-08-23 14:41:49.190 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-23 14:41:54.492 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/admin - null null
2025-08-23 14:41:54.495 +03:00 [INF] Executing endpoint '/admin (/admin)'
2025-08-23 14:41:54.501 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice], [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber], [m].[Id], [m].[CreatedAt], [m].[Description], [m].[ImageData], [m].[ImageUrl], [m].[IsAvailable], [m].[MenuId], [m].[Name], [m].[Price], [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[IsActive], [m0].[Name]
FROM [Orders] AS [o]
INNER JOIN [Tables] AS [t] ON [o].[TableId] = [t].[Id]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[Id]
INNER JOIN [Menus] AS [m0] ON [m].[MenuId] = [m0].[Id]
WHERE [o].[Status] IN (0, 1, 2)
ORDER BY [o].[OrderDate]
2025-08-23 14:41:54.507 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__startDate_0='?' (DbType = DateTime2), @__endDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalPrice]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[Status] = 4 AND [o].[OrderDate] >= @__startDate_0 AND [o].[OrderDate] <= @__endDate_1
2025-08-23 14:41:54.510 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[IsActive] = CAST(1 AS bit)
ORDER BY [t].[TableNumber]
2025-08-23 14:41:54.514 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-23 14:41:54.517 +03:00 [INF] Executed endpoint '/admin (/admin)'
2025-08-23 14:41:54.519 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/admin - 200 null text/html; charset=utf-8 27.2374ms
2025-08-23 14:41:54.531 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice], [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber], [m].[Id], [m].[CreatedAt], [m].[Description], [m].[ImageData], [m].[ImageUrl], [m].[IsAvailable], [m].[MenuId], [m].[Name], [m].[Price], [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[IsActive], [m0].[Name]
FROM [Orders] AS [o]
INNER JOIN [Tables] AS [t] ON [o].[TableId] = [t].[Id]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[Id]
INNER JOIN [Menus] AS [m0] ON [m].[MenuId] = [m0].[Id]
WHERE [o].[Status] IN (0, 1, 2)
ORDER BY [o].[OrderDate]
2025-08-23 14:41:54.534 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__startDate_0='?' (DbType = DateTime2), @__endDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalPrice]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[Status] = 4 AND [o].[OrderDate] >= @__startDate_0 AND [o].[OrderDate] <= @__endDate_1
2025-08-23 14:41:54.538 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[IsActive] = CAST(1 AS bit)
ORDER BY [t].[TableNumber]
2025-08-23 14:41:54.541 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-23 14:41:55.512 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/admin/menus - null null
2025-08-23 14:41:55.515 +03:00 [INF] Executing endpoint '/admin/menus (/admin/menus)'
2025-08-23 14:41:55.566 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
FROM [Menus] AS [m]
LEFT JOIN [MenuItems] AS [m0] ON [m].[Id] = [m0].[MenuId]
ORDER BY [m].[Name], [m].[Id]
2025-08-23 14:41:55.577 +03:00 [INF] Executed endpoint '/admin/menus (/admin/menus)'
2025-08-23 14:41:55.578 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/admin/menus - 200 null text/html; charset=utf-8 66.3703ms
2025-08-23 14:41:55.624 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
FROM [Menus] AS [m]
LEFT JOIN [MenuItems] AS [m0] ON [m].[Id] = [m0].[MenuId]
ORDER BY [m].[Name], [m].[Id]
2025-08-23 14:42:00.442 +03:00 [INF] Executed DbCommand (28ms) [Parameters=[@__menuId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[ImageData], [m].[ImageUrl], [m].[IsAvailable], [m].[MenuId], [m].[Name], [m].[Price]
FROM [MenuItems] AS [m]
WHERE [m].[MenuId] = @__menuId_0
ORDER BY [m].[Name]
2025-08-23 14:42:00.454 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/uploads/menu-items/f3c325ba-d4d3-4109-9d65-5458727b4e80.jpg - null null
2025-08-23 14:42:00.454 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/uploads/menu-items/bd374031-7f68-4690-8992-ffb59d9230d7.jpg - null null
2025-08-23 14:42:00.459 +03:00 [INF] The file /uploads/menu-items/f3c325ba-d4d3-4109-9d65-5458727b4e80.jpg was not modified
2025-08-23 14:42:00.462 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/uploads/menu-items/f3c325ba-d4d3-4109-9d65-5458727b4e80.jpg - 304 null image/jpeg 7.9279ms
2025-08-23 14:42:00.461 +03:00 [INF] The file /uploads/menu-items/bd374031-7f68-4690-8992-ffb59d9230d7.jpg was not modified
2025-08-23 14:42:00.467 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/uploads/menu-items/bd374031-7f68-4690-8992-ffb59d9230d7.jpg - 304 null image/jpeg 12.9363ms
2025-08-23 14:42:06.653 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/menu?table=1&category=Ba%C5%9Flang%C4%B1%C3%A7lar - null null
2025-08-23 14:42:06.656 +03:00 [INF] Executing endpoint '/menu (/menu)'
2025-08-23 14:42:06.660 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__tableNumber_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[TableNumber] = @__tableNumber_0
2025-08-23 14:42:06.667 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-23 14:42:06.672 +03:00 [INF] Executed endpoint '/menu (/menu)'
2025-08-23 14:42:06.674 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/menu?table=1&category=Ba%C5%9Flang%C4%B1%C3%A7lar - 200 null text/html; charset=utf-8 20.9894ms
2025-08-23 14:42:06.692 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__tableNumber_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[TableNumber] = @__tableNumber_0
2025-08-23 14:42:06.696 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-23 14:42:15.451 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/menu?table=1&category=Tatl%C4%B1lar - null null
2025-08-23 14:42:15.500 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-08-23 14:42:15.521 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-08-23 14:42:15.527 +03:00 [INF] Executing endpoint '/menu (/menu)'
2025-08-23 14:42:15.530 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__tableNumber_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[TableNumber] = @__tableNumber_0
2025-08-23 14:42:15.533 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-23 14:42:15.539 +03:00 [INF] Executed endpoint '/menu (/menu)'
2025-08-23 14:42:15.540 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/menu?table=1&category=Tatl%C4%B1lar - 200 null text/html; charset=utf-8 89.2083ms
2025-08-23 14:42:16.825 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/menu?table=1&category=Ana%20Yemekler - null null
2025-08-23 14:42:16.828 +03:00 [INF] Executing endpoint '/menu (/menu)'
2025-08-23 14:42:16.831 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__tableNumber_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[TableNumber] = @__tableNumber_0
2025-08-23 14:42:16.834 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-23 14:42:16.839 +03:00 [INF] Executed endpoint '/menu (/menu)'
2025-08-23 14:42:16.840 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/menu?table=1&category=Ana%20Yemekler - 200 null text/html; charset=utf-8 14.9881ms
2025-08-23 14:42:18.754 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/menu?table=1&category=Ba%C5%9Flang%C4%B1%C3%A7lar - null null
2025-08-23 14:42:18.757 +03:00 [INF] Executing endpoint '/menu (/menu)'
2025-08-23 14:42:18.760 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__tableNumber_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[TableNumber] = @__tableNumber_0
2025-08-23 14:42:18.764 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-23 14:42:18.769 +03:00 [INF] Executed endpoint '/menu (/menu)'
2025-08-23 14:42:18.770 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/menu?table=1&category=Ba%C5%9Flang%C4%B1%C3%A7lar - 200 null text/html; charset=utf-8 15.7482ms
2025-08-23 14:42:23.962 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-23 14:42:23.963 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/_blazor?id=_vrM0ElNv5-y2-VrNlaquw - 101 null null 222682.3031ms
2025-08-23 14:42:25.406 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/admin - null null
2025-08-23 14:42:25.409 +03:00 [INF] Executing endpoint '/admin (/admin)'
2025-08-23 14:42:25.413 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice], [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber], [m].[Id], [m].[CreatedAt], [m].[Description], [m].[ImageData], [m].[ImageUrl], [m].[IsAvailable], [m].[MenuId], [m].[Name], [m].[Price], [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[IsActive], [m0].[Name]
FROM [Orders] AS [o]
INNER JOIN [Tables] AS [t] ON [o].[TableId] = [t].[Id]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[Id]
INNER JOIN [Menus] AS [m0] ON [m].[MenuId] = [m0].[Id]
WHERE [o].[Status] IN (0, 1, 2)
ORDER BY [o].[OrderDate]
2025-08-23 14:42:25.417 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__startDate_0='?' (DbType = DateTime2), @__endDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalPrice]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[Status] = 4 AND [o].[OrderDate] >= @__startDate_0 AND [o].[OrderDate] <= @__endDate_1
2025-08-23 14:42:25.420 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[IsActive] = CAST(1 AS bit)
ORDER BY [t].[TableNumber]
2025-08-23 14:42:25.423 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-23 14:42:25.428 +03:00 [INF] Executed endpoint '/admin (/admin)'
2025-08-23 14:42:25.431 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/admin - 200 null text/html; charset=utf-8 24.2442ms
2025-08-23 14:42:25.441 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice], [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber], [m].[Id], [m].[CreatedAt], [m].[Description], [m].[ImageData], [m].[ImageUrl], [m].[IsAvailable], [m].[MenuId], [m].[Name], [m].[Price], [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[IsActive], [m0].[Name]
FROM [Orders] AS [o]
INNER JOIN [Tables] AS [t] ON [o].[TableId] = [t].[Id]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[Id]
INNER JOIN [Menus] AS [m0] ON [m].[MenuId] = [m0].[Id]
WHERE [o].[Status] IN (0, 1, 2)
ORDER BY [o].[OrderDate]
2025-08-23 14:42:25.444 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__startDate_0='?' (DbType = DateTime2), @__endDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalPrice]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[Status] = 4 AND [o].[OrderDate] >= @__startDate_0 AND [o].[OrderDate] <= @__endDate_1
2025-08-23 14:42:25.447 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[IsActive] = CAST(1 AS bit)
ORDER BY [t].[TableNumber]
2025-08-23 14:42:25.450 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-23 14:42:27.159 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/ - null null
2025-08-23 14:42:27.162 +03:00 [INF] Executing endpoint '/ (/)'
2025-08-23 14:42:27.164 +03:00 [INF] Executed endpoint '/ (/)'
2025-08-23 14:42:27.165 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/ - 200 null text/html; charset=utf-8 6.4111ms
2025-08-23 14:42:27.270 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/_framework/blazor.web.js - null null
2025-08-23 14:42:27.274 +03:00 [INF] Executing endpoint 'Blazor web static files'
2025-08-23 14:42:27.275 +03:00 [INF] The file /_framework/blazor.web.js was not modified
2025-08-23 14:42:27.276 +03:00 [INF] Executed endpoint 'Blazor web static files'
2025-08-23 14:42:27.277 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/_framework/blazor.web.js - 304 null text/javascript 7.7667ms
2025-08-23 14:42:29.917 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/menu?table=1&category=Ana%20Yemekler - null null
2025-08-23 14:42:29.920 +03:00 [INF] Executing endpoint '/menu (/menu)'
2025-08-23 14:42:29.924 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__tableNumber_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[TableNumber] = @__tableNumber_0
2025-08-23 14:42:29.927 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-23 14:42:29.932 +03:00 [INF] Executed endpoint '/menu (/menu)'
2025-08-23 14:42:29.933 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/menu?table=1&category=Ana%20Yemekler - 200 null text/html; charset=utf-8 16.7106ms
2025-08-23 14:42:29.949 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/_blazor/initializers - null null
2025-08-23 14:42:29.952 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-23 14:42:29.954 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-23 14:42:29.955 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/_blazor/initializers - 200 null application/json; charset=utf-8 5.356ms
2025-08-23 14:42:29.972 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5010/_blazor/negotiate?negotiateVersion=1 - null 0
2025-08-23 14:42:29.975 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-23 14:42:29.977 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-23 14:42:29.978 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5010/_blazor/negotiate?negotiateVersion=1 - 200 316 application/json 6.1029ms
2025-08-23 14:42:29.981 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/_blazor?id=IH_n13xjantSFAaFmmes4g - null null
2025-08-23 14:42:29.984 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-23 14:42:29.994 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__tableNumber_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[TableNumber] = @__tableNumber_0
2025-08-23 14:42:29.998 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-23 14:42:38.433 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/admin/menus - null null
2025-08-23 14:42:38.436 +03:00 [INF] Executing endpoint '/admin/menus (/admin/menus)'
2025-08-23 14:42:38.458 +03:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
FROM [Menus] AS [m]
LEFT JOIN [MenuItems] AS [m0] ON [m].[Id] = [m0].[MenuId]
ORDER BY [m].[Name], [m].[Id]
2025-08-23 14:42:38.462 +03:00 [INF] Executed endpoint '/admin/menus (/admin/menus)'
2025-08-23 14:42:38.463 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/admin/menus - 200 null text/html; charset=utf-8 32.4336ms
2025-08-23 14:42:38.487 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
FROM [Menus] AS [m]
LEFT JOIN [MenuItems] AS [m0] ON [m].[Id] = [m0].[MenuId]
ORDER BY [m].[Name], [m].[Id]
2025-08-23 14:42:41.509 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__menuId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[ImageData], [m].[ImageUrl], [m].[IsAvailable], [m].[MenuId], [m].[Name], [m].[Price]
FROM [MenuItems] AS [m]
WHERE [m].[MenuId] = @__menuId_0
ORDER BY [m].[Name]
2025-08-23 14:44:35.696 +03:00 [INF] Executed DbCommand (41ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 500), @p2='?' (Size = -1), @p3='?' (Size = -1), @p4='?' (DbType = Boolean), @p5='?' (DbType = Int32), @p6='?' (Size = 100), @p7='?' (Precision = 18) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [MenuItems] ([CreatedAt], [Description], [ImageData], [ImageUrl], [IsAvailable], [MenuId], [Name], [Price])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-08-23 14:44:35.731 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'RestaurantOrdering.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): String or binary data would be truncated in table 'RestaurantOrderingDb.dbo.MenuItems', column 'ImageUrl'. Truncated value: 'data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAMCAgsKCgsLCwsMDAwMDA4ODg8ODg8PEQ8PDw8RERERE'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:f22e8f53-cfd2-4aa6-bd57-1d8d2a967d84
Error Number:2628,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): String or binary data would be truncated in table 'RestaurantOrderingDb.dbo.MenuItems', column 'ImageUrl'. Truncated value: 'data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAMCAgsKCgsLCwsMDAwMDA4ODg8ODg8PEQ8PDw8RERERE'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:f22e8f53-cfd2-4aa6-bd57-1d8d2a967d84
Error Number:2628,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-23 14:44:41.936 +03:00 [INF] Executed DbCommand (47ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 500), @p2='?' (Size = -1), @p3='?' (Size = -1), @p4='?' (DbType = Boolean), @p5='?' (DbType = Int32), @p6='?' (Size = 100), @p7='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p8='?' (DbType = DateTime2), @p9='?' (Size = 500), @p10='?' (Size = -1), @p11='?' (Size = -1), @p12='?' (DbType = Boolean), @p13='?' (DbType = Int32), @p14='?' (Size = 100), @p15='?' (Precision = 18) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [MenuItems] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, 0),
(@p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, 1)) AS i ([CreatedAt], [Description], [ImageData], [ImageUrl], [IsAvailable], [MenuId], [Name], [Price], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([CreatedAt], [Description], [ImageData], [ImageUrl], [IsAvailable], [MenuId], [Name], [Price])
VALUES (i.[CreatedAt], i.[Description], i.[ImageData], i.[ImageUrl], i.[IsAvailable], i.[MenuId], i.[Name], i.[Price])
OUTPUT INSERTED.[Id], i._Position;
2025-08-23 14:44:41.942 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'RestaurantOrdering.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): String or binary data would be truncated in table 'RestaurantOrderingDb.dbo.MenuItems', column 'ImageUrl'. Truncated value: 'data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAMCAgsKCgsLCwsMDAwMDA4ODg8ODg8PEQ8PDw8RERERE'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:f22e8f53-cfd2-4aa6-bd57-1d8d2a967d84
Error Number:2628,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): String or binary data would be truncated in table 'RestaurantOrderingDb.dbo.MenuItems', column 'ImageUrl'. Truncated value: 'data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAMCAgsKCgsLCwsMDAwMDA4ODg8ODg8PEQ8PDw8RERERE'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:f22e8f53-cfd2-4aa6-bd57-1d8d2a967d84
Error Number:2628,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-23 14:44:46.619 +03:00 [INF] Executed DbCommand (73ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 500), @p2='?' (Size = -1), @p3='?' (Size = -1), @p4='?' (DbType = Boolean), @p5='?' (DbType = Int32), @p6='?' (Size = 100), @p7='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p8='?' (DbType = DateTime2), @p9='?' (Size = 500), @p10='?' (Size = -1), @p11='?' (Size = -1), @p12='?' (DbType = Boolean), @p13='?' (DbType = Int32), @p14='?' (Size = 100), @p15='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p16='?' (DbType = DateTime2), @p17='?' (Size = 500), @p18='?' (Size = -1), @p19='?' (Size = -1), @p20='?' (DbType = Boolean), @p21='?' (DbType = Int32), @p22='?' (Size = 100), @p23='?' (Precision = 18) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [MenuItems] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, 0),
(@p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, 1),
(@p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, 2)) AS i ([CreatedAt], [Description], [ImageData], [ImageUrl], [IsAvailable], [MenuId], [Name], [Price], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([CreatedAt], [Description], [ImageData], [ImageUrl], [IsAvailable], [MenuId], [Name], [Price])
VALUES (i.[CreatedAt], i.[Description], i.[ImageData], i.[ImageUrl], i.[IsAvailable], i.[MenuId], i.[Name], i.[Price])
OUTPUT INSERTED.[Id], i._Position;
2025-08-23 14:44:46.623 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'RestaurantOrdering.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): String or binary data would be truncated in table 'RestaurantOrderingDb.dbo.MenuItems', column 'ImageUrl'. Truncated value: 'data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAMCAgsKCgsLCwsMDAwMDA4ODg8ODg8PEQ8PDw8RERERE'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:f22e8f53-cfd2-4aa6-bd57-1d8d2a967d84
Error Number:2628,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): String or binary data would be truncated in table 'RestaurantOrderingDb.dbo.MenuItems', column 'ImageUrl'. Truncated value: 'data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAMCAgsKCgsLCwsMDAwMDA4ODg8ODg8PEQ8PDw8RERERE'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:f22e8f53-cfd2-4aa6-bd57-1d8d2a967d84
Error Number:2628,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-23 14:44:50.739 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/ - null null
2025-08-23 14:44:50.742 +03:00 [INF] Executing endpoint '/ (/)'
2025-08-23 14:44:50.743 +03:00 [INF] Executed endpoint '/ (/)'
2025-08-23 14:44:50.746 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/ - 200 null text/html; charset=utf-8 6.5019ms
2025-08-23 14:44:52.565 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/menu?table=1&category=Ana%20Yemekler - null null
2025-08-23 14:44:52.567 +03:00 [INF] Executing endpoint '/menu (/menu)'
2025-08-23 14:44:52.594 +03:00 [INF] Executed DbCommand (25ms) [Parameters=[@__tableNumber_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[TableNumber] = @__tableNumber_0
2025-08-23 14:44:52.605 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-23 14:44:52.610 +03:00 [INF] Executed endpoint '/menu (/menu)'
2025-08-23 14:44:52.612 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/menu?table=1&category=Ana%20Yemekler - 200 null text/html; charset=utf-8 47.3697ms
2025-08-23 14:44:52.627 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__tableNumber_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[TableNumber] = @__tableNumber_0
2025-08-23 14:44:52.631 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-23 14:45:01.353 +03:00 [INF] Executed DbCommand (46ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 500), @p2='?' (Size = -1), @p3='?' (Size = -1), @p4='?' (DbType = Boolean), @p5='?' (DbType = Int32), @p6='?' (Size = 100), @p7='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p8='?' (DbType = DateTime2), @p9='?' (Size = 500), @p10='?' (Size = -1), @p11='?' (Size = -1), @p12='?' (DbType = Boolean), @p13='?' (DbType = Int32), @p14='?' (Size = 100), @p15='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p16='?' (DbType = DateTime2), @p17='?' (Size = 500), @p18='?' (Size = -1), @p19='?' (Size = -1), @p20='?' (DbType = Boolean), @p21='?' (DbType = Int32), @p22='?' (Size = 100), @p23='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p24='?' (DbType = DateTime2), @p25='?' (Size = 500), @p26='?' (Size = -1), @p27='?' (Size = -1), @p28='?' (DbType = Boolean), @p29='?' (DbType = Int32), @p30='?' (Size = 100), @p31='?' (Precision = 18) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [MenuItems] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, 0),
(@p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, 1),
(@p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, 2),
(@p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, 3)) AS i ([CreatedAt], [Description], [ImageData], [ImageUrl], [IsAvailable], [MenuId], [Name], [Price], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([CreatedAt], [Description], [ImageData], [ImageUrl], [IsAvailable], [MenuId], [Name], [Price])
VALUES (i.[CreatedAt], i.[Description], i.[ImageData], i.[ImageUrl], i.[IsAvailable], i.[MenuId], i.[Name], i.[Price])
OUTPUT INSERTED.[Id], i._Position;
2025-08-23 14:45:01.358 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'RestaurantOrdering.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): String or binary data would be truncated in table 'RestaurantOrderingDb.dbo.MenuItems', column 'ImageUrl'. Truncated value: 'data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAMCAgsKCgsLCwsMDAwMDA4ODg8ODg8PEQ8PDw8RERERE'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:f22e8f53-cfd2-4aa6-bd57-1d8d2a967d84
Error Number:2628,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): String or binary data would be truncated in table 'RestaurantOrderingDb.dbo.MenuItems', column 'ImageUrl'. Truncated value: 'data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAMCAgsKCgsLCwsMDAwMDA4ODg8ODg8PEQ8PDw8RERERE'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:f22e8f53-cfd2-4aa6-bd57-1d8d2a967d84
Error Number:2628,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
