2025-08-24 00:00:14.770 +03:00 [INF] User profile is available. Using 'C:\Users\fatih\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-24 00:00:15.611 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-24 00:00:15.671 +03:00 [INF] Executed DbCommand (50ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-08-24 00:00:15.928 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-08-24 00:00:16.010 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 00:00:16.052 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 00:00:16.056 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 00:00:16.058 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 00:00:16.060 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 00:00:16.062 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 00:00:16.064 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 00:00:16.147 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 500), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p7='?' (DbType = Int32), @p8='?' (Size = 500), @p9='?' (DbType = DateTime2), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p14='?' (DbType = Int32), @p15='?' (Size = 500), @p16='?' (DbType = DateTime2), @p17='?' (DbType = Int32), @p18='?' (DbType = Int32), @p19='?' (DbType = Int32), @p20='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p21='?' (DbType = Int32), @p22='?' (Size = 500), @p23='?' (DbType = DateTime2), @p24='?' (DbType = Int32), @p25='?' (DbType = Int32), @p26='?' (DbType = Int32), @p27='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p28='?' (DbType = Int32), @p29='?' (Size = 500), @p30='?' (DbType = DateTime2), @p31='?' (DbType = Int32), @p32='?' (DbType = Int32), @p33='?' (DbType = Int32), @p34='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p35='?' (DbType = Int32), @p36='?' (Size = 500), @p37='?' (DbType = DateTime2), @p38='?' (DbType = Int32), @p39='?' (DbType = Int32), @p40='?' (DbType = Int32), @p41='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p42='?' (DbType = Int32), @p43='?' (Size = 500), @p44='?' (DbType = DateTime2), @p45='?' (DbType = Int32), @p46='?' (DbType = Int32), @p47='?' (DbType = Int32), @p48='?' (Precision = 18) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [Orders] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, 0),
(@p7, @p8, @p9, @p10, @p11, @p12, @p13, 1),
(@p14, @p15, @p16, @p17, @p18, @p19, @p20, 2),
(@p21, @p22, @p23, @p24, @p25, @p26, @p27, 3),
(@p28, @p29, @p30, @p31, @p32, @p33, @p34, 4),
(@p35, @p36, @p37, @p38, @p39, @p40, @p41, 5),
(@p42, @p43, @p44, @p45, @p46, @p47, @p48, 6)) AS i ([MenuItemId], [Notes], [OrderDate], [Quantity], [Status], [TableId], [TotalPrice], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([MenuItemId], [Notes], [OrderDate], [Quantity], [Status], [TableId], [TotalPrice])
VALUES (i.[MenuItemId], i.[Notes], i.[OrderDate], i.[Quantity], i.[Status], i.[TableId], i.[TotalPrice])
OUTPUT INSERTED.[Id], i._Position;
2025-08-24 00:00:16.165 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'RestaurantOrdering.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The MERGE statement conflicted with the FOREIGN KEY constraint "FK_Orders_MenuItems_MenuItemId". The conflict occurred in database "RestaurantOrderingDb", table "dbo.MenuItems", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:96a833c8-e99c-47bd-a895-e32e5c240348
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The MERGE statement conflicted with the FOREIGN KEY constraint "FK_Orders_MenuItems_MenuItemId". The conflict occurred in database "RestaurantOrderingDb", table "dbo.MenuItems", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:96a833c8-e99c-47bd-a895-e32e5c240348
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-24 00:00:16.172 +03:00 [ERR] An error occurred creating the DB.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The MERGE statement conflicted with the FOREIGN KEY constraint "FK_Orders_MenuItems_MenuItemId". The conflict occurred in database "RestaurantOrderingDb", table "dbo.MenuItems", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:96a833c8-e99c-47bd-a895-e32e5c240348
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at RestaurantOrdering.Services.TestOrderService.CreateTestOrdersAsync() in C:\Users\fatih\Desktop\AI\Restorant\Services\TestOrderService.cs:line 119
   at Program.<Main>$(String[] args) in C:\Users\fatih\Desktop\AI\Restorant\Program.cs:line 101
2025-08-24 00:00:16.292 +03:00 [INF] Now listening on: http://localhost:5010
2025-08-24 00:00:16.296 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-24 00:00:16.297 +03:00 [INF] Hosting environment: Development
2025-08-24 00:00:16.298 +03:00 [INF] Content root path: C:\Users\fatih\Desktop\AI\Restorant
2025-08-24 00:00:22.102 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/ - null null
2025-08-24 00:00:22.144 +03:00 [WRN] Failed to determine the https port for redirect.
2025-08-24 00:00:22.212 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-08-24 00:00:22.245 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-08-24 00:00:22.250 +03:00 [INF] Executing endpoint '/ (/)'
2025-08-24 00:00:22.330 +03:00 [INF] Executed endpoint '/ (/)'
2025-08-24 00:00:22.336 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/ - 200 null text/html; charset=utf-8 235.2815ms
2025-08-24 00:00:22.354 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/_framework/blazor.web.js - null null
2025-08-24 00:00:22.360 +03:00 [INF] Executing endpoint 'Blazor web static files'
2025-08-24 00:00:22.364 +03:00 [INF] The file /_framework/blazor.web.js was not modified
2025-08-24 00:00:22.365 +03:00 [INF] Executed endpoint 'Blazor web static files'
2025-08-24 00:00:22.366 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/_framework/blazor.web.js - 304 null text/javascript 12.3227ms
2025-08-24 00:00:24.007 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/admin/kitchen - null null
2025-08-24 00:00:24.022 +03:00 [INF] Executing endpoint '/admin/kitchen (/admin/kitchen)'
2025-08-24 00:00:24.125 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice], [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber], [m].[Id], [m].[CreatedAt], [m].[Description], [m].[ImageData], [m].[ImageUrl], [m].[IsAvailable], [m].[MenuId], [m].[Name], [m].[Price], [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[IsActive], [m0].[Name]
FROM [Orders] AS [o]
INNER JOIN [Tables] AS [t] ON [o].[TableId] = [t].[Id]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[Id]
INNER JOIN [Menus] AS [m0] ON [m].[MenuId] = [m0].[Id]
WHERE [o].[Status] IN (0, 1, 2)
ORDER BY [o].[OrderDate]
2025-08-24 00:00:24.253 +03:00 [INF] Executed endpoint '/admin/kitchen (/admin/kitchen)'
2025-08-24 00:00:24.254 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/admin/kitchen - 200 null text/html; charset=utf-8 246.7597ms
2025-08-24 00:00:56.550 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/admin/kitchen - null null
2025-08-24 00:00:56.558 +03:00 [INF] Executing endpoint '/admin/kitchen (/admin/kitchen)'
2025-08-24 00:00:56.583 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice], [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber], [m].[Id], [m].[CreatedAt], [m].[Description], [m].[ImageData], [m].[ImageUrl], [m].[IsAvailable], [m].[MenuId], [m].[Name], [m].[Price], [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[IsActive], [m0].[Name]
FROM [Orders] AS [o]
INNER JOIN [Tables] AS [t] ON [o].[TableId] = [t].[Id]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[Id]
INNER JOIN [Menus] AS [m0] ON [m].[MenuId] = [m0].[Id]
WHERE [o].[Status] IN (0, 1, 2)
ORDER BY [o].[OrderDate]
2025-08-24 00:00:56.655 +03:00 [INF] Executed endpoint '/admin/kitchen (/admin/kitchen)'
2025-08-24 00:00:56.657 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/admin/kitchen - 200 null text/html; charset=utf-8 106.8387ms
2025-08-24 00:00:56.693 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/_framework/blazor.web.js - null null
2025-08-24 00:00:56.719 +03:00 [INF] Executing endpoint 'Blazor web static files'
2025-08-24 00:00:56.721 +03:00 [INF] The file /_framework/blazor.web.js was not modified
2025-08-24 00:00:56.722 +03:00 [INF] Executed endpoint 'Blazor web static files'
2025-08-24 00:00:56.723 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/_framework/blazor.web.js - 304 null text/javascript 29.8371ms
2025-08-24 00:01:24.907 +03:00 [INF] Application is shutting down...
2025-08-24 00:01:53.279 +03:00 [INF] User profile is available. Using 'C:\Users\fatih\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-24 00:01:54.072 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-24 00:01:54.102 +03:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-08-24 00:01:54.332 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-08-24 00:01:54.416 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 00:01:54.469 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 00:01:54.473 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 00:01:54.475 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 00:01:54.478 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 00:01:54.480 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 00:01:54.481 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 00:01:54.559 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 500), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p7='?' (DbType = Int32), @p8='?' (Size = 500), @p9='?' (DbType = DateTime2), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p14='?' (DbType = Int32), @p15='?' (Size = 500), @p16='?' (DbType = DateTime2), @p17='?' (DbType = Int32), @p18='?' (DbType = Int32), @p19='?' (DbType = Int32), @p20='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p21='?' (DbType = Int32), @p22='?' (Size = 500), @p23='?' (DbType = DateTime2), @p24='?' (DbType = Int32), @p25='?' (DbType = Int32), @p26='?' (DbType = Int32), @p27='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p28='?' (DbType = Int32), @p29='?' (Size = 500), @p30='?' (DbType = DateTime2), @p31='?' (DbType = Int32), @p32='?' (DbType = Int32), @p33='?' (DbType = Int32), @p34='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p35='?' (DbType = Int32), @p36='?' (Size = 500), @p37='?' (DbType = DateTime2), @p38='?' (DbType = Int32), @p39='?' (DbType = Int32), @p40='?' (DbType = Int32), @p41='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p42='?' (DbType = Int32), @p43='?' (Size = 500), @p44='?' (DbType = DateTime2), @p45='?' (DbType = Int32), @p46='?' (DbType = Int32), @p47='?' (DbType = Int32), @p48='?' (Precision = 18) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [Orders] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, 0),
(@p7, @p8, @p9, @p10, @p11, @p12, @p13, 1),
(@p14, @p15, @p16, @p17, @p18, @p19, @p20, 2),
(@p21, @p22, @p23, @p24, @p25, @p26, @p27, 3),
(@p28, @p29, @p30, @p31, @p32, @p33, @p34, 4),
(@p35, @p36, @p37, @p38, @p39, @p40, @p41, 5),
(@p42, @p43, @p44, @p45, @p46, @p47, @p48, 6)) AS i ([MenuItemId], [Notes], [OrderDate], [Quantity], [Status], [TableId], [TotalPrice], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([MenuItemId], [Notes], [OrderDate], [Quantity], [Status], [TableId], [TotalPrice])
VALUES (i.[MenuItemId], i.[Notes], i.[OrderDate], i.[Quantity], i.[Status], i.[TableId], i.[TotalPrice])
OUTPUT INSERTED.[Id], i._Position;
2025-08-24 00:01:54.575 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'RestaurantOrdering.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The MERGE statement conflicted with the FOREIGN KEY constraint "FK_Orders_MenuItems_MenuItemId". The conflict occurred in database "RestaurantOrderingDb", table "dbo.MenuItems", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:a3c56a68-d308-42c3-8ec2-9519ee53f2ce
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The MERGE statement conflicted with the FOREIGN KEY constraint "FK_Orders_MenuItems_MenuItemId". The conflict occurred in database "RestaurantOrderingDb", table "dbo.MenuItems", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:a3c56a68-d308-42c3-8ec2-9519ee53f2ce
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-24 00:01:54.582 +03:00 [ERR] An error occurred creating the DB.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The MERGE statement conflicted with the FOREIGN KEY constraint "FK_Orders_MenuItems_MenuItemId". The conflict occurred in database "RestaurantOrderingDb", table "dbo.MenuItems", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:a3c56a68-d308-42c3-8ec2-9519ee53f2ce
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at RestaurantOrdering.Services.TestOrderService.CreateTestOrdersAsync() in C:\Users\fatih\Desktop\AI\Restorant\Services\TestOrderService.cs:line 119
   at Program.<Main>$(String[] args) in C:\Users\fatih\Desktop\AI\Restorant\Program.cs:line 101
2025-08-24 00:01:54.680 +03:00 [INF] Now listening on: http://localhost:5010
2025-08-24 00:01:54.683 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-24 00:01:54.684 +03:00 [INF] Hosting environment: Development
2025-08-24 00:01:54.684 +03:00 [INF] Content root path: C:\Users\fatih\Desktop\AI\Restorant
2025-08-24 00:01:59.791 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/ - null null
2025-08-24 00:01:59.837 +03:00 [WRN] Failed to determine the https port for redirect.
2025-08-24 00:01:59.879 +03:00 [INF] Executing endpoint '/ (/)'
2025-08-24 00:01:59.958 +03:00 [INF] Executed endpoint '/ (/)'
2025-08-24 00:01:59.963 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/ - 200 null text/html; charset=utf-8 173.3145ms
2025-08-24 00:02:00.030 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/_framework/blazor.web.js - null null
2025-08-24 00:02:00.038 +03:00 [INF] Executing endpoint 'Blazor web static files'
2025-08-24 00:02:00.041 +03:00 [INF] The file /_framework/blazor.web.js was not modified
2025-08-24 00:02:00.043 +03:00 [INF] Executed endpoint 'Blazor web static files'
2025-08-24 00:02:00.044 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/_framework/blazor.web.js - 304 null text/javascript 13.5765ms
2025-08-24 00:02:02.003 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/admin/kitchen - null null
2025-08-24 00:02:02.022 +03:00 [INF] Executing endpoint '/admin/kitchen (/admin/kitchen)'
2025-08-24 00:02:02.152 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice], [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber], [m].[Id], [m].[CreatedAt], [m].[Description], [m].[ImageData], [m].[ImageUrl], [m].[IsAvailable], [m].[MenuId], [m].[Name], [m].[Price], [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[IsActive], [m0].[Name]
FROM [Orders] AS [o]
INNER JOIN [Tables] AS [t] ON [o].[TableId] = [t].[Id]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[Id]
INNER JOIN [Menus] AS [m0] ON [m].[MenuId] = [m0].[Id]
WHERE [o].[Status] IN (0, 1, 2)
ORDER BY [o].[OrderDate]
2025-08-24 00:02:02.305 +03:00 [INF] Executed endpoint '/admin/kitchen (/admin/kitchen)'
2025-08-24 00:02:02.310 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/admin/kitchen - 200 null text/html; charset=utf-8 306.2779ms
2025-08-24 00:02:07.115 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/.well-known/appspecific/com.chrome.devtools.json - null null
2025-08-24 00:02:07.119 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/.well-known/appspecific/com.chrome.devtools.json - 404 0 null 4.1872ms
2025-08-24 00:02:07.125 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5010/.well-known/appspecific/com.chrome.devtools.json, Response status code: 404
2025-08-24 00:02:07.294 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/bootstrap/bootstrap.min.css.map - null null
2025-08-24 00:02:07.297 +03:00 [INF] The file /bootstrap/bootstrap.min.css.map was not modified
2025-08-24 00:02:07.298 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/bootstrap/bootstrap.min.css.map - 304 null text/plain 4.3318ms
2025-08-24 00:03:15.937 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/.well-known/appspecific/com.chrome.devtools.json - null null
2025-08-24 00:03:15.941 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/.well-known/appspecific/com.chrome.devtools.json - 404 0 null 3.4457ms
2025-08-24 00:03:15.943 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5010/.well-known/appspecific/com.chrome.devtools.json, Response status code: 404
2025-08-24 00:06:17.189 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/admin/kitchen/table/1 - null null
2025-08-24 00:06:17.198 +03:00 [INF] Executing endpoint '/admin/kitchen/table/{TableNumber:int} (/admin/kitchen/table/{TableNumber:int})'
2025-08-24 00:06:17.304 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice], [m].[Id], [m].[CreatedAt], [m].[Description], [m].[ImageData], [m].[ImageUrl], [m].[IsAvailable], [m].[MenuId], [m].[Name], [m].[Price], [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[IsActive], [m0].[Name], [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Orders] AS [o]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[Id]
INNER JOIN [Menus] AS [m0] ON [m].[MenuId] = [m0].[Id]
INNER JOIN [Tables] AS [t] ON [o].[TableId] = [t].[Id]
WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] IN (0, 1, 2, 3)
ORDER BY [o].[OrderDate]
2025-08-24 00:06:17.469 +03:00 [INF] Executed endpoint '/admin/kitchen/table/{TableNumber:int} (/admin/kitchen/table/{TableNumber:int})'
2025-08-24 00:06:17.470 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/admin/kitchen/table/1 - 200 null text/html; charset=utf-8 281.1144ms
2025-08-24 00:06:17.488 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/_framework/blazor.web.js - null null
2025-08-24 00:06:17.492 +03:00 [INF] Executing endpoint 'Blazor web static files'
2025-08-24 00:06:17.493 +03:00 [INF] The file /_framework/blazor.web.js was not modified
2025-08-24 00:06:17.494 +03:00 [INF] Executed endpoint 'Blazor web static files'
2025-08-24 00:06:17.495 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/_framework/blazor.web.js - 304 null text/javascript 6.6929ms
2025-08-24 00:06:19.433 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/admin/kitchen - null null
2025-08-24 00:06:19.436 +03:00 [INF] Executing endpoint '/admin/kitchen (/admin/kitchen)'
2025-08-24 00:06:19.447 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice], [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber], [m].[Id], [m].[CreatedAt], [m].[Description], [m].[ImageData], [m].[ImageUrl], [m].[IsAvailable], [m].[MenuId], [m].[Name], [m].[Price], [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[IsActive], [m0].[Name]
FROM [Orders] AS [o]
INNER JOIN [Tables] AS [t] ON [o].[TableId] = [t].[Id]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[Id]
INNER JOIN [Menus] AS [m0] ON [m].[MenuId] = [m0].[Id]
WHERE [o].[Status] IN (0, 1, 2)
ORDER BY [o].[OrderDate]
2025-08-24 00:06:19.498 +03:00 [INF] Executed endpoint '/admin/kitchen (/admin/kitchen)'
2025-08-24 00:06:19.499 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/admin/kitchen - 200 null text/html; charset=utf-8 66.6886ms
2025-08-24 00:10:12.920 +03:00 [INF] Application is shutting down...
2025-08-24 00:11:13.612 +03:00 [INF] User profile is available. Using 'C:\Users\fatih\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-24 00:11:14.318 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-24 00:11:14.349 +03:00 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-08-24 00:11:14.569 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-08-24 00:11:14.644 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 00:11:14.687 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 00:11:14.689 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 00:11:14.691 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 00:11:14.694 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 00:11:14.702 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 00:11:14.705 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 00:11:14.794 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 500), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p7='?' (DbType = Int32), @p8='?' (Size = 500), @p9='?' (DbType = DateTime2), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p14='?' (DbType = Int32), @p15='?' (Size = 500), @p16='?' (DbType = DateTime2), @p17='?' (DbType = Int32), @p18='?' (DbType = Int32), @p19='?' (DbType = Int32), @p20='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p21='?' (DbType = Int32), @p22='?' (Size = 500), @p23='?' (DbType = DateTime2), @p24='?' (DbType = Int32), @p25='?' (DbType = Int32), @p26='?' (DbType = Int32), @p27='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p28='?' (DbType = Int32), @p29='?' (Size = 500), @p30='?' (DbType = DateTime2), @p31='?' (DbType = Int32), @p32='?' (DbType = Int32), @p33='?' (DbType = Int32), @p34='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p35='?' (DbType = Int32), @p36='?' (Size = 500), @p37='?' (DbType = DateTime2), @p38='?' (DbType = Int32), @p39='?' (DbType = Int32), @p40='?' (DbType = Int32), @p41='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p42='?' (DbType = Int32), @p43='?' (Size = 500), @p44='?' (DbType = DateTime2), @p45='?' (DbType = Int32), @p46='?' (DbType = Int32), @p47='?' (DbType = Int32), @p48='?' (Precision = 18) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [Orders] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, 0),
(@p7, @p8, @p9, @p10, @p11, @p12, @p13, 1),
(@p14, @p15, @p16, @p17, @p18, @p19, @p20, 2),
(@p21, @p22, @p23, @p24, @p25, @p26, @p27, 3),
(@p28, @p29, @p30, @p31, @p32, @p33, @p34, 4),
(@p35, @p36, @p37, @p38, @p39, @p40, @p41, 5),
(@p42, @p43, @p44, @p45, @p46, @p47, @p48, 6)) AS i ([MenuItemId], [Notes], [OrderDate], [Quantity], [Status], [TableId], [TotalPrice], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([MenuItemId], [Notes], [OrderDate], [Quantity], [Status], [TableId], [TotalPrice])
VALUES (i.[MenuItemId], i.[Notes], i.[OrderDate], i.[Quantity], i.[Status], i.[TableId], i.[TotalPrice])
OUTPUT INSERTED.[Id], i._Position;
2025-08-24 00:11:14.810 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'RestaurantOrdering.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The MERGE statement conflicted with the FOREIGN KEY constraint "FK_Orders_MenuItems_MenuItemId". The conflict occurred in database "RestaurantOrderingDb", table "dbo.MenuItems", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:fb540836-7271-401e-aa6f-8ada131c2b52
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The MERGE statement conflicted with the FOREIGN KEY constraint "FK_Orders_MenuItems_MenuItemId". The conflict occurred in database "RestaurantOrderingDb", table "dbo.MenuItems", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:fb540836-7271-401e-aa6f-8ada131c2b52
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-24 00:11:14.818 +03:00 [ERR] An error occurred creating the DB.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The MERGE statement conflicted with the FOREIGN KEY constraint "FK_Orders_MenuItems_MenuItemId". The conflict occurred in database "RestaurantOrderingDb", table "dbo.MenuItems", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:fb540836-7271-401e-aa6f-8ada131c2b52
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at RestaurantOrdering.Services.TestOrderService.CreateTestOrdersAsync() in C:\Users\fatih\Desktop\AI\Restorant\Services\TestOrderService.cs:line 119
   at Program.<Main>$(String[] args) in C:\Users\fatih\Desktop\AI\Restorant\Program.cs:line 101
2025-08-24 00:11:14.913 +03:00 [INF] Now listening on: http://localhost:5010
2025-08-24 00:11:14.917 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-24 00:11:14.918 +03:00 [INF] Hosting environment: Development
2025-08-24 00:11:14.918 +03:00 [INF] Content root path: C:\Users\fatih\Desktop\AI\Restorant
2025-08-24 00:11:17.082 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/ - null null
2025-08-24 00:11:17.135 +03:00 [WRN] Failed to determine the https port for redirect.
2025-08-24 00:11:17.235 +03:00 [INF] Executing endpoint '/ (/)'
2025-08-24 00:11:17.341 +03:00 [INF] Executed endpoint '/ (/)'
2025-08-24 00:11:17.347 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/ - 200 null text/html; charset=utf-8 267.6541ms
2025-08-24 00:11:17.370 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/_framework/blazor.web.js - null null
2025-08-24 00:11:17.381 +03:00 [INF] Executing endpoint 'Blazor web static files'
2025-08-24 00:11:17.385 +03:00 [INF] The file /_framework/blazor.web.js was not modified
2025-08-24 00:11:17.387 +03:00 [INF] Executed endpoint 'Blazor web static files'
2025-08-24 00:11:17.390 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/_framework/blazor.web.js - 304 null text/javascript 19.4238ms
2025-08-24 00:11:25.434 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/admin/kitchen - null null
2025-08-24 00:11:25.458 +03:00 [INF] Executing endpoint '/admin/kitchen (/admin/kitchen)'
2025-08-24 00:11:25.621 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice], [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber], [m].[Id], [m].[CreatedAt], [m].[Description], [m].[ImageData], [m].[ImageUrl], [m].[IsAvailable], [m].[MenuId], [m].[Name], [m].[Price], [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[IsActive], [m0].[Name]
FROM [Orders] AS [o]
INNER JOIN [Tables] AS [t] ON [o].[TableId] = [t].[Id]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[Id]
INNER JOIN [Menus] AS [m0] ON [m].[MenuId] = [m0].[Id]
WHERE [o].[Status] IN (0, 1, 2)
ORDER BY [o].[OrderDate]
2025-08-24 00:11:25.846 +03:00 [INF] Executed endpoint '/admin/kitchen (/admin/kitchen)'
2025-08-24 00:11:25.852 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/admin/kitchen - 200 null text/html; charset=utf-8 417.9218ms
2025-08-24 00:11:25.906 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/_blazor/initializers - null null
2025-08-24 00:11:25.909 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 00:11:25.915 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 00:11:25.917 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/_blazor/initializers - 200 null application/json; charset=utf-8 10.6936ms
2025-08-24 00:11:25.924 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5010/_blazor/negotiate?negotiateVersion=1 - null 0
2025-08-24 00:11:25.929 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 00:11:25.944 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 00:11:25.946 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5010/_blazor/negotiate?negotiateVersion=1 - 200 316 application/json 22.2207ms
2025-08-24 00:11:25.948 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/_blazor?id=XIC0NW2E6jvXsIzR9FeLQg - null null
2025-08-24 00:11:25.953 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 00:11:26.170 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice], [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber], [m].[Id], [m].[CreatedAt], [m].[Description], [m].[ImageData], [m].[ImageUrl], [m].[IsAvailable], [m].[MenuId], [m].[Name], [m].[Price], [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[IsActive], [m0].[Name]
FROM [Orders] AS [o]
INNER JOIN [Tables] AS [t] ON [o].[TableId] = [t].[Id]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[Id]
INNER JOIN [Menus] AS [m0] ON [m].[MenuId] = [m0].[Id]
WHERE [o].[Status] IN (0, 1, 2)
ORDER BY [o].[OrderDate]
2025-08-24 00:11:27.896 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/admin/kitchen/table/1 - null null
2025-08-24 00:11:27.903 +03:00 [INF] Executing endpoint '/admin/kitchen/table/{TableNumber:int} (/admin/kitchen/table/{TableNumber:int})'
2025-08-24 00:11:27.939 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice], [m].[Id], [m].[CreatedAt], [m].[Description], [m].[ImageData], [m].[ImageUrl], [m].[IsAvailable], [m].[MenuId], [m].[Name], [m].[Price], [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[IsActive], [m0].[Name], [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Orders] AS [o]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[Id]
INNER JOIN [Menus] AS [m0] ON [m].[MenuId] = [m0].[Id]
INNER JOIN [Tables] AS [t] ON [o].[TableId] = [t].[Id]
WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] IN (0, 1, 2, 3)
ORDER BY [o].[OrderDate]
2025-08-24 00:11:28.053 +03:00 [INF] Executed endpoint '/admin/kitchen/table/{TableNumber:int} (/admin/kitchen/table/{TableNumber:int})'
2025-08-24 00:11:28.054 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/admin/kitchen/table/1 - 200 null text/html; charset=utf-8 158.0396ms
2025-08-24 00:11:30.085 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5010/_blazor/disconnect - multipart/form-data; boundary=----WebKitFormBoundaryLN8eSaMMNbPd6tWX 359
2025-08-24 00:11:30.089 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 00:11:30.093 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 00:11:30.094 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/_blazor?id=XIC0NW2E6jvXsIzR9FeLQg - 101 null null 4145.9787ms
2025-08-24 00:11:30.103 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 00:11:30.104 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5010/_blazor/disconnect - 200 0 null 19.0426ms
2025-08-24 00:11:50.752 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/admin/orders - null null
2025-08-24 00:11:50.757 +03:00 [INF] Executing endpoint '/admin/orders (/admin/orders)'
2025-08-24 00:11:50.793 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[IsActive] = CAST(1 AS bit)
ORDER BY [t].[TableNumber]
2025-08-24 00:11:50.878 +03:00 [INF] Executed DbCommand (42ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[TableId], [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[Status] IN (0, 1, 2, 3)
ORDER BY [o].[TableId]
2025-08-24 00:11:50.893 +03:00 [INF] Executed endpoint '/admin/orders (/admin/orders)'
2025-08-24 00:11:50.897 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/admin/orders - 200 null text/html; charset=utf-8 144.9653ms
2025-08-24 00:11:50.934 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5010/_blazor/negotiate?negotiateVersion=1 - null 0
2025-08-24 00:11:50.938 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 00:11:50.940 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 00:11:50.942 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5010/_blazor/negotiate?negotiateVersion=1 - 200 316 application/json 7.3957ms
2025-08-24 00:11:50.950 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/_blazor?id=T9r1QuukeDyXFgkH69tj5Q - null null
2025-08-24 00:11:50.954 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 00:11:50.972 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[IsActive] = CAST(1 AS bit)
ORDER BY [t].[TableNumber]
2025-08-24 00:11:50.978 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[TableId], [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[Status] IN (0, 1, 2, 3)
ORDER BY [o].[TableId]
2025-08-24 00:11:53.428 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/menu?table=1&category=Ana%20Yemekler - null null
2025-08-24 00:11:53.432 +03:00 [INF] Executing endpoint '/menu (/menu)'
2025-08-24 00:11:53.448 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__tableNumber_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[TableNumber] = @__tableNumber_0
2025-08-24 00:11:53.534 +03:00 [INF] Executed DbCommand (44ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 00:11:53.595 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 00:11:53.663 +03:00 [INF] Executed endpoint '/menu (/menu)'
2025-08-24 00:11:53.665 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/menu?table=1&category=Ana%20Yemekler - 200 null text/html; charset=utf-8 237.4273ms
2025-08-24 00:11:53.707 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__tableNumber_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[TableNumber] = @__tableNumber_0
2025-08-24 00:11:53.710 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 00:11:53.741 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 00:15:10.094 +03:00 [INF] Application is shutting down...
2025-08-24 00:15:10.094 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 00:15:10.097 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/_blazor?id=T9r1QuukeDyXFgkH69tj5Q - 101 null null 199146.3817ms
2025-08-24 00:18:26.917 +03:00 [INF] User profile is available. Using 'C:\Users\fatih\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-24 00:18:27.696 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-24 00:18:27.752 +03:00 [INF] Executed DbCommand (48ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-08-24 00:18:28.011 +03:00 [INF] Executed DbCommand (33ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-08-24 00:18:28.111 +03:00 [INF] Executed DbCommand (32ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 00:18:28.149 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 00:18:28.152 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 00:18:28.153 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 00:18:28.155 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 00:18:28.157 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 00:18:28.159 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 00:18:28.258 +03:00 [INF] Executed DbCommand (32ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 500), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p7='?' (DbType = Int32), @p8='?' (Size = 500), @p9='?' (DbType = DateTime2), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p14='?' (DbType = Int32), @p15='?' (Size = 500), @p16='?' (DbType = DateTime2), @p17='?' (DbType = Int32), @p18='?' (DbType = Int32), @p19='?' (DbType = Int32), @p20='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p21='?' (DbType = Int32), @p22='?' (Size = 500), @p23='?' (DbType = DateTime2), @p24='?' (DbType = Int32), @p25='?' (DbType = Int32), @p26='?' (DbType = Int32), @p27='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p28='?' (DbType = Int32), @p29='?' (Size = 500), @p30='?' (DbType = DateTime2), @p31='?' (DbType = Int32), @p32='?' (DbType = Int32), @p33='?' (DbType = Int32), @p34='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p35='?' (DbType = Int32), @p36='?' (Size = 500), @p37='?' (DbType = DateTime2), @p38='?' (DbType = Int32), @p39='?' (DbType = Int32), @p40='?' (DbType = Int32), @p41='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p42='?' (DbType = Int32), @p43='?' (Size = 500), @p44='?' (DbType = DateTime2), @p45='?' (DbType = Int32), @p46='?' (DbType = Int32), @p47='?' (DbType = Int32), @p48='?' (Precision = 18) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [Orders] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, 0),
(@p7, @p8, @p9, @p10, @p11, @p12, @p13, 1),
(@p14, @p15, @p16, @p17, @p18, @p19, @p20, 2),
(@p21, @p22, @p23, @p24, @p25, @p26, @p27, 3),
(@p28, @p29, @p30, @p31, @p32, @p33, @p34, 4),
(@p35, @p36, @p37, @p38, @p39, @p40, @p41, 5),
(@p42, @p43, @p44, @p45, @p46, @p47, @p48, 6)) AS i ([MenuItemId], [Notes], [OrderDate], [Quantity], [Status], [TableId], [TotalPrice], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([MenuItemId], [Notes], [OrderDate], [Quantity], [Status], [TableId], [TotalPrice])
VALUES (i.[MenuItemId], i.[Notes], i.[OrderDate], i.[Quantity], i.[Status], i.[TableId], i.[TotalPrice])
OUTPUT INSERTED.[Id], i._Position;
2025-08-24 00:18:28.275 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'RestaurantOrdering.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The MERGE statement conflicted with the FOREIGN KEY constraint "FK_Orders_MenuItems_MenuItemId". The conflict occurred in database "RestaurantOrderingDb", table "dbo.MenuItems", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:a255088b-3c51-4a36-bbdf-366146c6a9d1
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The MERGE statement conflicted with the FOREIGN KEY constraint "FK_Orders_MenuItems_MenuItemId". The conflict occurred in database "RestaurantOrderingDb", table "dbo.MenuItems", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:a255088b-3c51-4a36-bbdf-366146c6a9d1
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-24 00:18:28.282 +03:00 [ERR] An error occurred creating the DB.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The MERGE statement conflicted with the FOREIGN KEY constraint "FK_Orders_MenuItems_MenuItemId". The conflict occurred in database "RestaurantOrderingDb", table "dbo.MenuItems", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:a255088b-3c51-4a36-bbdf-366146c6a9d1
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at RestaurantOrdering.Services.TestOrderService.CreateTestOrdersAsync() in C:\Users\fatih\Desktop\AI\Restorant\Services\TestOrderService.cs:line 119
   at Program.<Main>$(String[] args) in C:\Users\fatih\Desktop\AI\Restorant\Program.cs:line 101
2025-08-24 00:18:28.371 +03:00 [INF] Now listening on: http://localhost:5010
2025-08-24 00:18:28.374 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-24 00:18:28.375 +03:00 [INF] Hosting environment: Development
2025-08-24 00:18:28.375 +03:00 [INF] Content root path: C:\Users\fatih\Desktop\AI\Restorant
2025-08-24 00:18:33.074 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/ - null null
2025-08-24 00:18:33.079 +03:00 [WRN] Failed to determine the https port for redirect.
2025-08-24 00:18:33.127 +03:00 [INF] Executing endpoint '/ (/)'
2025-08-24 00:18:33.210 +03:00 [INF] Executed endpoint '/ (/)'
2025-08-24 00:18:33.213 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/ - 200 null text/html; charset=utf-8 141.6207ms
2025-08-24 00:18:33.225 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/_framework/blazor.web.js - null null
2025-08-24 00:18:33.232 +03:00 [INF] Executing endpoint 'Blazor web static files'
2025-08-24 00:18:33.236 +03:00 [INF] The file /_framework/blazor.web.js was not modified
2025-08-24 00:18:33.237 +03:00 [INF] Executed endpoint 'Blazor web static files'
2025-08-24 00:18:33.238 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/_framework/blazor.web.js - 304 null text/javascript 13.8429ms
2025-08-24 00:18:37.679 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/menu?table=1&category=Ana%20Yemekler - null null
2025-08-24 00:18:37.695 +03:00 [INF] Executing endpoint '/menu (/menu)'
2025-08-24 00:18:37.731 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__tableNumber_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[TableNumber] = @__tableNumber_0
2025-08-24 00:18:37.868 +03:00 [INF] Executed DbCommand (28ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 00:18:37.999 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 00:18:38.187 +03:00 [INF] Executed endpoint '/menu (/menu)'
2025-08-24 00:18:38.193 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/menu?table=1&category=Ana%20Yemekler - 200 null text/html; charset=utf-8 514.1489ms
2025-08-24 00:18:38.230 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/_blazor/initializers - null null
2025-08-24 00:18:38.234 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 00:18:38.240 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 00:18:38.242 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/_blazor/initializers - 200 null application/json; charset=utf-8 11.6717ms
2025-08-24 00:18:38.249 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5010/_blazor/negotiate?negotiateVersion=1 - null 0
2025-08-24 00:18:38.254 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 00:18:38.263 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 00:18:38.264 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5010/_blazor/negotiate?negotiateVersion=1 - 200 316 application/json 15.0821ms
2025-08-24 00:18:38.267 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/_blazor?id=FGstZUKckfuz-xm0N63lyA - null null
2025-08-24 00:18:38.272 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 00:18:38.476 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__tableNumber_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[TableNumber] = @__tableNumber_0
2025-08-24 00:18:38.482 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 00:18:38.589 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 00:18:40.163 +03:00 [WRN] Unhandled exception rendering component: The given key '39' was not present in the dictionary.
System.Collections.Generic.KeyNotFoundException: The given key '39' was not present in the dictionary.
   at System.Collections.Generic.Dictionary`2.get_Item(TKey key)
   at RestaurantOrdering.Components.Pages.Menu.BuildRenderTree(RenderTreeBuilder __builder) in C:\Users\fatih\Desktop\AI\Restorant\Components\Pages\Menu.razor:line 193
   at Microsoft.AspNetCore.Components.Rendering.ComponentState.RenderIntoBatch(RenderBatchBuilder batchBuilder, RenderFragment renderFragment, Exception& renderFragmentException)
2025-08-24 00:18:40.172 +03:00 [ERR] Unhandled exception in circuit 'sx8keGzA-KbAef1qoLgloO69HiH1Eb5rpbpCCG2qNg8'.
System.Collections.Generic.KeyNotFoundException: The given key '39' was not present in the dictionary.
   at System.Collections.Generic.Dictionary`2.get_Item(TKey key)
   at RestaurantOrdering.Components.Pages.Menu.BuildRenderTree(RenderTreeBuilder __builder) in C:\Users\fatih\Desktop\AI\Restorant\Components\Pages\Menu.razor:line 193
   at Microsoft.AspNetCore.Components.Rendering.ComponentState.RenderIntoBatch(RenderBatchBuilder batchBuilder, RenderFragment renderFragment, Exception& renderFragmentException)
2025-08-24 00:18:40.184 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 00:18:40.186 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/_blazor?id=FGstZUKckfuz-xm0N63lyA - 101 null null 1918.8638ms
2025-08-24 00:18:44.411 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/.well-known/appspecific/com.chrome.devtools.json - null null
2025-08-24 00:18:44.416 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/.well-known/appspecific/com.chrome.devtools.json - 404 0 null 4.6135ms
2025-08-24 00:18:44.422 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5010/.well-known/appspecific/com.chrome.devtools.json, Response status code: 404
2025-08-24 00:20:45.723 +03:00 [INF] Application is shutting down...
2025-08-24 00:21:14.006 +03:00 [INF] User profile is available. Using 'C:\Users\fatih\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-24 00:21:14.740 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-24 00:21:14.804 +03:00 [INF] Executed DbCommand (55ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-08-24 00:21:15.043 +03:00 [INF] Executed DbCommand (32ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-08-24 00:21:15.146 +03:00 [INF] Executed DbCommand (34ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 00:21:15.186 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 00:21:15.189 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 00:21:15.191 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 00:21:15.193 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 00:21:15.194 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 00:21:15.197 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 00:21:15.298 +03:00 [INF] Executed DbCommand (32ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 500), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p7='?' (DbType = Int32), @p8='?' (Size = 500), @p9='?' (DbType = DateTime2), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p14='?' (DbType = Int32), @p15='?' (Size = 500), @p16='?' (DbType = DateTime2), @p17='?' (DbType = Int32), @p18='?' (DbType = Int32), @p19='?' (DbType = Int32), @p20='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p21='?' (DbType = Int32), @p22='?' (Size = 500), @p23='?' (DbType = DateTime2), @p24='?' (DbType = Int32), @p25='?' (DbType = Int32), @p26='?' (DbType = Int32), @p27='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p28='?' (DbType = Int32), @p29='?' (Size = 500), @p30='?' (DbType = DateTime2), @p31='?' (DbType = Int32), @p32='?' (DbType = Int32), @p33='?' (DbType = Int32), @p34='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p35='?' (DbType = Int32), @p36='?' (Size = 500), @p37='?' (DbType = DateTime2), @p38='?' (DbType = Int32), @p39='?' (DbType = Int32), @p40='?' (DbType = Int32), @p41='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p42='?' (DbType = Int32), @p43='?' (Size = 500), @p44='?' (DbType = DateTime2), @p45='?' (DbType = Int32), @p46='?' (DbType = Int32), @p47='?' (DbType = Int32), @p48='?' (Precision = 18) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [Orders] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, 0),
(@p7, @p8, @p9, @p10, @p11, @p12, @p13, 1),
(@p14, @p15, @p16, @p17, @p18, @p19, @p20, 2),
(@p21, @p22, @p23, @p24, @p25, @p26, @p27, 3),
(@p28, @p29, @p30, @p31, @p32, @p33, @p34, 4),
(@p35, @p36, @p37, @p38, @p39, @p40, @p41, 5),
(@p42, @p43, @p44, @p45, @p46, @p47, @p48, 6)) AS i ([MenuItemId], [Notes], [OrderDate], [Quantity], [Status], [TableId], [TotalPrice], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([MenuItemId], [Notes], [OrderDate], [Quantity], [Status], [TableId], [TotalPrice])
VALUES (i.[MenuItemId], i.[Notes], i.[OrderDate], i.[Quantity], i.[Status], i.[TableId], i.[TotalPrice])
OUTPUT INSERTED.[Id], i._Position;
2025-08-24 00:21:15.315 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'RestaurantOrdering.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The MERGE statement conflicted with the FOREIGN KEY constraint "FK_Orders_MenuItems_MenuItemId". The conflict occurred in database "RestaurantOrderingDb", table "dbo.MenuItems", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:7e203b51-1666-41be-81f1-3cbbeab19c9f
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The MERGE statement conflicted with the FOREIGN KEY constraint "FK_Orders_MenuItems_MenuItemId". The conflict occurred in database "RestaurantOrderingDb", table "dbo.MenuItems", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:7e203b51-1666-41be-81f1-3cbbeab19c9f
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-24 00:21:15.322 +03:00 [ERR] An error occurred creating the DB.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The MERGE statement conflicted with the FOREIGN KEY constraint "FK_Orders_MenuItems_MenuItemId". The conflict occurred in database "RestaurantOrderingDb", table "dbo.MenuItems", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:7e203b51-1666-41be-81f1-3cbbeab19c9f
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at RestaurantOrdering.Services.TestOrderService.CreateTestOrdersAsync() in C:\Users\fatih\Desktop\AI\Restorant\Services\TestOrderService.cs:line 119
   at Program.<Main>$(String[] args) in C:\Users\fatih\Desktop\AI\Restorant\Program.cs:line 101
2025-08-24 00:21:15.415 +03:00 [INF] Now listening on: http://localhost:5010
2025-08-24 00:21:15.419 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-24 00:21:15.419 +03:00 [INF] Hosting environment: Development
2025-08-24 00:21:15.420 +03:00 [INF] Content root path: C:\Users\fatih\Desktop\AI\Restorant
2025-08-24 00:21:17.815 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/ - null null
2025-08-24 00:21:17.822 +03:00 [WRN] Failed to determine the https port for redirect.
2025-08-24 00:21:17.873 +03:00 [INF] Executing endpoint '/ (/)'
2025-08-24 00:21:17.976 +03:00 [INF] Executed endpoint '/ (/)'
2025-08-24 00:21:17.981 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/ - 200 null text/html; charset=utf-8 167.9649ms
2025-08-24 00:21:18.002 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/_framework/blazor.web.js - null null
2025-08-24 00:21:18.011 +03:00 [INF] Executing endpoint 'Blazor web static files'
2025-08-24 00:21:18.017 +03:00 [INF] The file /_framework/blazor.web.js was not modified
2025-08-24 00:21:18.019 +03:00 [INF] Executed endpoint 'Blazor web static files'
2025-08-24 00:21:18.020 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/_framework/blazor.web.js - 304 null text/javascript 18.2807ms
2025-08-24 00:21:22.701 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/menu?table=1&category=Ana%20Yemekler - null null
2025-08-24 00:21:22.716 +03:00 [INF] Executing endpoint '/menu (/menu)'
2025-08-24 00:21:22.777 +03:00 [INF] Executed DbCommand (24ms) [Parameters=[@__tableNumber_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[TableNumber] = @__tableNumber_0
2025-08-24 00:21:22.913 +03:00 [INF] Executed DbCommand (29ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 00:21:23.027 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 00:21:23.176 +03:00 [INF] Executed endpoint '/menu (/menu)'
2025-08-24 00:21:23.180 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/menu?table=1&category=Ana%20Yemekler - 200 null text/html; charset=utf-8 479.3177ms
2025-08-24 00:21:23.222 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/_blazor/initializers - null null
2025-08-24 00:21:23.224 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 00:21:23.229 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 00:21:23.231 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/_blazor/initializers - 200 null application/json; charset=utf-8 9.0972ms
2025-08-24 00:21:23.237 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5010/_blazor/negotiate?negotiateVersion=1 - null 0
2025-08-24 00:21:23.242 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 00:21:23.249 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 00:21:23.250 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5010/_blazor/negotiate?negotiateVersion=1 - 200 316 application/json 13.0772ms
2025-08-24 00:21:23.255 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/_blazor?id=vS6zr96UhczWl-HKu52WlQ - null null
2025-08-24 00:21:23.258 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 00:21:23.438 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__tableNumber_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[TableNumber] = @__tableNumber_0
2025-08-24 00:21:23.445 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 00:21:23.567 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 00:22:46.395 +03:00 [INF] Application is shutting down...
2025-08-24 00:22:46.395 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 00:22:46.396 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/_blazor?id=vS6zr96UhczWl-HKu52WlQ - 101 null null 83141.3976ms
2025-08-24 00:27:34.933 +03:00 [INF] User profile is available. Using 'C:\Users\fatih\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-24 00:27:35.722 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-24 00:27:35.770 +03:00 [INF] Executed DbCommand (41ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-08-24 00:27:36.017 +03:00 [INF] Executed DbCommand (34ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-08-24 00:27:36.115 +03:00 [INF] Executed DbCommand (32ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 00:27:36.150 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 00:27:36.153 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 00:27:36.155 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 00:27:36.157 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 00:27:36.158 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 00:27:36.160 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 00:27:36.263 +03:00 [INF] Executed DbCommand (31ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 500), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p7='?' (DbType = Int32), @p8='?' (Size = 500), @p9='?' (DbType = DateTime2), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p14='?' (DbType = Int32), @p15='?' (Size = 500), @p16='?' (DbType = DateTime2), @p17='?' (DbType = Int32), @p18='?' (DbType = Int32), @p19='?' (DbType = Int32), @p20='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p21='?' (DbType = Int32), @p22='?' (Size = 500), @p23='?' (DbType = DateTime2), @p24='?' (DbType = Int32), @p25='?' (DbType = Int32), @p26='?' (DbType = Int32), @p27='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p28='?' (DbType = Int32), @p29='?' (Size = 500), @p30='?' (DbType = DateTime2), @p31='?' (DbType = Int32), @p32='?' (DbType = Int32), @p33='?' (DbType = Int32), @p34='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p35='?' (DbType = Int32), @p36='?' (Size = 500), @p37='?' (DbType = DateTime2), @p38='?' (DbType = Int32), @p39='?' (DbType = Int32), @p40='?' (DbType = Int32), @p41='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p42='?' (DbType = Int32), @p43='?' (Size = 500), @p44='?' (DbType = DateTime2), @p45='?' (DbType = Int32), @p46='?' (DbType = Int32), @p47='?' (DbType = Int32), @p48='?' (Precision = 18) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [Orders] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, 0),
(@p7, @p8, @p9, @p10, @p11, @p12, @p13, 1),
(@p14, @p15, @p16, @p17, @p18, @p19, @p20, 2),
(@p21, @p22, @p23, @p24, @p25, @p26, @p27, 3),
(@p28, @p29, @p30, @p31, @p32, @p33, @p34, 4),
(@p35, @p36, @p37, @p38, @p39, @p40, @p41, 5),
(@p42, @p43, @p44, @p45, @p46, @p47, @p48, 6)) AS i ([MenuItemId], [Notes], [OrderDate], [Quantity], [Status], [TableId], [TotalPrice], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([MenuItemId], [Notes], [OrderDate], [Quantity], [Status], [TableId], [TotalPrice])
VALUES (i.[MenuItemId], i.[Notes], i.[OrderDate], i.[Quantity], i.[Status], i.[TableId], i.[TotalPrice])
OUTPUT INSERTED.[Id], i._Position;
2025-08-24 00:27:36.280 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'RestaurantOrdering.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The MERGE statement conflicted with the FOREIGN KEY constraint "FK_Orders_MenuItems_MenuItemId". The conflict occurred in database "RestaurantOrderingDb", table "dbo.MenuItems", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:58c918eb-06f8-4ff3-831c-1ab60cb8a5a7
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The MERGE statement conflicted with the FOREIGN KEY constraint "FK_Orders_MenuItems_MenuItemId". The conflict occurred in database "RestaurantOrderingDb", table "dbo.MenuItems", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:58c918eb-06f8-4ff3-831c-1ab60cb8a5a7
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-24 00:27:36.287 +03:00 [ERR] An error occurred creating the DB.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The MERGE statement conflicted with the FOREIGN KEY constraint "FK_Orders_MenuItems_MenuItemId". The conflict occurred in database "RestaurantOrderingDb", table "dbo.MenuItems", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:58c918eb-06f8-4ff3-831c-1ab60cb8a5a7
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at RestaurantOrdering.Services.TestOrderService.CreateTestOrdersAsync() in C:\Users\fatih\Desktop\AI\Restorant\Services\TestOrderService.cs:line 119
   at Program.<Main>$(String[] args) in C:\Users\fatih\Desktop\AI\Restorant\Program.cs:line 101
2025-08-24 00:27:36.377 +03:00 [INF] Now listening on: http://localhost:5010
2025-08-24 00:27:36.380 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-24 00:27:36.381 +03:00 [INF] Hosting environment: Development
2025-08-24 00:27:36.381 +03:00 [INF] Content root path: C:\Users\fatih\Desktop\AI\Restorant
2025-08-24 00:27:40.241 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/ - null null
2025-08-24 00:27:40.251 +03:00 [WRN] Failed to determine the https port for redirect.
2025-08-24 00:27:40.312 +03:00 [INF] Executing endpoint '/ (/)'
2025-08-24 00:27:40.499 +03:00 [INF] Executed endpoint '/ (/)'
2025-08-24 00:27:40.506 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/ - 200 null text/html; charset=utf-8 268.4819ms
2025-08-24 00:27:40.525 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/_framework/blazor.web.js - null null
2025-08-24 00:27:40.534 +03:00 [INF] Executing endpoint 'Blazor web static files'
2025-08-24 00:27:40.540 +03:00 [INF] The file /_framework/blazor.web.js was not modified
2025-08-24 00:27:40.543 +03:00 [INF] Executed endpoint 'Blazor web static files'
2025-08-24 00:27:40.544 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/_framework/blazor.web.js - 304 null text/javascript 19.692ms
2025-08-24 00:27:44.577 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/menu?table=1&category=Ana%20Yemekler - null null
2025-08-24 00:27:44.593 +03:00 [INF] Executing endpoint '/menu (/menu)'
2025-08-24 00:27:44.653 +03:00 [INF] Executed DbCommand (24ms) [Parameters=[@__tableNumber_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[TableNumber] = @__tableNumber_0
2025-08-24 00:27:44.789 +03:00 [INF] Executed DbCommand (29ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 00:27:44.908 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 00:27:45.061 +03:00 [INF] Executed endpoint '/menu (/menu)'
2025-08-24 00:27:45.065 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/menu?table=1&category=Ana%20Yemekler - 200 null text/html; charset=utf-8 487.9666ms
2025-08-24 00:27:45.116 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/_blazor/initializers - null null
2025-08-24 00:27:45.119 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 00:27:45.124 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 00:27:45.126 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/_blazor/initializers - 200 null application/json; charset=utf-8 9.4469ms
2025-08-24 00:27:45.138 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5010/_blazor/negotiate?negotiateVersion=1 - null 0
2025-08-24 00:27:45.142 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 00:27:45.152 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 00:27:45.154 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5010/_blazor/negotiate?negotiateVersion=1 - 200 316 application/json 15.4063ms
2025-08-24 00:27:45.157 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/_blazor?id=I70Bl97-jhHYG-3OOx7-4A - null null
2025-08-24 00:27:45.160 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 00:27:45.369 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__tableNumber_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[TableNumber] = @__tableNumber_0
2025-08-24 00:27:45.375 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 00:27:45.475 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 00:28:45.330 +03:00 [INF] Application is shutting down...
2025-08-24 00:28:45.331 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 00:28:45.332 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/_blazor?id=I70Bl97-jhHYG-3OOx7-4A - 101 null null 60175.0814ms
2025-08-24 00:33:34.276 +03:00 [INF] User profile is available. Using 'C:\Users\fatih\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-24 00:33:35.078 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-24 00:33:35.153 +03:00 [INF] Executed DbCommand (63ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-08-24 00:33:35.407 +03:00 [INF] Executed DbCommand (34ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-08-24 00:33:35.507 +03:00 [INF] Executed DbCommand (32ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 00:33:35.548 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 00:33:35.552 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 00:33:35.554 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 00:33:35.556 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 00:33:35.557 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 00:33:35.559 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 00:33:35.668 +03:00 [INF] Executed DbCommand (32ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 500), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p7='?' (DbType = Int32), @p8='?' (Size = 500), @p9='?' (DbType = DateTime2), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p14='?' (DbType = Int32), @p15='?' (Size = 500), @p16='?' (DbType = DateTime2), @p17='?' (DbType = Int32), @p18='?' (DbType = Int32), @p19='?' (DbType = Int32), @p20='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p21='?' (DbType = Int32), @p22='?' (Size = 500), @p23='?' (DbType = DateTime2), @p24='?' (DbType = Int32), @p25='?' (DbType = Int32), @p26='?' (DbType = Int32), @p27='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p28='?' (DbType = Int32), @p29='?' (Size = 500), @p30='?' (DbType = DateTime2), @p31='?' (DbType = Int32), @p32='?' (DbType = Int32), @p33='?' (DbType = Int32), @p34='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p35='?' (DbType = Int32), @p36='?' (Size = 500), @p37='?' (DbType = DateTime2), @p38='?' (DbType = Int32), @p39='?' (DbType = Int32), @p40='?' (DbType = Int32), @p41='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p42='?' (DbType = Int32), @p43='?' (Size = 500), @p44='?' (DbType = DateTime2), @p45='?' (DbType = Int32), @p46='?' (DbType = Int32), @p47='?' (DbType = Int32), @p48='?' (Precision = 18) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [Orders] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, 0),
(@p7, @p8, @p9, @p10, @p11, @p12, @p13, 1),
(@p14, @p15, @p16, @p17, @p18, @p19, @p20, 2),
(@p21, @p22, @p23, @p24, @p25, @p26, @p27, 3),
(@p28, @p29, @p30, @p31, @p32, @p33, @p34, 4),
(@p35, @p36, @p37, @p38, @p39, @p40, @p41, 5),
(@p42, @p43, @p44, @p45, @p46, @p47, @p48, 6)) AS i ([MenuItemId], [Notes], [OrderDate], [Quantity], [Status], [TableId], [TotalPrice], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([MenuItemId], [Notes], [OrderDate], [Quantity], [Status], [TableId], [TotalPrice])
VALUES (i.[MenuItemId], i.[Notes], i.[OrderDate], i.[Quantity], i.[Status], i.[TableId], i.[TotalPrice])
OUTPUT INSERTED.[Id], i._Position;
2025-08-24 00:33:35.707 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'RestaurantOrdering.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The MERGE statement conflicted with the FOREIGN KEY constraint "FK_Orders_MenuItems_MenuItemId". The conflict occurred in database "RestaurantOrderingDb", table "dbo.MenuItems", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:c7a0e07e-d4a8-4c63-ba7f-4652d7a841d1
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The MERGE statement conflicted with the FOREIGN KEY constraint "FK_Orders_MenuItems_MenuItemId". The conflict occurred in database "RestaurantOrderingDb", table "dbo.MenuItems", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:c7a0e07e-d4a8-4c63-ba7f-4652d7a841d1
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-24 00:33:35.717 +03:00 [ERR] An error occurred creating the DB.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The MERGE statement conflicted with the FOREIGN KEY constraint "FK_Orders_MenuItems_MenuItemId". The conflict occurred in database "RestaurantOrderingDb", table "dbo.MenuItems", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:c7a0e07e-d4a8-4c63-ba7f-4652d7a841d1
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at RestaurantOrdering.Services.TestOrderService.CreateTestOrdersAsync() in C:\Users\fatih\Desktop\AI\Restorant\Services\TestOrderService.cs:line 119
   at Program.<Main>$(String[] args) in C:\Users\fatih\Desktop\AI\Restorant\Program.cs:line 101
2025-08-24 00:33:35.814 +03:00 [INF] Now listening on: http://localhost:5010
2025-08-24 00:33:35.817 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-24 00:33:35.818 +03:00 [INF] Hosting environment: Development
2025-08-24 00:33:35.819 +03:00 [INF] Content root path: C:\Users\fatih\Desktop\AI\Restorant
2025-08-24 00:33:38.474 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/ - null null
2025-08-24 00:33:38.481 +03:00 [WRN] Failed to determine the https port for redirect.
2025-08-24 00:33:38.615 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-08-24 00:33:38.656 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-08-24 00:33:38.664 +03:00 [INF] Executing endpoint '/ (/)'
2025-08-24 00:33:38.752 +03:00 [INF] Executed endpoint '/ (/)'
2025-08-24 00:33:38.758 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/ - 200 null text/html; charset=utf-8 285.9793ms
2025-08-24 00:33:38.774 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/_framework/blazor.web.js - null null
2025-08-24 00:33:38.782 +03:00 [INF] Executing endpoint 'Blazor web static files'
2025-08-24 00:33:38.786 +03:00 [INF] The file /_framework/blazor.web.js was not modified
2025-08-24 00:33:38.787 +03:00 [INF] Executed endpoint 'Blazor web static files'
2025-08-24 00:33:38.789 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/_framework/blazor.web.js - 304 null text/javascript 14.8836ms
2025-08-24 00:33:41.160 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/menu?table=1&category=Ana%20Yemekler - null null
2025-08-24 00:33:41.172 +03:00 [INF] Executing endpoint '/menu (/menu)'
2025-08-24 00:33:41.259 +03:00 [INF] Executed DbCommand (23ms) [Parameters=[@__tableNumber_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[TableNumber] = @__tableNumber_0
2025-08-24 00:33:41.353 +03:00 [INF] Executed DbCommand (30ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 00:33:41.473 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 00:33:41.594 +03:00 [INF] Executed endpoint '/menu (/menu)'
2025-08-24 00:33:41.596 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/menu?table=1&category=Ana%20Yemekler - 200 null text/html; charset=utf-8 436.3414ms
2025-08-24 00:33:41.648 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/_blazor/initializers - null null
2025-08-24 00:33:41.650 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 00:33:41.654 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 00:33:41.655 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/_blazor/initializers - 200 null application/json; charset=utf-8 7.1747ms
2025-08-24 00:33:41.661 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5010/_blazor/negotiate?negotiateVersion=1 - null 0
2025-08-24 00:33:41.665 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 00:33:41.671 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 00:33:41.672 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5010/_blazor/negotiate?negotiateVersion=1 - 200 316 application/json 10.4416ms
2025-08-24 00:33:41.677 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/_blazor?id=-Di0tWlaOr9AJR5JtYC3Hg - null null
2025-08-24 00:33:41.679 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 00:33:41.807 +03:00 [INF] Executed DbCommand (29ms) [Parameters=[@__tableNumber_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[TableNumber] = @__tableNumber_0
2025-08-24 00:33:41.817 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 00:33:41.902 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 00:34:37.716 +03:00 [INF] Application is shutting down...
2025-08-24 00:34:37.716 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 00:34:37.717 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/_blazor?id=-Di0tWlaOr9AJR5JtYC3Hg - 101 null null 56040.5335ms
2025-08-24 00:35:48.102 +03:00 [INF] User profile is available. Using 'C:\Users\fatih\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-24 00:35:48.871 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-24 00:35:48.927 +03:00 [INF] Executed DbCommand (48ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-08-24 00:35:49.161 +03:00 [INF] Executed DbCommand (32ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-08-24 00:35:49.259 +03:00 [INF] Executed DbCommand (31ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 00:35:49.299 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 00:35:49.302 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 00:35:49.306 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 00:35:49.308 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 00:35:49.310 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 00:35:49.312 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 00:35:49.395 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 500), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p7='?' (DbType = Int32), @p8='?' (Size = 500), @p9='?' (DbType = DateTime2), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p14='?' (DbType = Int32), @p15='?' (Size = 500), @p16='?' (DbType = DateTime2), @p17='?' (DbType = Int32), @p18='?' (DbType = Int32), @p19='?' (DbType = Int32), @p20='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p21='?' (DbType = Int32), @p22='?' (Size = 500), @p23='?' (DbType = DateTime2), @p24='?' (DbType = Int32), @p25='?' (DbType = Int32), @p26='?' (DbType = Int32), @p27='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p28='?' (DbType = Int32), @p29='?' (Size = 500), @p30='?' (DbType = DateTime2), @p31='?' (DbType = Int32), @p32='?' (DbType = Int32), @p33='?' (DbType = Int32), @p34='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p35='?' (DbType = Int32), @p36='?' (Size = 500), @p37='?' (DbType = DateTime2), @p38='?' (DbType = Int32), @p39='?' (DbType = Int32), @p40='?' (DbType = Int32), @p41='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p42='?' (DbType = Int32), @p43='?' (Size = 500), @p44='?' (DbType = DateTime2), @p45='?' (DbType = Int32), @p46='?' (DbType = Int32), @p47='?' (DbType = Int32), @p48='?' (Precision = 18) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [Orders] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, 0),
(@p7, @p8, @p9, @p10, @p11, @p12, @p13, 1),
(@p14, @p15, @p16, @p17, @p18, @p19, @p20, 2),
(@p21, @p22, @p23, @p24, @p25, @p26, @p27, 3),
(@p28, @p29, @p30, @p31, @p32, @p33, @p34, 4),
(@p35, @p36, @p37, @p38, @p39, @p40, @p41, 5),
(@p42, @p43, @p44, @p45, @p46, @p47, @p48, 6)) AS i ([MenuItemId], [Notes], [OrderDate], [Quantity], [Status], [TableId], [TotalPrice], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([MenuItemId], [Notes], [OrderDate], [Quantity], [Status], [TableId], [TotalPrice])
VALUES (i.[MenuItemId], i.[Notes], i.[OrderDate], i.[Quantity], i.[Status], i.[TableId], i.[TotalPrice])
OUTPUT INSERTED.[Id], i._Position;
2025-08-24 00:35:49.416 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'RestaurantOrdering.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The MERGE statement conflicted with the FOREIGN KEY constraint "FK_Orders_MenuItems_MenuItemId". The conflict occurred in database "RestaurantOrderingDb", table "dbo.MenuItems", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:faefeba4-f164-4b85-94bb-fdd1543ad9b5
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The MERGE statement conflicted with the FOREIGN KEY constraint "FK_Orders_MenuItems_MenuItemId". The conflict occurred in database "RestaurantOrderingDb", table "dbo.MenuItems", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:faefeba4-f164-4b85-94bb-fdd1543ad9b5
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-24 00:35:49.422 +03:00 [ERR] An error occurred creating the DB.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The MERGE statement conflicted with the FOREIGN KEY constraint "FK_Orders_MenuItems_MenuItemId". The conflict occurred in database "RestaurantOrderingDb", table "dbo.MenuItems", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:faefeba4-f164-4b85-94bb-fdd1543ad9b5
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at RestaurantOrdering.Services.TestOrderService.CreateTestOrdersAsync() in C:\Users\fatih\Desktop\AI\Restorant\Services\TestOrderService.cs:line 119
   at Program.<Main>$(String[] args) in C:\Users\fatih\Desktop\AI\Restorant\Program.cs:line 101
2025-08-24 00:35:49.515 +03:00 [INF] Now listening on: http://localhost:5010
2025-08-24 00:35:49.518 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-24 00:35:49.519 +03:00 [INF] Hosting environment: Development
2025-08-24 00:35:49.520 +03:00 [INF] Content root path: C:\Users\fatih\Desktop\AI\Restorant
2025-08-24 00:35:49.871 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5010/_blazor/negotiate?negotiateVersion=1 - null 0
2025-08-24 00:35:49.879 +03:00 [WRN] Failed to determine the https port for redirect.
2025-08-24 00:35:49.919 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 00:35:49.934 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 00:35:49.937 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5010/_blazor/negotiate?negotiateVersion=1 - 200 316 application/json 66.6357ms
2025-08-24 00:35:49.938 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/_blazor?id=Et6HHaAcJ8BaZsFuP6S3tg - null null
2025-08-24 00:35:49.948 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 00:35:51.507 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/ - null null
2025-08-24 00:35:51.542 +03:00 [INF] Executing endpoint '/ (/)'
2025-08-24 00:35:51.673 +03:00 [INF] Executed endpoint '/ (/)'
2025-08-24 00:35:51.713 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/ - 200 null text/html; charset=utf-8 205.8781ms
2025-08-24 00:35:51.734 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/_framework/blazor.web.js - null null
2025-08-24 00:35:51.737 +03:00 [INF] Executing endpoint 'Blazor web static files'
2025-08-24 00:35:51.742 +03:00 [INF] The file /_framework/blazor.web.js was not modified
2025-08-24 00:35:51.744 +03:00 [INF] Executed endpoint 'Blazor web static files'
2025-08-24 00:35:51.746 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/_framework/blazor.web.js - 304 null text/javascript 12.3909ms
2025-08-24 00:35:54.277 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/menu?table=1&category=Ana%20Yemekler - null null
2025-08-24 00:35:54.281 +03:00 [INF] Executing endpoint '/menu (/menu)'
2025-08-24 00:35:54.342 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[@__tableNumber_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[TableNumber] = @__tableNumber_0
2025-08-24 00:35:54.478 +03:00 [INF] Executed DbCommand (27ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 00:35:54.614 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 00:35:54.791 +03:00 [INF] Executed endpoint '/menu (/menu)'
2025-08-24 00:35:54.795 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/menu?table=1&category=Ana%20Yemekler - 200 null text/html; charset=utf-8 517.6079ms
2025-08-24 00:35:54.842 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/_blazor/initializers - null null
2025-08-24 00:35:54.845 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 00:35:54.850 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 00:35:54.852 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/_blazor/initializers - 200 null application/json; charset=utf-8 9.4078ms
2025-08-24 00:35:54.867 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5010/_blazor/negotiate?negotiateVersion=1 - null 0
2025-08-24 00:35:54.870 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 00:35:54.871 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 00:35:54.872 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5010/_blazor/negotiate?negotiateVersion=1 - 200 316 application/json 5.1426ms
2025-08-24 00:35:54.876 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/_blazor?id=k7btHGIDiZbtDEk1df_pZw - null null
2025-08-24 00:35:54.878 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 00:35:55.054 +03:00 [INF] Executed DbCommand (29ms) [Parameters=[@__tableNumber_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[TableNumber] = @__tableNumber_0
2025-08-24 00:35:55.066 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 00:35:55.180 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 00:36:47.447 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 500), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (Precision = 18) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Orders] ([MenuItemId], [Notes], [OrderDate], [Quantity], [Status], [TableId], [TotalPrice])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-08-24 00:36:47.477 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 500), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (Precision = 18) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Orders] ([MenuItemId], [Notes], [OrderDate], [Quantity], [Status], [TableId], [TotalPrice])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-08-24 00:36:49.942 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/admin/orders - null null
2025-08-24 00:36:49.950 +03:00 [INF] Executing endpoint '/admin/orders (/admin/orders)'
2025-08-24 00:36:49.958 +03:00 [INF] Executed DbCommand (27ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 00:36:50.004 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[IsActive] = CAST(1 AS bit)
ORDER BY [t].[TableNumber]
2025-08-24 00:36:50.102 +03:00 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[TableId], [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[Status] IN (0, 1, 2, 3)
ORDER BY [o].[TableId]
2025-08-24 00:36:50.113 +03:00 [INF] Executed endpoint '/admin/orders (/admin/orders)'
2025-08-24 00:36:50.115 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/admin/orders - 200 null text/html; charset=utf-8 173.3185ms
2025-08-24 00:36:50.158 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[IsActive] = CAST(1 AS bit)
ORDER BY [t].[TableNumber]
2025-08-24 00:36:50.163 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[TableId], [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[Status] IN (0, 1, 2, 3)
ORDER BY [o].[TableId]
2025-08-24 00:36:52.518 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/admin/table-orders/1 - null null
2025-08-24 00:36:52.526 +03:00 [INF] Executing endpoint '/admin/table-orders/{tableId:int} (/admin/table-orders/{tableId:int})'
2025-08-24 00:36:52.549 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[Id] = @__p_0
2025-08-24 00:36:52.588 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice], [m].[Id], [m].[CreatedAt], [m].[Description], [m].[ImageData], [m].[ImageUrl], [m].[IsAvailable], [m].[MenuId], [m].[Name], [m].[Price], [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[IsActive], [m0].[Name], [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Orders] AS [o]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[Id]
INNER JOIN [Menus] AS [m0] ON [m].[MenuId] = [m0].[Id]
INNER JOIN [Tables] AS [t] ON [o].[TableId] = [t].[Id]
WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] IN (0, 1, 2, 3)
ORDER BY [o].[OrderDate]
2025-08-24 00:36:52.679 +03:00 [INF] Executed endpoint '/admin/table-orders/{tableId:int} (/admin/table-orders/{tableId:int})'
2025-08-24 00:36:52.681 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/admin/table-orders/1 - 200 null text/html; charset=utf-8 162.9072ms
2025-08-24 00:36:52.726 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice], [m].[Id], [m].[CreatedAt], [m].[Description], [m].[ImageData], [m].[ImageUrl], [m].[IsAvailable], [m].[MenuId], [m].[Name], [m].[Price], [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[IsActive], [m0].[Name], [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Orders] AS [o]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[Id]
INNER JOIN [Menus] AS [m0] ON [m].[MenuId] = [m0].[Id]
INNER JOIN [Tables] AS [t] ON [o].[TableId] = [t].[Id]
WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] IN (0, 1, 2, 3)
ORDER BY [o].[OrderDate]
2025-08-24 00:37:18.113 +03:00 [INF] Executed DbCommand (27ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Orders] SET [Status] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-08-24 00:37:18.127 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice], [m].[Id], [m].[CreatedAt], [m].[Description], [m].[ImageData], [m].[ImageUrl], [m].[IsAvailable], [m].[MenuId], [m].[Name], [m].[Price], [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[IsActive], [m0].[Name], [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Orders] AS [o]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[Id]
INNER JOIN [Menus] AS [m0] ON [m].[MenuId] = [m0].[Id]
INNER JOIN [Tables] AS [t] ON [o].[TableId] = [t].[Id]
WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] IN (0, 1, 2, 3)
ORDER BY [o].[OrderDate]
2025-08-24 00:37:19.564 +03:00 [INF] Executed DbCommand (24ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Orders] SET [Status] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-08-24 00:37:19.572 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice], [m].[Id], [m].[CreatedAt], [m].[Description], [m].[ImageData], [m].[ImageUrl], [m].[IsAvailable], [m].[MenuId], [m].[Name], [m].[Price], [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[IsActive], [m0].[Name], [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Orders] AS [o]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[Id]
INNER JOIN [Menus] AS [m0] ON [m].[MenuId] = [m0].[Id]
INNER JOIN [Tables] AS [t] ON [o].[TableId] = [t].[Id]
WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] IN (0, 1, 2, 3)
ORDER BY [o].[OrderDate]
2025-08-24 00:37:21.934 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/admin/kitchen - null null
2025-08-24 00:37:21.939 +03:00 [INF] Executing endpoint '/admin/kitchen (/admin/kitchen)'
2025-08-24 00:37:21.976 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice], [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber], [m].[Id], [m].[CreatedAt], [m].[Description], [m].[ImageData], [m].[ImageUrl], [m].[IsAvailable], [m].[MenuId], [m].[Name], [m].[Price], [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[IsActive], [m0].[Name]
FROM [Orders] AS [o]
INNER JOIN [Tables] AS [t] ON [o].[TableId] = [t].[Id]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[Id]
INNER JOIN [Menus] AS [m0] ON [m].[MenuId] = [m0].[Id]
WHERE [o].[Status] IN (0, 1, 2)
ORDER BY [o].[OrderDate]
2025-08-24 00:37:22.089 +03:00 [INF] Executed endpoint '/admin/kitchen (/admin/kitchen)'
2025-08-24 00:37:22.091 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/admin/kitchen - 200 null text/html; charset=utf-8 157.1573ms
2025-08-24 00:37:22.123 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice], [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber], [m].[Id], [m].[CreatedAt], [m].[Description], [m].[ImageData], [m].[ImageUrl], [m].[IsAvailable], [m].[MenuId], [m].[Name], [m].[Price], [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[IsActive], [m0].[Name]
FROM [Orders] AS [o]
INNER JOIN [Tables] AS [t] ON [o].[TableId] = [t].[Id]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[Id]
INNER JOIN [Menus] AS [m0] ON [m].[MenuId] = [m0].[Id]
WHERE [o].[Status] IN (0, 1, 2)
ORDER BY [o].[OrderDate]
2025-08-24 00:37:43.047 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/menu?table=1&category=Ana%20Yemekler - null null
2025-08-24 00:37:43.050 +03:00 [INF] Executing endpoint '/menu (/menu)'
2025-08-24 00:37:43.057 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__tableNumber_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[TableNumber] = @__tableNumber_0
2025-08-24 00:37:43.065 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 00:37:43.114 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 00:37:43.167 +03:00 [INF] Executed endpoint '/menu (/menu)'
2025-08-24 00:37:43.170 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/menu?table=1&category=Ana%20Yemekler - 200 null text/html; charset=utf-8 122.8205ms
2025-08-24 00:37:43.196 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__tableNumber_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[TableNumber] = @__tableNumber_0
2025-08-24 00:37:43.200 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 00:37:43.230 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 00:37:49.203 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/menu?table=2&category=Ana%20Yemekler - null null
2025-08-24 00:37:49.208 +03:00 [INF] Executing endpoint '/menu (/menu)'
2025-08-24 00:37:49.223 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__tableNumber_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[TableNumber] = @__tableNumber_0
2025-08-24 00:37:49.231 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 00:37:49.312 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 00:37:49.352 +03:00 [INF] Executed endpoint '/menu (/menu)'
2025-08-24 00:37:49.353 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/menu?table=2&category=Ana%20Yemekler - 200 null text/html; charset=utf-8 150.1247ms
2025-08-24 00:37:49.370 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 00:37:49.371 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/_blazor?id=k7btHGIDiZbtDEk1df_pZw - 101 null null 114495.2743ms
2025-08-24 00:37:49.382 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/_framework/blazor.web.js - null null
2025-08-24 00:37:49.387 +03:00 [INF] Executing endpoint 'Blazor web static files'
2025-08-24 00:37:49.389 +03:00 [INF] The file /_framework/blazor.web.js was not modified
2025-08-24 00:37:49.391 +03:00 [INF] Executed endpoint 'Blazor web static files'
2025-08-24 00:37:49.392 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/_framework/blazor.web.js - 304 null text/javascript 9.898ms
2025-08-24 00:37:49.600 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/_blazor/initializers - null null
2025-08-24 00:37:49.603 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 00:37:49.604 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 00:37:49.605 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/_blazor/initializers - 200 null application/json; charset=utf-8 5.7994ms
2025-08-24 00:37:49.622 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5010/_blazor/negotiate?negotiateVersion=1 - null 0
2025-08-24 00:37:49.626 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 00:37:49.628 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 00:37:49.629 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5010/_blazor/negotiate?negotiateVersion=1 - 200 316 application/json 7.0825ms
2025-08-24 00:37:49.634 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/_blazor?id=k7YXW1jaFGi5WHw8xKBlIg - null null
2025-08-24 00:37:49.637 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 00:37:49.652 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__tableNumber_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[TableNumber] = @__tableNumber_0
2025-08-24 00:37:49.657 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 00:37:49.711 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 00:37:52.225 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice], [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber], [m].[Id], [m].[CreatedAt], [m].[Description], [m].[ImageData], [m].[ImageUrl], [m].[IsAvailable], [m].[MenuId], [m].[Name], [m].[Price], [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[IsActive], [m0].[Name]
FROM [Orders] AS [o]
INNER JOIN [Tables] AS [t] ON [o].[TableId] = [t].[Id]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[Id]
INNER JOIN [Menus] AS [m0] ON [m].[MenuId] = [m0].[Id]
WHERE [o].[Status] IN (0, 1, 2)
ORDER BY [o].[OrderDate]
2025-08-24 00:37:58.167 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 500), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (Precision = 18) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Orders] ([MenuItemId], [Notes], [OrderDate], [Quantity], [Status], [TableId], [TotalPrice])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-08-24 00:37:58.172 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 500), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (Precision = 18) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Orders] ([MenuItemId], [Notes], [OrderDate], [Quantity], [Status], [TableId], [TotalPrice])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-08-24 00:38:01.039 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 00:38:01.045 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/admin/orders - null null
2025-08-24 00:38:01.049 +03:00 [INF] Executing endpoint '/admin/orders (/admin/orders)'
2025-08-24 00:38:01.057 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[IsActive] = CAST(1 AS bit)
ORDER BY [t].[TableNumber]
2025-08-24 00:38:01.064 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[TableId], [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[Status] IN (0, 1, 2, 3)
ORDER BY [o].[TableId]
2025-08-24 00:38:01.067 +03:00 [INF] Executed endpoint '/admin/orders (/admin/orders)'
2025-08-24 00:38:01.068 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/admin/orders - 200 null text/html; charset=utf-8 23.4753ms
2025-08-24 00:38:01.107 +03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'RestaurantOrdering.Data.ApplicationDbContext'.
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-08-24 00:38:05.316 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/admin - null null
2025-08-24 00:38:05.320 +03:00 [INF] Executing endpoint '/admin (/admin)'
2025-08-24 00:38:05.362 +03:00 [INF] Executed DbCommand (36ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice], [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber], [m].[Id], [m].[CreatedAt], [m].[Description], [m].[ImageData], [m].[ImageUrl], [m].[IsAvailable], [m].[MenuId], [m].[Name], [m].[Price], [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[IsActive], [m0].[Name]
FROM [Orders] AS [o]
INNER JOIN [Tables] AS [t] ON [o].[TableId] = [t].[Id]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[Id]
INNER JOIN [Menus] AS [m0] ON [m].[MenuId] = [m0].[Id]
WHERE [o].[Status] IN (0, 1, 2)
ORDER BY [o].[OrderDate]
2025-08-24 00:38:05.534 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__startDate_0='?' (DbType = DateTime2), @__endDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalPrice]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[Status] = 4 AND [o].[OrderDate] >= @__startDate_0 AND [o].[OrderDate] <= @__endDate_1
2025-08-24 00:38:05.543 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[IsActive] = CAST(1 AS bit)
ORDER BY [t].[TableNumber]
2025-08-24 00:38:05.573 +03:00 [INF] Executed DbCommand (27ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 00:38:05.606 +03:00 [INF] Executed endpoint '/admin (/admin)'
2025-08-24 00:38:05.608 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/admin - 200 null text/html; charset=utf-8 291.7934ms
2025-08-24 00:38:05.634 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice], [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber], [m].[Id], [m].[CreatedAt], [m].[Description], [m].[ImageData], [m].[ImageUrl], [m].[IsAvailable], [m].[MenuId], [m].[Name], [m].[Price], [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[IsActive], [m0].[Name]
FROM [Orders] AS [o]
INNER JOIN [Tables] AS [t] ON [o].[TableId] = [t].[Id]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[Id]
INNER JOIN [Menus] AS [m0] ON [m].[MenuId] = [m0].[Id]
WHERE [o].[Status] IN (0, 1, 2)
ORDER BY [o].[OrderDate]
2025-08-24 00:38:05.793 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__startDate_0='?' (DbType = DateTime2), @__endDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalPrice]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[Status] = 4 AND [o].[OrderDate] >= @__startDate_0 AND [o].[OrderDate] <= @__endDate_1
2025-08-24 00:38:05.800 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[IsActive] = CAST(1 AS bit)
ORDER BY [t].[TableNumber]
2025-08-24 00:38:05.809 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 00:38:07.407 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/admin/orders - null null
2025-08-24 00:38:07.411 +03:00 [INF] Executing endpoint '/admin/orders (/admin/orders)'
2025-08-24 00:38:07.416 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[IsActive] = CAST(1 AS bit)
ORDER BY [t].[TableNumber]
2025-08-24 00:38:07.445 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[TableId], [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[Status] IN (0, 1, 2, 3)
ORDER BY [o].[TableId]
2025-08-24 00:38:07.449 +03:00 [INF] Executed endpoint '/admin/orders (/admin/orders)'
2025-08-24 00:38:07.451 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/admin/orders - 200 null text/html; charset=utf-8 43.2309ms
2025-08-24 00:38:07.473 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[IsActive] = CAST(1 AS bit)
ORDER BY [t].[TableNumber]
2025-08-24 00:38:07.477 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[TableId], [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[Status] IN (0, 1, 2, 3)
ORDER BY [o].[TableId]
2025-08-24 00:38:08.577 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/admin/table-orders/2 - null null
2025-08-24 00:38:08.580 +03:00 [INF] Executing endpoint '/admin/table-orders/{tableId:int} (/admin/table-orders/{tableId:int})'
2025-08-24 00:38:08.587 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[Id] = @__p_0
2025-08-24 00:38:08.597 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice], [m].[Id], [m].[CreatedAt], [m].[Description], [m].[ImageData], [m].[ImageUrl], [m].[IsAvailable], [m].[MenuId], [m].[Name], [m].[Price], [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[IsActive], [m0].[Name], [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Orders] AS [o]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[Id]
INNER JOIN [Menus] AS [m0] ON [m].[MenuId] = [m0].[Id]
INNER JOIN [Tables] AS [t] ON [o].[TableId] = [t].[Id]
WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] IN (0, 1, 2, 3)
ORDER BY [o].[OrderDate]
2025-08-24 00:38:08.668 +03:00 [INF] Executed endpoint '/admin/table-orders/{tableId:int} (/admin/table-orders/{tableId:int})'
2025-08-24 00:38:08.670 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/admin/table-orders/2 - 200 null text/html; charset=utf-8 93.5607ms
2025-08-24 00:38:08.696 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice], [m].[Id], [m].[CreatedAt], [m].[Description], [m].[ImageData], [m].[ImageUrl], [m].[IsAvailable], [m].[MenuId], [m].[Name], [m].[Price], [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[IsActive], [m0].[Name], [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Orders] AS [o]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[Id]
INNER JOIN [Menus] AS [m0] ON [m].[MenuId] = [m0].[Id]
INNER JOIN [Tables] AS [t] ON [o].[TableId] = [t].[Id]
WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] IN (0, 1, 2, 3)
ORDER BY [o].[OrderDate]
2025-08-24 00:38:12.229 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Orders] SET [Status] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-08-24 00:38:12.241 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice], [m].[Id], [m].[CreatedAt], [m].[Description], [m].[ImageData], [m].[ImageUrl], [m].[IsAvailable], [m].[MenuId], [m].[Name], [m].[Price], [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[IsActive], [m0].[Name], [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Orders] AS [o]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[Id]
INNER JOIN [Menus] AS [m0] ON [m].[MenuId] = [m0].[Id]
INNER JOIN [Tables] AS [t] ON [o].[TableId] = [t].[Id]
WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] IN (0, 1, 2, 3)
ORDER BY [o].[OrderDate]
2025-08-24 00:38:14.457 +03:00 [INF] Executed DbCommand (23ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Orders] SET [Status] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-08-24 00:38:14.461 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice], [m].[Id], [m].[CreatedAt], [m].[Description], [m].[ImageData], [m].[ImageUrl], [m].[IsAvailable], [m].[MenuId], [m].[Name], [m].[Price], [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[IsActive], [m0].[Name], [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Orders] AS [o]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[Id]
INNER JOIN [Menus] AS [m0] ON [m].[MenuId] = [m0].[Id]
INNER JOIN [Tables] AS [t] ON [o].[TableId] = [t].[Id]
WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] IN (0, 1, 2, 3)
ORDER BY [o].[OrderDate]
2025-08-24 00:38:17.530 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/admin/kitchen - null null
2025-08-24 00:38:17.537 +03:00 [INF] Executing endpoint '/admin/kitchen (/admin/kitchen)'
2025-08-24 00:38:17.557 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice], [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber], [m].[Id], [m].[CreatedAt], [m].[Description], [m].[ImageData], [m].[ImageUrl], [m].[IsAvailable], [m].[MenuId], [m].[Name], [m].[Price], [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[IsActive], [m0].[Name]
FROM [Orders] AS [o]
INNER JOIN [Tables] AS [t] ON [o].[TableId] = [t].[Id]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[Id]
INNER JOIN [Menus] AS [m0] ON [m].[MenuId] = [m0].[Id]
WHERE [o].[Status] IN (0, 1, 2)
ORDER BY [o].[OrderDate]
2025-08-24 00:38:17.708 +03:00 [INF] Executed endpoint '/admin/kitchen (/admin/kitchen)'
2025-08-24 00:38:17.709 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/admin/kitchen - 200 null text/html; charset=utf-8 178.9711ms
2025-08-24 00:38:17.734 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice], [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber], [m].[Id], [m].[CreatedAt], [m].[Description], [m].[ImageData], [m].[ImageUrl], [m].[IsAvailable], [m].[MenuId], [m].[Name], [m].[Price], [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[IsActive], [m0].[Name]
FROM [Orders] AS [o]
INNER JOIN [Tables] AS [t] ON [o].[TableId] = [t].[Id]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[Id]
INNER JOIN [Menus] AS [m0] ON [m].[MenuId] = [m0].[Id]
WHERE [o].[Status] IN (0, 1, 2)
ORDER BY [o].[OrderDate]
2025-08-24 00:38:22.216 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice], [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber], [m].[Id], [m].[CreatedAt], [m].[Description], [m].[ImageData], [m].[ImageUrl], [m].[IsAvailable], [m].[MenuId], [m].[Name], [m].[Price], [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[IsActive], [m0].[Name]
FROM [Orders] AS [o]
INNER JOIN [Tables] AS [t] ON [o].[TableId] = [t].[Id]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[Id]
INNER JOIN [Menus] AS [m0] ON [m].[MenuId] = [m0].[Id]
WHERE [o].[Status] IN (0, 1, 2)
ORDER BY [o].[OrderDate]
2025-08-24 00:38:24.861 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/admin/kitchen/table/1 - null null
2025-08-24 00:38:24.865 +03:00 [INF] Executing endpoint '/admin/kitchen/table/{TableNumber:int} (/admin/kitchen/table/{TableNumber:int})'
2025-08-24 00:38:24.874 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice], [m].[Id], [m].[CreatedAt], [m].[Description], [m].[ImageData], [m].[ImageUrl], [m].[IsAvailable], [m].[MenuId], [m].[Name], [m].[Price], [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[IsActive], [m0].[Name], [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Orders] AS [o]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[Id]
INNER JOIN [Menus] AS [m0] ON [m].[MenuId] = [m0].[Id]
INNER JOIN [Tables] AS [t] ON [o].[TableId] = [t].[Id]
WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] IN (0, 1, 2, 3)
ORDER BY [o].[OrderDate]
2025-08-24 00:38:24.964 +03:00 [INF] Executed endpoint '/admin/kitchen/table/{TableNumber:int} (/admin/kitchen/table/{TableNumber:int})'
2025-08-24 00:38:24.965 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/admin/kitchen/table/1 - 200 null text/html; charset=utf-8 104.0351ms
2025-08-24 00:38:27.006 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 00:38:27.007 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5010/_blazor/disconnect - multipart/form-data; boundary=----WebKitFormBoundarynXwzRx5733Aaremm 359
2025-08-24 00:38:27.007 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/_blazor?id=k7YXW1jaFGi5WHw8xKBlIg - 101 null null 37373.415ms
2025-08-24 00:38:27.010 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 00:38:27.024 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 00:38:27.026 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5010/_blazor/disconnect - 200 0 null 18.4614ms
2025-08-24 00:38:42.127 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/admin/kitchen - null null
2025-08-24 00:38:42.131 +03:00 [INF] Executing endpoint '/admin/kitchen (/admin/kitchen)'
2025-08-24 00:38:42.137 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice], [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber], [m].[Id], [m].[CreatedAt], [m].[Description], [m].[ImageData], [m].[ImageUrl], [m].[IsAvailable], [m].[MenuId], [m].[Name], [m].[Price], [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[IsActive], [m0].[Name]
FROM [Orders] AS [o]
INNER JOIN [Tables] AS [t] ON [o].[TableId] = [t].[Id]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[Id]
INNER JOIN [Menus] AS [m0] ON [m].[MenuId] = [m0].[Id]
WHERE [o].[Status] IN (0, 1, 2)
ORDER BY [o].[OrderDate]
2025-08-24 00:38:42.272 +03:00 [INF] Executed endpoint '/admin/kitchen (/admin/kitchen)'
2025-08-24 00:38:42.274 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/admin/kitchen - 200 null text/html; charset=utf-8 147.4786ms
2025-08-24 00:38:42.303 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5010/_blazor/negotiate?negotiateVersion=1 - null 0
2025-08-24 00:38:42.306 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 00:38:42.308 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 00:38:42.312 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5010/_blazor/negotiate?negotiateVersion=1 - 200 316 application/json 9.3075ms
2025-08-24 00:38:42.314 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/_blazor?id=7AE7_VrsDE5qTEShN1xiCA - null null
2025-08-24 00:38:42.320 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 00:38:42.335 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice], [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber], [m].[Id], [m].[CreatedAt], [m].[Description], [m].[ImageData], [m].[ImageUrl], [m].[IsAvailable], [m].[MenuId], [m].[Name], [m].[Price], [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[IsActive], [m0].[Name]
FROM [Orders] AS [o]
INNER JOIN [Tables] AS [t] ON [o].[TableId] = [t].[Id]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[Id]
INNER JOIN [Menus] AS [m0] ON [m].[MenuId] = [m0].[Id]
WHERE [o].[Status] IN (0, 1, 2)
ORDER BY [o].[OrderDate]
2025-08-24 00:38:44.531 +03:00 [INF] Executed DbCommand (23ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Orders] SET [Status] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-08-24 00:38:44.534 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Orders] SET [Status] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-08-24 00:38:44.537 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Orders] SET [Status] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-08-24 00:38:44.547 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Orders] SET [Status] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-08-24 00:38:44.550 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice], [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber], [m].[Id], [m].[CreatedAt], [m].[Description], [m].[ImageData], [m].[ImageUrl], [m].[IsAvailable], [m].[MenuId], [m].[Name], [m].[Price], [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[IsActive], [m0].[Name]
FROM [Orders] AS [o]
INNER JOIN [Tables] AS [t] ON [o].[TableId] = [t].[Id]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[Id]
INNER JOIN [Menus] AS [m0] ON [m].[MenuId] = [m0].[Id]
WHERE [o].[Status] IN (0, 1, 2)
ORDER BY [o].[OrderDate]
2025-08-24 00:38:51.549 +03:00 [INF] Executed DbCommand (22ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Orders] SET [Status] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-08-24 00:38:51.561 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Orders] SET [Status] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-08-24 00:38:51.564 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Orders] SET [Status] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-08-24 00:38:51.568 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Orders] SET [Status] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-08-24 00:38:51.572 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice], [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber], [m].[Id], [m].[CreatedAt], [m].[Description], [m].[ImageData], [m].[ImageUrl], [m].[IsAvailable], [m].[MenuId], [m].[Name], [m].[Price], [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[IsActive], [m0].[Name]
FROM [Orders] AS [o]
INNER JOIN [Tables] AS [t] ON [o].[TableId] = [t].[Id]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[Id]
INNER JOIN [Menus] AS [m0] ON [m].[MenuId] = [m0].[Id]
WHERE [o].[Status] IN (0, 1, 2)
ORDER BY [o].[OrderDate]
2025-08-24 00:38:52.221 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice], [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber], [m].[Id], [m].[CreatedAt], [m].[Description], [m].[ImageData], [m].[ImageUrl], [m].[IsAvailable], [m].[MenuId], [m].[Name], [m].[Price], [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[IsActive], [m0].[Name]
FROM [Orders] AS [o]
INNER JOIN [Tables] AS [t] ON [o].[TableId] = [t].[Id]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[Id]
INNER JOIN [Menus] AS [m0] ON [m].[MenuId] = [m0].[Id]
WHERE [o].[Status] IN (0, 1, 2)
ORDER BY [o].[OrderDate]
2025-08-24 00:38:54.588 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/admin/orders - null null
2025-08-24 00:38:54.591 +03:00 [INF] Executing endpoint '/admin/orders (/admin/orders)'
2025-08-24 00:38:54.595 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[IsActive] = CAST(1 AS bit)
ORDER BY [t].[TableNumber]
2025-08-24 00:38:54.606 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[TableId], [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[Status] IN (0, 1, 2, 3)
ORDER BY [o].[TableId]
2025-08-24 00:38:54.609 +03:00 [INF] Executed endpoint '/admin/orders (/admin/orders)'
2025-08-24 00:38:54.610 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/admin/orders - 200 null text/html; charset=utf-8 22.0798ms
2025-08-24 00:38:54.634 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[IsActive] = CAST(1 AS bit)
ORDER BY [t].[TableNumber]
2025-08-24 00:38:54.637 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[TableId], [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[Status] IN (0, 1, 2, 3)
ORDER BY [o].[TableId]
2025-08-24 00:38:56.115 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/admin/table-orders/2 - null null
2025-08-24 00:38:56.118 +03:00 [INF] Executing endpoint '/admin/table-orders/{tableId:int} (/admin/table-orders/{tableId:int})'
2025-08-24 00:38:56.124 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[Id] = @__p_0
2025-08-24 00:38:56.128 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice], [m].[Id], [m].[CreatedAt], [m].[Description], [m].[ImageData], [m].[ImageUrl], [m].[IsAvailable], [m].[MenuId], [m].[Name], [m].[Price], [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[IsActive], [m0].[Name], [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Orders] AS [o]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[Id]
INNER JOIN [Menus] AS [m0] ON [m].[MenuId] = [m0].[Id]
INNER JOIN [Tables] AS [t] ON [o].[TableId] = [t].[Id]
WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] IN (0, 1, 2, 3)
ORDER BY [o].[OrderDate]
2025-08-24 00:38:56.194 +03:00 [INF] Executed endpoint '/admin/table-orders/{tableId:int} (/admin/table-orders/{tableId:int})'
2025-08-24 00:38:56.195 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/admin/table-orders/2 - 200 null text/html; charset=utf-8 80.3897ms
2025-08-24 00:38:56.217 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice], [m].[Id], [m].[CreatedAt], [m].[Description], [m].[ImageData], [m].[ImageUrl], [m].[IsAvailable], [m].[MenuId], [m].[Name], [m].[Price], [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[IsActive], [m0].[Name], [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Orders] AS [o]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[Id]
INNER JOIN [Menus] AS [m0] ON [m].[MenuId] = [m0].[Id]
INNER JOIN [Tables] AS [t] ON [o].[TableId] = [t].[Id]
WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] IN (0, 1, 2, 3)
ORDER BY [o].[OrderDate]
2025-08-24 00:39:00.095 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/admin/orders - null null
2025-08-24 00:39:00.098 +03:00 [INF] Executing endpoint '/admin/orders (/admin/orders)'
2025-08-24 00:39:00.101 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[IsActive] = CAST(1 AS bit)
ORDER BY [t].[TableNumber]
2025-08-24 00:39:00.104 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[TableId], [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[Status] IN (0, 1, 2, 3)
ORDER BY [o].[TableId]
2025-08-24 00:39:00.107 +03:00 [INF] Executed endpoint '/admin/orders (/admin/orders)'
2025-08-24 00:39:00.108 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/admin/orders - 200 null text/html; charset=utf-8 13.0372ms
2025-08-24 00:39:00.126 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[IsActive] = CAST(1 AS bit)
ORDER BY [t].[TableNumber]
2025-08-24 00:39:00.130 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[TableId], [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[Status] IN (0, 1, 2, 3)
ORDER BY [o].[TableId]
2025-08-24 00:39:00.983 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/admin/table-orders/1 - null null
2025-08-24 00:39:00.986 +03:00 [INF] Executing endpoint '/admin/table-orders/{tableId:int} (/admin/table-orders/{tableId:int})'
2025-08-24 00:39:00.990 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[Id] = @__p_0
2025-08-24 00:39:00.993 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice], [m].[Id], [m].[CreatedAt], [m].[Description], [m].[ImageData], [m].[ImageUrl], [m].[IsAvailable], [m].[MenuId], [m].[Name], [m].[Price], [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[IsActive], [m0].[Name], [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Orders] AS [o]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[Id]
INNER JOIN [Menus] AS [m0] ON [m].[MenuId] = [m0].[Id]
INNER JOIN [Tables] AS [t] ON [o].[TableId] = [t].[Id]
WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] IN (0, 1, 2, 3)
ORDER BY [o].[OrderDate]
2025-08-24 00:39:01.090 +03:00 [INF] Executed endpoint '/admin/table-orders/{tableId:int} (/admin/table-orders/{tableId:int})'
2025-08-24 00:39:01.091 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/admin/table-orders/1 - 200 null text/html; charset=utf-8 107.9827ms
2025-08-24 00:39:01.115 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice], [m].[Id], [m].[CreatedAt], [m].[Description], [m].[ImageData], [m].[ImageUrl], [m].[IsAvailable], [m].[MenuId], [m].[Name], [m].[Price], [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[IsActive], [m0].[Name], [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Orders] AS [o]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[Id]
INNER JOIN [Menus] AS [m0] ON [m].[MenuId] = [m0].[Id]
INNER JOIN [Tables] AS [t] ON [o].[TableId] = [t].[Id]
WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] IN (0, 1, 2, 3)
ORDER BY [o].[OrderDate]
2025-08-24 00:39:10.039 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/admin/cashier - null null
2025-08-24 00:39:10.042 +03:00 [INF] Executing endpoint '/admin/cashier (/admin/cashier)'
2025-08-24 00:39:10.053 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[IsActive] = CAST(1 AS bit)
ORDER BY [t].[TableNumber]
2025-08-24 00:39:10.090 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Orders] AS [o]
        WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
            SELECT 1
            FROM [PaymentItems] AS [p]
            WHERE [p].[OrderId] = [o].[Id])) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-24 00:39:10.106 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalPrice]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
    SELECT 1
    FROM [PaymentItems] AS [p]
    WHERE [p].[OrderId] = [o].[Id])
2025-08-24 00:39:10.111 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Orders] AS [o]
        WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
            SELECT 1
            FROM [PaymentItems] AS [p]
            WHERE [p].[OrderId] = [o].[Id])) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-24 00:39:10.116 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalPrice]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
    SELECT 1
    FROM [PaymentItems] AS [p]
    WHERE [p].[OrderId] = [o].[Id])
2025-08-24 00:39:10.120 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Orders] AS [o]
        WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
            SELECT 1
            FROM [PaymentItems] AS [p]
            WHERE [p].[OrderId] = [o].[Id])) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-24 00:39:10.124 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalPrice]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
    SELECT 1
    FROM [PaymentItems] AS [p]
    WHERE [p].[OrderId] = [o].[Id])
2025-08-24 00:39:10.129 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Orders] AS [o]
        WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
            SELECT 1
            FROM [PaymentItems] AS [p]
            WHERE [p].[OrderId] = [o].[Id])) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-24 00:39:10.132 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalPrice]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
    SELECT 1
    FROM [PaymentItems] AS [p]
    WHERE [p].[OrderId] = [o].[Id])
2025-08-24 00:39:10.136 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Orders] AS [o]
        WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
            SELECT 1
            FROM [PaymentItems] AS [p]
            WHERE [p].[OrderId] = [o].[Id])) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-24 00:39:10.141 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalPrice]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
    SELECT 1
    FROM [PaymentItems] AS [p]
    WHERE [p].[OrderId] = [o].[Id])
2025-08-24 00:39:10.144 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Orders] AS [o]
        WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
            SELECT 1
            FROM [PaymentItems] AS [p]
            WHERE [p].[OrderId] = [o].[Id])) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-24 00:39:10.148 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalPrice]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
    SELECT 1
    FROM [PaymentItems] AS [p]
    WHERE [p].[OrderId] = [o].[Id])
2025-08-24 00:39:10.186 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[@__startDate_0='?' (DbType = DateTime2), @__endDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([p].[TotalAmount]), 0.0)
FROM [Payments] AS [p]
WHERE [p].[Status] = 2 AND [p].[CompletedAt] >= @__startDate_0 AND [p].[CompletedAt] < @__endDate_1
2025-08-24 00:39:10.203 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__today_0='?' (DbType = DateTime2), @__tomorrow_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Payments] AS [p]
WHERE [p].[Status] = 2 AND [p].[CompletedAt] >= @__today_0 AND [p].[CompletedAt] < @__tomorrow_1
2025-08-24 00:39:10.210 +03:00 [INF] Executed endpoint '/admin/cashier (/admin/cashier)'
2025-08-24 00:39:10.212 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/admin/cashier - 200 null text/html; charset=utf-8 173.2819ms
2025-08-24 00:39:10.239 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[IsActive] = CAST(1 AS bit)
ORDER BY [t].[TableNumber]
2025-08-24 00:39:10.242 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Orders] AS [o]
        WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
            SELECT 1
            FROM [PaymentItems] AS [p]
            WHERE [p].[OrderId] = [o].[Id])) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-24 00:39:10.246 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalPrice]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
    SELECT 1
    FROM [PaymentItems] AS [p]
    WHERE [p].[OrderId] = [o].[Id])
2025-08-24 00:39:10.250 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Orders] AS [o]
        WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
            SELECT 1
            FROM [PaymentItems] AS [p]
            WHERE [p].[OrderId] = [o].[Id])) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-24 00:39:10.253 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalPrice]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
    SELECT 1
    FROM [PaymentItems] AS [p]
    WHERE [p].[OrderId] = [o].[Id])
2025-08-24 00:39:10.257 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Orders] AS [o]
        WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
            SELECT 1
            FROM [PaymentItems] AS [p]
            WHERE [p].[OrderId] = [o].[Id])) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-24 00:39:10.263 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalPrice]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
    SELECT 1
    FROM [PaymentItems] AS [p]
    WHERE [p].[OrderId] = [o].[Id])
2025-08-24 00:39:10.266 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Orders] AS [o]
        WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
            SELECT 1
            FROM [PaymentItems] AS [p]
            WHERE [p].[OrderId] = [o].[Id])) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-24 00:39:10.270 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalPrice]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
    SELECT 1
    FROM [PaymentItems] AS [p]
    WHERE [p].[OrderId] = [o].[Id])
2025-08-24 00:39:10.274 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Orders] AS [o]
        WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
            SELECT 1
            FROM [PaymentItems] AS [p]
            WHERE [p].[OrderId] = [o].[Id])) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-24 00:39:10.281 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalPrice]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
    SELECT 1
    FROM [PaymentItems] AS [p]
    WHERE [p].[OrderId] = [o].[Id])
2025-08-24 00:39:10.286 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Orders] AS [o]
        WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
            SELECT 1
            FROM [PaymentItems] AS [p]
            WHERE [p].[OrderId] = [o].[Id])) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-24 00:39:10.290 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalPrice]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
    SELECT 1
    FROM [PaymentItems] AS [p]
    WHERE [p].[OrderId] = [o].[Id])
2025-08-24 00:39:10.294 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__startDate_0='?' (DbType = DateTime2), @__endDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([p].[TotalAmount]), 0.0)
FROM [Payments] AS [p]
WHERE [p].[Status] = 2 AND [p].[CompletedAt] >= @__startDate_0 AND [p].[CompletedAt] < @__endDate_1
2025-08-24 00:39:10.298 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__today_0='?' (DbType = DateTime2), @__tomorrow_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Payments] AS [p]
WHERE [p].[Status] = 2 AND [p].[CompletedAt] >= @__today_0 AND [p].[CompletedAt] < @__tomorrow_1
2025-08-24 00:39:12.479 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice], [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber], [m].[Id], [m].[CreatedAt], [m].[Description], [m].[ImageData], [m].[ImageUrl], [m].[IsAvailable], [m].[MenuId], [m].[Name], [m].[Price], [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[IsActive], [m0].[Name]
FROM [Orders] AS [o]
INNER JOIN [Tables] AS [t] ON [o].[TableId] = [t].[Id]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[Id]
INNER JOIN [Menus] AS [m0] ON [m].[MenuId] = [m0].[Id]
WHERE [o].[Status] IN (0, 1, 2)
ORDER BY [o].[OrderDate]
2025-08-24 00:39:22.227 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice], [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber], [m].[Id], [m].[CreatedAt], [m].[Description], [m].[ImageData], [m].[ImageUrl], [m].[IsAvailable], [m].[MenuId], [m].[Name], [m].[Price], [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[IsActive], [m0].[Name]
FROM [Orders] AS [o]
INNER JOIN [Tables] AS [t] ON [o].[TableId] = [t].[Id]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[Id]
INNER JOIN [Menus] AS [m0] ON [m].[MenuId] = [m0].[Id]
WHERE [o].[Status] IN (0, 1, 2)
ORDER BY [o].[OrderDate]
2025-08-24 00:39:30.544 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/admin/cashier/table/1 - null null
2025-08-24 00:39:30.547 +03:00 [INF] Executing endpoint '/admin/cashier/table/{TableId:int} (/admin/cashier/table/{TableId:int})'
2025-08-24 00:39:30.560 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[Id] = @__p_0
2025-08-24 00:39:30.588 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice], [m].[Id], [m].[CreatedAt], [m].[Description], [m].[ImageData], [m].[ImageUrl], [m].[IsAvailable], [m].[MenuId], [m].[Name], [m].[Price]
FROM [Orders] AS [o]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[Id]
WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
    SELECT 1
    FROM [PaymentItems] AS [p]
    WHERE [p].[OrderId] = [o].[Id])
ORDER BY [o].[OrderDate]
2025-08-24 00:39:30.592 +03:00 [INF] Executed endpoint '/admin/cashier/table/{TableId:int} (/admin/cashier/table/{TableId:int})'
2025-08-24 00:39:30.595 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/admin/cashier/table/1 - 200 null text/html; charset=utf-8 51.0871ms
2025-08-24 00:39:30.624 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice], [m].[Id], [m].[CreatedAt], [m].[Description], [m].[ImageData], [m].[ImageUrl], [m].[IsAvailable], [m].[MenuId], [m].[Name], [m].[Price]
FROM [Orders] AS [o]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[Id]
WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
    SELECT 1
    FROM [PaymentItems] AS [p]
    WHERE [p].[OrderId] = [o].[Id])
ORDER BY [o].[OrderDate]
2025-08-24 00:39:33.166 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/admin/cashier - null null
2025-08-24 00:39:33.168 +03:00 [INF] Executing endpoint '/admin/cashier (/admin/cashier)'
2025-08-24 00:39:33.172 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[IsActive] = CAST(1 AS bit)
ORDER BY [t].[TableNumber]
2025-08-24 00:39:33.179 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Orders] AS [o]
        WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
            SELECT 1
            FROM [PaymentItems] AS [p]
            WHERE [p].[OrderId] = [o].[Id])) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-24 00:39:33.187 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalPrice]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
    SELECT 1
    FROM [PaymentItems] AS [p]
    WHERE [p].[OrderId] = [o].[Id])
2025-08-24 00:39:33.189 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Orders] AS [o]
        WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
            SELECT 1
            FROM [PaymentItems] AS [p]
            WHERE [p].[OrderId] = [o].[Id])) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-24 00:39:33.192 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalPrice]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
    SELECT 1
    FROM [PaymentItems] AS [p]
    WHERE [p].[OrderId] = [o].[Id])
2025-08-24 00:39:33.194 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Orders] AS [o]
        WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
            SELECT 1
            FROM [PaymentItems] AS [p]
            WHERE [p].[OrderId] = [o].[Id])) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-24 00:39:33.197 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalPrice]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
    SELECT 1
    FROM [PaymentItems] AS [p]
    WHERE [p].[OrderId] = [o].[Id])
2025-08-24 00:39:33.199 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Orders] AS [o]
        WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
            SELECT 1
            FROM [PaymentItems] AS [p]
            WHERE [p].[OrderId] = [o].[Id])) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-24 00:39:33.202 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalPrice]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
    SELECT 1
    FROM [PaymentItems] AS [p]
    WHERE [p].[OrderId] = [o].[Id])
2025-08-24 00:39:33.204 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Orders] AS [o]
        WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
            SELECT 1
            FROM [PaymentItems] AS [p]
            WHERE [p].[OrderId] = [o].[Id])) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-24 00:39:33.207 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalPrice]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
    SELECT 1
    FROM [PaymentItems] AS [p]
    WHERE [p].[OrderId] = [o].[Id])
2025-08-24 00:39:33.210 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Orders] AS [o]
        WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
            SELECT 1
            FROM [PaymentItems] AS [p]
            WHERE [p].[OrderId] = [o].[Id])) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-24 00:39:33.213 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalPrice]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
    SELECT 1
    FROM [PaymentItems] AS [p]
    WHERE [p].[OrderId] = [o].[Id])
2025-08-24 00:39:33.218 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__startDate_0='?' (DbType = DateTime2), @__endDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([p].[TotalAmount]), 0.0)
FROM [Payments] AS [p]
WHERE [p].[Status] = 2 AND [p].[CompletedAt] >= @__startDate_0 AND [p].[CompletedAt] < @__endDate_1
2025-08-24 00:39:33.223 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__today_0='?' (DbType = DateTime2), @__tomorrow_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Payments] AS [p]
WHERE [p].[Status] = 2 AND [p].[CompletedAt] >= @__today_0 AND [p].[CompletedAt] < @__tomorrow_1
2025-08-24 00:39:33.226 +03:00 [INF] Executed endpoint '/admin/cashier (/admin/cashier)'
2025-08-24 00:39:33.227 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/admin/cashier - 200 null text/html; charset=utf-8 61.2751ms
2025-08-24 00:39:33.251 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[IsActive] = CAST(1 AS bit)
ORDER BY [t].[TableNumber]
2025-08-24 00:39:33.254 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Orders] AS [o]
        WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
            SELECT 1
            FROM [PaymentItems] AS [p]
            WHERE [p].[OrderId] = [o].[Id])) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-24 00:39:33.257 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalPrice]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
    SELECT 1
    FROM [PaymentItems] AS [p]
    WHERE [p].[OrderId] = [o].[Id])
2025-08-24 00:39:33.259 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Orders] AS [o]
        WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
            SELECT 1
            FROM [PaymentItems] AS [p]
            WHERE [p].[OrderId] = [o].[Id])) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-24 00:39:33.262 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalPrice]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
    SELECT 1
    FROM [PaymentItems] AS [p]
    WHERE [p].[OrderId] = [o].[Id])
2025-08-24 00:39:33.265 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Orders] AS [o]
        WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
            SELECT 1
            FROM [PaymentItems] AS [p]
            WHERE [p].[OrderId] = [o].[Id])) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-24 00:39:33.268 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalPrice]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
    SELECT 1
    FROM [PaymentItems] AS [p]
    WHERE [p].[OrderId] = [o].[Id])
2025-08-24 00:39:33.272 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Orders] AS [o]
        WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
            SELECT 1
            FROM [PaymentItems] AS [p]
            WHERE [p].[OrderId] = [o].[Id])) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-24 00:39:33.275 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalPrice]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
    SELECT 1
    FROM [PaymentItems] AS [p]
    WHERE [p].[OrderId] = [o].[Id])
2025-08-24 00:39:33.278 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Orders] AS [o]
        WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
            SELECT 1
            FROM [PaymentItems] AS [p]
            WHERE [p].[OrderId] = [o].[Id])) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-24 00:39:33.281 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalPrice]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
    SELECT 1
    FROM [PaymentItems] AS [p]
    WHERE [p].[OrderId] = [o].[Id])
2025-08-24 00:39:33.285 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Orders] AS [o]
        WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
            SELECT 1
            FROM [PaymentItems] AS [p]
            WHERE [p].[OrderId] = [o].[Id])) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-24 00:39:33.288 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalPrice]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
    SELECT 1
    FROM [PaymentItems] AS [p]
    WHERE [p].[OrderId] = [o].[Id])
2025-08-24 00:39:33.291 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__startDate_0='?' (DbType = DateTime2), @__endDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([p].[TotalAmount]), 0.0)
FROM [Payments] AS [p]
WHERE [p].[Status] = 2 AND [p].[CompletedAt] >= @__startDate_0 AND [p].[CompletedAt] < @__endDate_1
2025-08-24 00:39:33.295 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__today_0='?' (DbType = DateTime2), @__tomorrow_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Payments] AS [p]
WHERE [p].[Status] = 2 AND [p].[CompletedAt] >= @__today_0 AND [p].[CompletedAt] < @__tomorrow_1
2025-08-24 00:39:36.943 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/admin/orders - null null
2025-08-24 00:39:36.946 +03:00 [INF] Executing endpoint '/admin/orders (/admin/orders)'
2025-08-24 00:39:36.951 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[IsActive] = CAST(1 AS bit)
ORDER BY [t].[TableNumber]
2025-08-24 00:39:36.956 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[TableId], [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[Status] IN (0, 1, 2, 3)
ORDER BY [o].[TableId]
2025-08-24 00:39:36.959 +03:00 [INF] Executed endpoint '/admin/orders (/admin/orders)'
2025-08-24 00:39:36.962 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/admin/orders - 200 null text/html; charset=utf-8 18.299ms
2025-08-24 00:39:36.981 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[IsActive] = CAST(1 AS bit)
ORDER BY [t].[TableNumber]
2025-08-24 00:39:36.983 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[TableId], [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[Status] IN (0, 1, 2, 3)
ORDER BY [o].[TableId]
2025-08-24 00:39:38.199 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/admin/table-orders/1 - null null
2025-08-24 00:39:38.202 +03:00 [INF] Executing endpoint '/admin/table-orders/{tableId:int} (/admin/table-orders/{tableId:int})'
2025-08-24 00:39:38.206 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[Id] = @__p_0
2025-08-24 00:39:38.218 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice], [m].[Id], [m].[CreatedAt], [m].[Description], [m].[ImageData], [m].[ImageUrl], [m].[IsAvailable], [m].[MenuId], [m].[Name], [m].[Price], [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[IsActive], [m0].[Name], [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Orders] AS [o]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[Id]
INNER JOIN [Menus] AS [m0] ON [m].[MenuId] = [m0].[Id]
INNER JOIN [Tables] AS [t] ON [o].[TableId] = [t].[Id]
WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] IN (0, 1, 2, 3)
ORDER BY [o].[OrderDate]
2025-08-24 00:39:38.293 +03:00 [INF] Executed endpoint '/admin/table-orders/{tableId:int} (/admin/table-orders/{tableId:int})'
2025-08-24 00:39:38.295 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/admin/table-orders/1 - 200 null text/html; charset=utf-8 95.1409ms
2025-08-24 00:39:38.318 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice], [m].[Id], [m].[CreatedAt], [m].[Description], [m].[ImageData], [m].[ImageUrl], [m].[IsAvailable], [m].[MenuId], [m].[Name], [m].[Price], [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[IsActive], [m0].[Name], [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Orders] AS [o]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[Id]
INNER JOIN [Menus] AS [m0] ON [m].[MenuId] = [m0].[Id]
INNER JOIN [Tables] AS [t] ON [o].[TableId] = [t].[Id]
WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] IN (0, 1, 2, 3)
ORDER BY [o].[OrderDate]
2025-08-24 00:39:39.711 +03:00 [INF] Executed DbCommand (23ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Orders] SET [Status] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-08-24 00:39:39.714 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice], [m].[Id], [m].[CreatedAt], [m].[Description], [m].[ImageData], [m].[ImageUrl], [m].[IsAvailable], [m].[MenuId], [m].[Name], [m].[Price], [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[IsActive], [m0].[Name], [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Orders] AS [o]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[Id]
INNER JOIN [Menus] AS [m0] ON [m].[MenuId] = [m0].[Id]
INNER JOIN [Tables] AS [t] ON [o].[TableId] = [t].[Id]
WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] IN (0, 1, 2, 3)
ORDER BY [o].[OrderDate]
2025-08-24 00:39:40.963 +03:00 [INF] Executed DbCommand (23ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Orders] SET [Status] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-08-24 00:39:40.966 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice], [m].[Id], [m].[CreatedAt], [m].[Description], [m].[ImageData], [m].[ImageUrl], [m].[IsAvailable], [m].[MenuId], [m].[Name], [m].[Price], [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[IsActive], [m0].[Name], [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Orders] AS [o]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[Id]
INNER JOIN [Menus] AS [m0] ON [m].[MenuId] = [m0].[Id]
INNER JOIN [Tables] AS [t] ON [o].[TableId] = [t].[Id]
WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] IN (0, 1, 2, 3)
ORDER BY [o].[OrderDate]
2025-08-24 00:39:41.770 +03:00 [INF] Executed DbCommand (23ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Orders] SET [Status] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-08-24 00:39:41.780 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice], [m].[Id], [m].[CreatedAt], [m].[Description], [m].[ImageData], [m].[ImageUrl], [m].[IsAvailable], [m].[MenuId], [m].[Name], [m].[Price], [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[IsActive], [m0].[Name], [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Orders] AS [o]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[Id]
INNER JOIN [Menus] AS [m0] ON [m].[MenuId] = [m0].[Id]
INNER JOIN [Tables] AS [t] ON [o].[TableId] = [t].[Id]
WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] IN (0, 1, 2, 3)
ORDER BY [o].[OrderDate]
2025-08-24 00:39:42.463 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice], [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber], [m].[Id], [m].[CreatedAt], [m].[Description], [m].[ImageData], [m].[ImageUrl], [m].[IsAvailable], [m].[MenuId], [m].[Name], [m].[Price], [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[IsActive], [m0].[Name]
FROM [Orders] AS [o]
INNER JOIN [Tables] AS [t] ON [o].[TableId] = [t].[Id]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[Id]
INNER JOIN [Menus] AS [m0] ON [m].[MenuId] = [m0].[Id]
WHERE [o].[Status] IN (0, 1, 2)
ORDER BY [o].[OrderDate]
2025-08-24 00:39:42.614 +03:00 [INF] Executed DbCommand (23ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Orders] SET [Status] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-08-24 00:39:42.618 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice], [m].[Id], [m].[CreatedAt], [m].[Description], [m].[ImageData], [m].[ImageUrl], [m].[IsAvailable], [m].[MenuId], [m].[Name], [m].[Price], [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[IsActive], [m0].[Name], [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Orders] AS [o]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[Id]
INNER JOIN [Menus] AS [m0] ON [m].[MenuId] = [m0].[Id]
INNER JOIN [Tables] AS [t] ON [o].[TableId] = [t].[Id]
WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] IN (0, 1, 2, 3)
ORDER BY [o].[OrderDate]
2025-08-24 00:39:44.161 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/admin/kitchen - null null
2025-08-24 00:39:44.164 +03:00 [INF] Executing endpoint '/admin/kitchen (/admin/kitchen)'
2025-08-24 00:39:44.169 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice], [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber], [m].[Id], [m].[CreatedAt], [m].[Description], [m].[ImageData], [m].[ImageUrl], [m].[IsAvailable], [m].[MenuId], [m].[Name], [m].[Price], [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[IsActive], [m0].[Name]
FROM [Orders] AS [o]
INNER JOIN [Tables] AS [t] ON [o].[TableId] = [t].[Id]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[Id]
INNER JOIN [Menus] AS [m0] ON [m].[MenuId] = [m0].[Id]
WHERE [o].[Status] IN (0, 1, 2)
ORDER BY [o].[OrderDate]
2025-08-24 00:39:44.226 +03:00 [INF] Executed endpoint '/admin/kitchen (/admin/kitchen)'
2025-08-24 00:39:44.228 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/admin/kitchen - 200 null text/html; charset=utf-8 66.9927ms
2025-08-24 00:39:44.246 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice], [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber], [m].[Id], [m].[CreatedAt], [m].[Description], [m].[ImageData], [m].[ImageUrl], [m].[IsAvailable], [m].[MenuId], [m].[Name], [m].[Price], [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[IsActive], [m0].[Name]
FROM [Orders] AS [o]
INNER JOIN [Tables] AS [t] ON [o].[TableId] = [t].[Id]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[Id]
INNER JOIN [Menus] AS [m0] ON [m].[MenuId] = [m0].[Id]
WHERE [o].[Status] IN (0, 1, 2)
ORDER BY [o].[OrderDate]
2025-08-24 00:39:45.044 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/admin/cashier - null null
2025-08-24 00:39:45.047 +03:00 [INF] Executing endpoint '/admin/cashier (/admin/cashier)'
2025-08-24 00:39:45.050 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[IsActive] = CAST(1 AS bit)
ORDER BY [t].[TableNumber]
2025-08-24 00:39:45.054 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Orders] AS [o]
        WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
            SELECT 1
            FROM [PaymentItems] AS [p]
            WHERE [p].[OrderId] = [o].[Id])) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-24 00:39:45.061 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalPrice]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
    SELECT 1
    FROM [PaymentItems] AS [p]
    WHERE [p].[OrderId] = [o].[Id])
2025-08-24 00:39:45.064 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Orders] AS [o]
        WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
            SELECT 1
            FROM [PaymentItems] AS [p]
            WHERE [p].[OrderId] = [o].[Id])) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-24 00:39:45.067 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalPrice]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
    SELECT 1
    FROM [PaymentItems] AS [p]
    WHERE [p].[OrderId] = [o].[Id])
2025-08-24 00:39:45.071 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Orders] AS [o]
        WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
            SELECT 1
            FROM [PaymentItems] AS [p]
            WHERE [p].[OrderId] = [o].[Id])) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-24 00:39:45.077 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalPrice]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
    SELECT 1
    FROM [PaymentItems] AS [p]
    WHERE [p].[OrderId] = [o].[Id])
2025-08-24 00:39:45.080 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Orders] AS [o]
        WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
            SELECT 1
            FROM [PaymentItems] AS [p]
            WHERE [p].[OrderId] = [o].[Id])) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-24 00:39:45.084 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalPrice]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
    SELECT 1
    FROM [PaymentItems] AS [p]
    WHERE [p].[OrderId] = [o].[Id])
2025-08-24 00:39:45.088 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Orders] AS [o]
        WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
            SELECT 1
            FROM [PaymentItems] AS [p]
            WHERE [p].[OrderId] = [o].[Id])) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-24 00:39:45.091 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalPrice]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
    SELECT 1
    FROM [PaymentItems] AS [p]
    WHERE [p].[OrderId] = [o].[Id])
2025-08-24 00:39:45.094 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Orders] AS [o]
        WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
            SELECT 1
            FROM [PaymentItems] AS [p]
            WHERE [p].[OrderId] = [o].[Id])) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-24 00:39:45.101 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalPrice]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
    SELECT 1
    FROM [PaymentItems] AS [p]
    WHERE [p].[OrderId] = [o].[Id])
2025-08-24 00:39:45.104 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__startDate_0='?' (DbType = DateTime2), @__endDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([p].[TotalAmount]), 0.0)
FROM [Payments] AS [p]
WHERE [p].[Status] = 2 AND [p].[CompletedAt] >= @__startDate_0 AND [p].[CompletedAt] < @__endDate_1
2025-08-24 00:39:45.109 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__today_0='?' (DbType = DateTime2), @__tomorrow_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Payments] AS [p]
WHERE [p].[Status] = 2 AND [p].[CompletedAt] >= @__today_0 AND [p].[CompletedAt] < @__tomorrow_1
2025-08-24 00:39:45.113 +03:00 [INF] Executed endpoint '/admin/cashier (/admin/cashier)'
2025-08-24 00:39:45.115 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/admin/cashier - 200 null text/html; charset=utf-8 70.512ms
2025-08-24 00:39:45.132 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[IsActive] = CAST(1 AS bit)
ORDER BY [t].[TableNumber]
2025-08-24 00:39:45.135 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Orders] AS [o]
        WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
            SELECT 1
            FROM [PaymentItems] AS [p]
            WHERE [p].[OrderId] = [o].[Id])) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-24 00:39:45.140 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalPrice]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
    SELECT 1
    FROM [PaymentItems] AS [p]
    WHERE [p].[OrderId] = [o].[Id])
2025-08-24 00:39:45.143 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Orders] AS [o]
        WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
            SELECT 1
            FROM [PaymentItems] AS [p]
            WHERE [p].[OrderId] = [o].[Id])) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-24 00:39:45.146 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalPrice]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
    SELECT 1
    FROM [PaymentItems] AS [p]
    WHERE [p].[OrderId] = [o].[Id])
2025-08-24 00:39:45.148 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Orders] AS [o]
        WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
            SELECT 1
            FROM [PaymentItems] AS [p]
            WHERE [p].[OrderId] = [o].[Id])) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-24 00:39:45.153 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalPrice]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
    SELECT 1
    FROM [PaymentItems] AS [p]
    WHERE [p].[OrderId] = [o].[Id])
2025-08-24 00:39:45.156 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Orders] AS [o]
        WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
            SELECT 1
            FROM [PaymentItems] AS [p]
            WHERE [p].[OrderId] = [o].[Id])) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-24 00:39:45.160 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalPrice]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
    SELECT 1
    FROM [PaymentItems] AS [p]
    WHERE [p].[OrderId] = [o].[Id])
2025-08-24 00:39:45.163 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Orders] AS [o]
        WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
            SELECT 1
            FROM [PaymentItems] AS [p]
            WHERE [p].[OrderId] = [o].[Id])) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-24 00:39:45.167 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalPrice]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
    SELECT 1
    FROM [PaymentItems] AS [p]
    WHERE [p].[OrderId] = [o].[Id])
2025-08-24 00:39:45.170 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Orders] AS [o]
        WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
            SELECT 1
            FROM [PaymentItems] AS [p]
            WHERE [p].[OrderId] = [o].[Id])) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-24 00:39:45.173 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalPrice]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
    SELECT 1
    FROM [PaymentItems] AS [p]
    WHERE [p].[OrderId] = [o].[Id])
2025-08-24 00:39:45.176 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__startDate_0='?' (DbType = DateTime2), @__endDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([p].[TotalAmount]), 0.0)
FROM [Payments] AS [p]
WHERE [p].[Status] = 2 AND [p].[CompletedAt] >= @__startDate_0 AND [p].[CompletedAt] < @__endDate_1
2025-08-24 00:39:45.179 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__today_0='?' (DbType = DateTime2), @__tomorrow_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Payments] AS [p]
WHERE [p].[Status] = 2 AND [p].[CompletedAt] >= @__today_0 AND [p].[CompletedAt] < @__tomorrow_1
2025-08-24 00:39:46.013 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/admin/cashier/table/1 - null null
2025-08-24 00:39:46.017 +03:00 [INF] Executing endpoint '/admin/cashier/table/{TableId:int} (/admin/cashier/table/{TableId:int})'
2025-08-24 00:39:46.021 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[Id] = @__p_0
2025-08-24 00:39:46.024 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice], [m].[Id], [m].[CreatedAt], [m].[Description], [m].[ImageData], [m].[ImageUrl], [m].[IsAvailable], [m].[MenuId], [m].[Name], [m].[Price]
FROM [Orders] AS [o]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[Id]
WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
    SELECT 1
    FROM [PaymentItems] AS [p]
    WHERE [p].[OrderId] = [o].[Id])
ORDER BY [o].[OrderDate]
2025-08-24 00:39:46.110 +03:00 [INF] Executed endpoint '/admin/cashier/table/{TableId:int} (/admin/cashier/table/{TableId:int})'
2025-08-24 00:39:46.112 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/admin/cashier/table/1 - 200 null text/html; charset=utf-8 98.9991ms
2025-08-24 00:39:46.145 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice], [m].[Id], [m].[CreatedAt], [m].[Description], [m].[ImageData], [m].[ImageUrl], [m].[IsAvailable], [m].[MenuId], [m].[Name], [m].[Price]
FROM [Orders] AS [o]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[Id]
WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
    SELECT 1
    FROM [PaymentItems] AS [p]
    WHERE [p].[OrderId] = [o].[Id])
ORDER BY [o].[OrderDate]
2025-08-24 00:39:52.225 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice], [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber], [m].[Id], [m].[CreatedAt], [m].[Description], [m].[ImageData], [m].[ImageUrl], [m].[IsAvailable], [m].[MenuId], [m].[Name], [m].[Price], [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[IsActive], [m0].[Name]
FROM [Orders] AS [o]
INNER JOIN [Tables] AS [t] ON [o].[TableId] = [t].[Id]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[Id]
INNER JOIN [Menus] AS [m0] ON [m].[MenuId] = [m0].[Id]
WHERE [o].[Status] IN (0, 1, 2)
ORDER BY [o].[OrderDate]
2025-08-24 00:40:10.280 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/menu?table=1&category=Ana%20Yemekler - null null
2025-08-24 00:40:10.283 +03:00 [INF] Executing endpoint '/menu (/menu)'
2025-08-24 00:40:10.290 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__tableNumber_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[TableNumber] = @__tableNumber_0
2025-08-24 00:40:10.301 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 00:40:10.380 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 00:40:10.419 +03:00 [INF] Executed endpoint '/menu (/menu)'
2025-08-24 00:40:10.420 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/menu?table=1&category=Ana%20Yemekler - 200 null text/html; charset=utf-8 140.5838ms
2025-08-24 00:40:10.462 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__tableNumber_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[TableNumber] = @__tableNumber_0
2025-08-24 00:40:10.465 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 00:40:10.543 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 00:40:12.477 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice], [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber], [m].[Id], [m].[CreatedAt], [m].[Description], [m].[ImageData], [m].[ImageUrl], [m].[IsAvailable], [m].[MenuId], [m].[Name], [m].[Price], [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[IsActive], [m0].[Name]
FROM [Orders] AS [o]
INNER JOIN [Tables] AS [t] ON [o].[TableId] = [t].[Id]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[Id]
INNER JOIN [Menus] AS [m0] ON [m].[MenuId] = [m0].[Id]
WHERE [o].[Status] IN (0, 1, 2)
ORDER BY [o].[OrderDate]
2025-08-24 00:40:14.299 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice], [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber], [m].[Id], [m].[CreatedAt], [m].[Description], [m].[ImageData], [m].[ImageUrl], [m].[IsAvailable], [m].[MenuId], [m].[Name], [m].[Price], [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[IsActive], [m0].[Name]
FROM [Orders] AS [o]
INNER JOIN [Tables] AS [t] ON [o].[TableId] = [t].[Id]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[Id]
INNER JOIN [Menus] AS [m0] ON [m].[MenuId] = [m0].[Id]
WHERE [o].[Status] IN (0, 1, 2)
ORDER BY [o].[OrderDate]
2025-08-24 00:40:19.257 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/.well-known/appspecific/com.chrome.devtools.json - null null
2025-08-24 00:40:19.261 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/.well-known/appspecific/com.chrome.devtools.json - 404 0 null 4.3518ms
2025-08-24 00:40:19.265 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5010/.well-known/appspecific/com.chrome.devtools.json, Response status code: 404
2025-08-24 00:40:22.234 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice], [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber], [m].[Id], [m].[CreatedAt], [m].[Description], [m].[ImageData], [m].[ImageUrl], [m].[IsAvailable], [m].[MenuId], [m].[Name], [m].[Price], [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[IsActive], [m0].[Name]
FROM [Orders] AS [o]
INNER JOIN [Tables] AS [t] ON [o].[TableId] = [t].[Id]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[Id]
INNER JOIN [Menus] AS [m0] ON [m].[MenuId] = [m0].[Id]
WHERE [o].[Status] IN (0, 1, 2)
ORDER BY [o].[OrderDate]
2025-08-24 00:40:42.464 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice], [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber], [m].[Id], [m].[CreatedAt], [m].[Description], [m].[ImageData], [m].[ImageUrl], [m].[IsAvailable], [m].[MenuId], [m].[Name], [m].[Price], [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[IsActive], [m0].[Name]
FROM [Orders] AS [o]
INNER JOIN [Tables] AS [t] ON [o].[TableId] = [t].[Id]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[Id]
INNER JOIN [Menus] AS [m0] ON [m].[MenuId] = [m0].[Id]
WHERE [o].[Status] IN (0, 1, 2)
ORDER BY [o].[OrderDate]
2025-08-24 00:40:44.309 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice], [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber], [m].[Id], [m].[CreatedAt], [m].[Description], [m].[ImageData], [m].[ImageUrl], [m].[IsAvailable], [m].[MenuId], [m].[Name], [m].[Price], [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[IsActive], [m0].[Name]
FROM [Orders] AS [o]
INNER JOIN [Tables] AS [t] ON [o].[TableId] = [t].[Id]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[Id]
INNER JOIN [Menus] AS [m0] ON [m].[MenuId] = [m0].[Id]
WHERE [o].[Status] IN (0, 1, 2)
ORDER BY [o].[OrderDate]
2025-08-24 00:41:12.467 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice], [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber], [m].[Id], [m].[CreatedAt], [m].[Description], [m].[ImageData], [m].[ImageUrl], [m].[IsAvailable], [m].[MenuId], [m].[Name], [m].[Price], [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[IsActive], [m0].[Name]
FROM [Orders] AS [o]
INNER JOIN [Tables] AS [t] ON [o].[TableId] = [t].[Id]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[Id]
INNER JOIN [Menus] AS [m0] ON [m].[MenuId] = [m0].[Id]
WHERE [o].[Status] IN (0, 1, 2)
ORDER BY [o].[OrderDate]
2025-08-24 00:41:14.301 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice], [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber], [m].[Id], [m].[CreatedAt], [m].[Description], [m].[ImageData], [m].[ImageUrl], [m].[IsAvailable], [m].[MenuId], [m].[Name], [m].[Price], [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[IsActive], [m0].[Name]
FROM [Orders] AS [o]
INNER JOIN [Tables] AS [t] ON [o].[TableId] = [t].[Id]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[Id]
INNER JOIN [Menus] AS [m0] ON [m].[MenuId] = [m0].[Id]
WHERE [o].[Status] IN (0, 1, 2)
ORDER BY [o].[OrderDate]
2025-08-24 00:41:42.512 +03:00 [INF] Executed DbCommand (36ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice], [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber], [m].[Id], [m].[CreatedAt], [m].[Description], [m].[ImageData], [m].[ImageUrl], [m].[IsAvailable], [m].[MenuId], [m].[Name], [m].[Price], [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[IsActive], [m0].[Name]
FROM [Orders] AS [o]
INNER JOIN [Tables] AS [t] ON [o].[TableId] = [t].[Id]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[Id]
INNER JOIN [Menus] AS [m0] ON [m].[MenuId] = [m0].[Id]
WHERE [o].[Status] IN (0, 1, 2)
ORDER BY [o].[OrderDate]
2025-08-24 00:41:44.294 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice], [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber], [m].[Id], [m].[CreatedAt], [m].[Description], [m].[ImageData], [m].[ImageUrl], [m].[IsAvailable], [m].[MenuId], [m].[Name], [m].[Price], [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[IsActive], [m0].[Name]
FROM [Orders] AS [o]
INNER JOIN [Tables] AS [t] ON [o].[TableId] = [t].[Id]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[Id]
INNER JOIN [Menus] AS [m0] ON [m].[MenuId] = [m0].[Id]
WHERE [o].[Status] IN (0, 1, 2)
ORDER BY [o].[OrderDate]
2025-08-24 00:42:12.470 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice], [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber], [m].[Id], [m].[CreatedAt], [m].[Description], [m].[ImageData], [m].[ImageUrl], [m].[IsAvailable], [m].[MenuId], [m].[Name], [m].[Price], [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[IsActive], [m0].[Name]
FROM [Orders] AS [o]
INNER JOIN [Tables] AS [t] ON [o].[TableId] = [t].[Id]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[Id]
INNER JOIN [Menus] AS [m0] ON [m].[MenuId] = [m0].[Id]
WHERE [o].[Status] IN (0, 1, 2)
ORDER BY [o].[OrderDate]
2025-08-24 00:42:14.295 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice], [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber], [m].[Id], [m].[CreatedAt], [m].[Description], [m].[ImageData], [m].[ImageUrl], [m].[IsAvailable], [m].[MenuId], [m].[Name], [m].[Price], [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[IsActive], [m0].[Name]
FROM [Orders] AS [o]
INNER JOIN [Tables] AS [t] ON [o].[TableId] = [t].[Id]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[Id]
INNER JOIN [Menus] AS [m0] ON [m].[MenuId] = [m0].[Id]
WHERE [o].[Status] IN (0, 1, 2)
ORDER BY [o].[OrderDate]
2025-08-24 00:42:42.510 +03:00 [INF] Executed DbCommand (37ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice], [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber], [m].[Id], [m].[CreatedAt], [m].[Description], [m].[ImageData], [m].[ImageUrl], [m].[IsAvailable], [m].[MenuId], [m].[Name], [m].[Price], [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[IsActive], [m0].[Name]
FROM [Orders] AS [o]
INNER JOIN [Tables] AS [t] ON [o].[TableId] = [t].[Id]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[Id]
INNER JOIN [Menus] AS [m0] ON [m].[MenuId] = [m0].[Id]
WHERE [o].[Status] IN (0, 1, 2)
ORDER BY [o].[OrderDate]
2025-08-24 00:42:44.303 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice], [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber], [m].[Id], [m].[CreatedAt], [m].[Description], [m].[ImageData], [m].[ImageUrl], [m].[IsAvailable], [m].[MenuId], [m].[Name], [m].[Price], [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[IsActive], [m0].[Name]
FROM [Orders] AS [o]
INNER JOIN [Tables] AS [t] ON [o].[TableId] = [t].[Id]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[Id]
INNER JOIN [Menus] AS [m0] ON [m].[MenuId] = [m0].[Id]
WHERE [o].[Status] IN (0, 1, 2)
ORDER BY [o].[OrderDate]
2025-08-24 00:42:59.890 +03:00 [INF] Application is shutting down...
2025-08-24 00:42:59.890 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 00:42:59.890 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 00:42:59.891 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/_blazor?id=7AE7_VrsDE5qTEShN1xiCA - 101 null null 257577.1642ms
2025-08-24 00:42:59.892 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/_blazor?id=Et6HHaAcJ8BaZsFuP6S3tg - 101 null null 429953.5981ms
2025-08-24 00:43:46.028 +03:00 [INF] User profile is available. Using 'C:\Users\fatih\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-24 00:43:46.825 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-24 00:43:46.884 +03:00 [INF] Executed DbCommand (50ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-08-24 00:43:47.141 +03:00 [INF] Executed DbCommand (35ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-08-24 00:43:47.243 +03:00 [INF] Executed DbCommand (33ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 00:43:47.287 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 00:43:47.290 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 00:43:47.291 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 00:43:47.293 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 00:43:47.296 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 00:43:47.298 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 00:43:47.401 +03:00 [INF] Executed DbCommand (35ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 500), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p7='?' (DbType = Int32), @p8='?' (Size = 500), @p9='?' (DbType = DateTime2), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p14='?' (DbType = Int32), @p15='?' (Size = 500), @p16='?' (DbType = DateTime2), @p17='?' (DbType = Int32), @p18='?' (DbType = Int32), @p19='?' (DbType = Int32), @p20='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p21='?' (DbType = Int32), @p22='?' (Size = 500), @p23='?' (DbType = DateTime2), @p24='?' (DbType = Int32), @p25='?' (DbType = Int32), @p26='?' (DbType = Int32), @p27='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p28='?' (DbType = Int32), @p29='?' (Size = 500), @p30='?' (DbType = DateTime2), @p31='?' (DbType = Int32), @p32='?' (DbType = Int32), @p33='?' (DbType = Int32), @p34='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p35='?' (DbType = Int32), @p36='?' (Size = 500), @p37='?' (DbType = DateTime2), @p38='?' (DbType = Int32), @p39='?' (DbType = Int32), @p40='?' (DbType = Int32), @p41='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p42='?' (DbType = Int32), @p43='?' (Size = 500), @p44='?' (DbType = DateTime2), @p45='?' (DbType = Int32), @p46='?' (DbType = Int32), @p47='?' (DbType = Int32), @p48='?' (Precision = 18) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [Orders] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, 0),
(@p7, @p8, @p9, @p10, @p11, @p12, @p13, 1),
(@p14, @p15, @p16, @p17, @p18, @p19, @p20, 2),
(@p21, @p22, @p23, @p24, @p25, @p26, @p27, 3),
(@p28, @p29, @p30, @p31, @p32, @p33, @p34, 4),
(@p35, @p36, @p37, @p38, @p39, @p40, @p41, 5),
(@p42, @p43, @p44, @p45, @p46, @p47, @p48, 6)) AS i ([MenuItemId], [Notes], [OrderDate], [Quantity], [Status], [TableId], [TotalPrice], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([MenuItemId], [Notes], [OrderDate], [Quantity], [Status], [TableId], [TotalPrice])
VALUES (i.[MenuItemId], i.[Notes], i.[OrderDate], i.[Quantity], i.[Status], i.[TableId], i.[TotalPrice])
OUTPUT INSERTED.[Id], i._Position;
2025-08-24 00:43:47.418 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'RestaurantOrdering.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The MERGE statement conflicted with the FOREIGN KEY constraint "FK_Orders_MenuItems_MenuItemId". The conflict occurred in database "RestaurantOrderingDb", table "dbo.MenuItems", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:973ed6fb-f279-4c41-a393-2da613284377
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The MERGE statement conflicted with the FOREIGN KEY constraint "FK_Orders_MenuItems_MenuItemId". The conflict occurred in database "RestaurantOrderingDb", table "dbo.MenuItems", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:973ed6fb-f279-4c41-a393-2da613284377
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-24 00:43:47.424 +03:00 [ERR] An error occurred creating the DB.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The MERGE statement conflicted with the FOREIGN KEY constraint "FK_Orders_MenuItems_MenuItemId". The conflict occurred in database "RestaurantOrderingDb", table "dbo.MenuItems", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:973ed6fb-f279-4c41-a393-2da613284377
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at RestaurantOrdering.Services.TestOrderService.CreateTestOrdersAsync() in C:\Users\fatih\Desktop\AI\Restorant\Services\TestOrderService.cs:line 119
   at Program.<Main>$(String[] args) in C:\Users\fatih\Desktop\AI\Restorant\Program.cs:line 101
2025-08-24 00:43:47.537 +03:00 [INF] Now listening on: http://localhost:5010
2025-08-24 00:43:47.540 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-24 00:43:47.541 +03:00 [INF] Hosting environment: Development
2025-08-24 00:43:47.542 +03:00 [INF] Content root path: C:\Users\fatih\Desktop\AI\Restorant
2025-08-24 00:43:49.862 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5010/_blazor/negotiate?negotiateVersion=1 - null 0
2025-08-24 00:43:49.868 +03:00 [WRN] Failed to determine the https port for redirect.
2025-08-24 00:43:49.900 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 00:43:49.910 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 00:43:49.912 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5010/_blazor/negotiate?negotiateVersion=1 - 200 316 application/json 51.4496ms
2025-08-24 00:43:49.915 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/_blazor?id=H9iL5C16ztXReWANITBFcg - null null
2025-08-24 00:43:49.920 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 00:43:51.920 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/ - null null
2025-08-24 00:43:51.933 +03:00 [INF] Executing endpoint '/ (/)'
2025-08-24 00:43:51.999 +03:00 [INF] Executed endpoint '/ (/)'
2025-08-24 00:43:52.002 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/ - 200 null text/html; charset=utf-8 82.4933ms
2025-08-24 00:43:52.064 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/app.css - null null
2025-08-24 00:43:52.064 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/_framework/blazor.web.js - null null
2025-08-24 00:43:52.070 +03:00 [INF] Executing endpoint 'Blazor web static files'
2025-08-24 00:43:52.070 +03:00 [INF] The file /app.css was not modified
2025-08-24 00:43:52.071 +03:00 [INF] The file /_framework/blazor.web.js was not modified
2025-08-24 00:43:52.072 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/app.css - 304 null text/css 7.4305ms
2025-08-24 00:43:52.073 +03:00 [INF] Executed endpoint 'Blazor web static files'
2025-08-24 00:43:52.075 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/_framework/blazor.web.js - 304 null text/javascript 10.5331ms
2025-08-24 00:43:57.727 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/ - null null
2025-08-24 00:43:57.730 +03:00 [INF] Executing endpoint '/ (/)'
2025-08-24 00:43:57.737 +03:00 [INF] Executed endpoint '/ (/)'
2025-08-24 00:43:57.739 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/ - 200 null text/html; charset=utf-8 11.9578ms
2025-08-24 00:43:57.749 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/_framework/blazor.web.js - null null
2025-08-24 00:43:57.757 +03:00 [INF] Executing endpoint 'Blazor web static files'
2025-08-24 00:43:57.759 +03:00 [INF] The file /_framework/blazor.web.js was not modified
2025-08-24 00:43:57.760 +03:00 [INF] Executed endpoint 'Blazor web static files'
2025-08-24 00:43:57.761 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/_framework/blazor.web.js - 304 null text/javascript 12.3034ms
2025-08-24 00:44:00.747 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/menu?table=1&category=Ana%20Yemekler - null null
2025-08-24 00:44:00.750 +03:00 [INF] Executing endpoint '/menu (/menu)'
2025-08-24 00:44:00.820 +03:00 [INF] Executed DbCommand (24ms) [Parameters=[@__tableNumber_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[TableNumber] = @__tableNumber_0
2025-08-24 00:44:00.948 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 00:44:01.092 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 00:44:01.286 +03:00 [INF] Executed endpoint '/menu (/menu)'
2025-08-24 00:44:01.291 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/menu?table=1&category=Ana%20Yemekler - 200 null text/html; charset=utf-8 544.4134ms
2025-08-24 00:44:01.306 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/_blazor/initializers - null null
2025-08-24 00:44:01.311 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 00:44:01.320 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 00:44:01.321 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/_blazor/initializers - 200 null application/json; charset=utf-8 14.6557ms
2025-08-24 00:44:01.336 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5010/_blazor/negotiate?negotiateVersion=1 - null 0
2025-08-24 00:44:01.340 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 00:44:01.342 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 00:44:01.343 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5010/_blazor/negotiate?negotiateVersion=1 - 200 316 application/json 7.1264ms
2025-08-24 00:44:01.346 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/_blazor?id=S5DW2KtRpi-bOow8FGjgYQ - null null
2025-08-24 00:44:01.350 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 00:44:01.518 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__tableNumber_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[TableNumber] = @__tableNumber_0
2025-08-24 00:44:01.525 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 00:44:01.637 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 00:45:00.475 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 00:45:00.476 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/_blazor?id=H9iL5C16ztXReWANITBFcg - 101 null null 70561.4499ms
2025-08-24 00:45:00.476 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 00:45:00.476 +03:00 [INF] Application is shutting down...
2025-08-24 00:45:00.479 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/_blazor?id=S5DW2KtRpi-bOow8FGjgYQ - 101 null null 59132.1863ms
2025-08-24 00:46:56.531 +03:00 [INF] User profile is available. Using 'C:\Users\fatih\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-24 00:46:57.352 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-24 00:46:57.430 +03:00 [INF] Executed DbCommand (66ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-08-24 00:46:57.735 +03:00 [INF] Executed DbCommand (39ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-08-24 00:46:57.832 +03:00 [INF] Executed DbCommand (34ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 00:46:57.873 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 00:46:57.875 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 00:46:57.877 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 00:46:57.879 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 00:46:57.881 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 00:46:57.883 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 00:46:57.981 +03:00 [INF] Executed DbCommand (34ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 500), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p7='?' (DbType = Int32), @p8='?' (Size = 500), @p9='?' (DbType = DateTime2), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p14='?' (DbType = Int32), @p15='?' (Size = 500), @p16='?' (DbType = DateTime2), @p17='?' (DbType = Int32), @p18='?' (DbType = Int32), @p19='?' (DbType = Int32), @p20='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p21='?' (DbType = Int32), @p22='?' (Size = 500), @p23='?' (DbType = DateTime2), @p24='?' (DbType = Int32), @p25='?' (DbType = Int32), @p26='?' (DbType = Int32), @p27='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p28='?' (DbType = Int32), @p29='?' (Size = 500), @p30='?' (DbType = DateTime2), @p31='?' (DbType = Int32), @p32='?' (DbType = Int32), @p33='?' (DbType = Int32), @p34='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p35='?' (DbType = Int32), @p36='?' (Size = 500), @p37='?' (DbType = DateTime2), @p38='?' (DbType = Int32), @p39='?' (DbType = Int32), @p40='?' (DbType = Int32), @p41='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p42='?' (DbType = Int32), @p43='?' (Size = 500), @p44='?' (DbType = DateTime2), @p45='?' (DbType = Int32), @p46='?' (DbType = Int32), @p47='?' (DbType = Int32), @p48='?' (Precision = 18) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [Orders] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, 0),
(@p7, @p8, @p9, @p10, @p11, @p12, @p13, 1),
(@p14, @p15, @p16, @p17, @p18, @p19, @p20, 2),
(@p21, @p22, @p23, @p24, @p25, @p26, @p27, 3),
(@p28, @p29, @p30, @p31, @p32, @p33, @p34, 4),
(@p35, @p36, @p37, @p38, @p39, @p40, @p41, 5),
(@p42, @p43, @p44, @p45, @p46, @p47, @p48, 6)) AS i ([MenuItemId], [Notes], [OrderDate], [Quantity], [Status], [TableId], [TotalPrice], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([MenuItemId], [Notes], [OrderDate], [Quantity], [Status], [TableId], [TotalPrice])
VALUES (i.[MenuItemId], i.[Notes], i.[OrderDate], i.[Quantity], i.[Status], i.[TableId], i.[TotalPrice])
OUTPUT INSERTED.[Id], i._Position;
2025-08-24 00:46:58.000 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'RestaurantOrdering.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The MERGE statement conflicted with the FOREIGN KEY constraint "FK_Orders_MenuItems_MenuItemId". The conflict occurred in database "RestaurantOrderingDb", table "dbo.MenuItems", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:5898ac72-c263-4e02-ba32-c83239d3befc
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The MERGE statement conflicted with the FOREIGN KEY constraint "FK_Orders_MenuItems_MenuItemId". The conflict occurred in database "RestaurantOrderingDb", table "dbo.MenuItems", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:5898ac72-c263-4e02-ba32-c83239d3befc
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-24 00:46:58.008 +03:00 [ERR] An error occurred creating the DB.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The MERGE statement conflicted with the FOREIGN KEY constraint "FK_Orders_MenuItems_MenuItemId". The conflict occurred in database "RestaurantOrderingDb", table "dbo.MenuItems", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:5898ac72-c263-4e02-ba32-c83239d3befc
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at RestaurantOrdering.Services.TestOrderService.CreateTestOrdersAsync() in C:\Users\fatih\Desktop\AI\Restorant\Services\TestOrderService.cs:line 119
   at Program.<Main>$(String[] args) in C:\Users\fatih\Desktop\AI\Restorant\Program.cs:line 101
2025-08-24 00:46:58.102 +03:00 [INF] Now listening on: http://localhost:5010
2025-08-24 00:46:58.105 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-24 00:46:58.106 +03:00 [INF] Hosting environment: Development
2025-08-24 00:46:58.107 +03:00 [INF] Content root path: C:\Users\fatih\Desktop\AI\Restorant
2025-08-24 00:46:59.557 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/ - null null
2025-08-24 00:46:59.563 +03:00 [WRN] Failed to determine the https port for redirect.
2025-08-24 00:46:59.598 +03:00 [INF] Executing endpoint '/ (/)'
2025-08-24 00:46:59.677 +03:00 [INF] Executed endpoint '/ (/)'
2025-08-24 00:46:59.681 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/ - 200 null text/html; charset=utf-8 124.9676ms
2025-08-24 00:46:59.868 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/_framework/blazor.web.js - null null
2025-08-24 00:46:59.874 +03:00 [INF] Executing endpoint 'Blazor web static files'
2025-08-24 00:46:59.877 +03:00 [INF] The file /_framework/blazor.web.js was not modified
2025-08-24 00:46:59.878 +03:00 [INF] Executed endpoint 'Blazor web static files'
2025-08-24 00:46:59.879 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/_framework/blazor.web.js - 304 null text/javascript 11.4021ms
2025-08-24 00:47:02.630 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/menu?table=1&category=Ana%20Yemekler - null null
2025-08-24 00:47:02.648 +03:00 [INF] Executing endpoint '/menu (/menu)'
2025-08-24 00:47:02.695 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__tableNumber_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[TableNumber] = @__tableNumber_0
2025-08-24 00:47:02.822 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 00:47:02.946 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 00:47:03.115 +03:00 [INF] Executed endpoint '/menu (/menu)'
2025-08-24 00:47:03.119 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/menu?table=1&category=Ana%20Yemekler - 200 null text/html; charset=utf-8 488.4019ms
2025-08-24 00:47:03.157 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/_blazor/initializers - null null
2025-08-24 00:47:03.160 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 00:47:03.166 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 00:47:03.167 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/_blazor/initializers - 200 null application/json; charset=utf-8 9.9673ms
2025-08-24 00:47:03.175 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5010/_blazor/negotiate?negotiateVersion=1 - null 0
2025-08-24 00:47:03.180 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 00:47:03.187 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 00:47:03.188 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5010/_blazor/negotiate?negotiateVersion=1 - 200 316 application/json 12.7497ms
2025-08-24 00:47:03.192 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/_blazor?id=qdPwObToXSiUJRLPEN8rHQ - null null
2025-08-24 00:47:03.196 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 00:47:03.389 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__tableNumber_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[TableNumber] = @__tableNumber_0
2025-08-24 00:47:03.396 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 00:47:03.504 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 00:48:47.313 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 00:48:47.314 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/_blazor?id=qdPwObToXSiUJRLPEN8rHQ - 101 null null 104122.1599ms
2025-08-24 00:48:50.100 +03:00 [INF] Application is shutting down...
2025-08-24 00:49:10.850 +03:00 [INF] User profile is available. Using 'C:\Users\fatih\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-24 00:49:11.658 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-24 00:49:11.730 +03:00 [INF] Executed DbCommand (64ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-08-24 00:49:11.985 +03:00 [INF] Executed DbCommand (32ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-08-24 00:49:12.060 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 00:49:12.108 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 00:49:12.112 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 00:49:12.115 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 00:49:12.117 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 00:49:12.119 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 00:49:12.122 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 00:49:12.269 +03:00 [INF] Executed DbCommand (34ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 500), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p7='?' (DbType = Int32), @p8='?' (Size = 500), @p9='?' (DbType = DateTime2), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p14='?' (DbType = Int32), @p15='?' (Size = 500), @p16='?' (DbType = DateTime2), @p17='?' (DbType = Int32), @p18='?' (DbType = Int32), @p19='?' (DbType = Int32), @p20='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p21='?' (DbType = Int32), @p22='?' (Size = 500), @p23='?' (DbType = DateTime2), @p24='?' (DbType = Int32), @p25='?' (DbType = Int32), @p26='?' (DbType = Int32), @p27='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p28='?' (DbType = Int32), @p29='?' (Size = 500), @p30='?' (DbType = DateTime2), @p31='?' (DbType = Int32), @p32='?' (DbType = Int32), @p33='?' (DbType = Int32), @p34='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p35='?' (DbType = Int32), @p36='?' (Size = 500), @p37='?' (DbType = DateTime2), @p38='?' (DbType = Int32), @p39='?' (DbType = Int32), @p40='?' (DbType = Int32), @p41='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p42='?' (DbType = Int32), @p43='?' (Size = 500), @p44='?' (DbType = DateTime2), @p45='?' (DbType = Int32), @p46='?' (DbType = Int32), @p47='?' (DbType = Int32), @p48='?' (Precision = 18) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [Orders] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, 0),
(@p7, @p8, @p9, @p10, @p11, @p12, @p13, 1),
(@p14, @p15, @p16, @p17, @p18, @p19, @p20, 2),
(@p21, @p22, @p23, @p24, @p25, @p26, @p27, 3),
(@p28, @p29, @p30, @p31, @p32, @p33, @p34, 4),
(@p35, @p36, @p37, @p38, @p39, @p40, @p41, 5),
(@p42, @p43, @p44, @p45, @p46, @p47, @p48, 6)) AS i ([MenuItemId], [Notes], [OrderDate], [Quantity], [Status], [TableId], [TotalPrice], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([MenuItemId], [Notes], [OrderDate], [Quantity], [Status], [TableId], [TotalPrice])
VALUES (i.[MenuItemId], i.[Notes], i.[OrderDate], i.[Quantity], i.[Status], i.[TableId], i.[TotalPrice])
OUTPUT INSERTED.[Id], i._Position;
2025-08-24 00:49:12.287 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'RestaurantOrdering.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The MERGE statement conflicted with the FOREIGN KEY constraint "FK_Orders_MenuItems_MenuItemId". The conflict occurred in database "RestaurantOrderingDb", table "dbo.MenuItems", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:973d7357-26c0-4428-9e6b-2f7ec61c0702
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The MERGE statement conflicted with the FOREIGN KEY constraint "FK_Orders_MenuItems_MenuItemId". The conflict occurred in database "RestaurantOrderingDb", table "dbo.MenuItems", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:973d7357-26c0-4428-9e6b-2f7ec61c0702
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-24 00:49:12.294 +03:00 [ERR] An error occurred creating the DB.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The MERGE statement conflicted with the FOREIGN KEY constraint "FK_Orders_MenuItems_MenuItemId". The conflict occurred in database "RestaurantOrderingDb", table "dbo.MenuItems", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:973d7357-26c0-4428-9e6b-2f7ec61c0702
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at RestaurantOrdering.Services.TestOrderService.CreateTestOrdersAsync() in C:\Users\fatih\Desktop\AI\Restorant\Services\TestOrderService.cs:line 119
   at Program.<Main>$(String[] args) in C:\Users\fatih\Desktop\AI\Restorant\Program.cs:line 101
2025-08-24 00:49:12.381 +03:00 [INF] Now listening on: http://localhost:5010
2025-08-24 00:49:12.385 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-24 00:49:12.386 +03:00 [INF] Hosting environment: Development
2025-08-24 00:49:12.387 +03:00 [INF] Content root path: C:\Users\fatih\Desktop\AI\Restorant
2025-08-24 00:49:15.023 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/ - null null
2025-08-24 00:49:15.031 +03:00 [WRN] Failed to determine the https port for redirect.
2025-08-24 00:49:15.073 +03:00 [INF] Executing endpoint '/ (/)'
2025-08-24 00:49:15.173 +03:00 [INF] Executed endpoint '/ (/)'
2025-08-24 00:49:15.179 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/ - 200 null text/html; charset=utf-8 156.8556ms
2025-08-24 00:49:15.399 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/RestaurantOrdering.styles.css - null null
2025-08-24 00:49:15.400 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/_framework/blazor.web.js - null null
2025-08-24 00:49:15.406 +03:00 [INF] The file /RestaurantOrdering.styles.css was not modified
2025-08-24 00:49:15.408 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/RestaurantOrdering.styles.css - 304 null text/css 8.637ms
2025-08-24 00:49:15.410 +03:00 [INF] Executing endpoint 'Blazor web static files'
2025-08-24 00:49:15.413 +03:00 [INF] The file /_framework/blazor.web.js was not modified
2025-08-24 00:49:15.414 +03:00 [INF] Executed endpoint 'Blazor web static files'
2025-08-24 00:49:15.416 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/_framework/blazor.web.js - 304 null text/javascript 15.7391ms
2025-08-24 00:49:19.493 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/menu?table=1&category=Ana%20Yemekler - null null
2025-08-24 00:49:19.506 +03:00 [INF] Executing endpoint '/menu (/menu)'
2025-08-24 00:49:19.563 +03:00 [INF] Executed DbCommand (25ms) [Parameters=[@__tableNumber_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[TableNumber] = @__tableNumber_0
2025-08-24 00:49:19.701 +03:00 [INF] Executed DbCommand (30ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 00:49:19.819 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 00:49:20.003 +03:00 [INF] Executed endpoint '/menu (/menu)'
2025-08-24 00:49:20.007 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/menu?table=1&category=Ana%20Yemekler - 200 null text/html; charset=utf-8 513.7113ms
2025-08-24 00:49:20.044 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/_blazor/initializers - null null
2025-08-24 00:49:20.047 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 00:49:20.052 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 00:49:20.053 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/_blazor/initializers - 200 null application/json; charset=utf-8 8.9767ms
2025-08-24 00:49:20.061 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5010/_blazor/negotiate?negotiateVersion=1 - null 0
2025-08-24 00:49:20.066 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 00:49:20.072 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 00:49:20.074 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5010/_blazor/negotiate?negotiateVersion=1 - 200 316 application/json 12.5834ms
2025-08-24 00:49:20.076 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/_blazor?id=vDJ8dX7Juch9LtUlEHmfcw - null null
2025-08-24 00:49:20.079 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 00:49:20.254 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__tableNumber_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[TableNumber] = @__tableNumber_0
2025-08-24 00:49:20.260 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 00:49:20.357 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 00:49:25.614 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/.well-known/appspecific/com.chrome.devtools.json - null null
2025-08-24 00:49:25.619 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/.well-known/appspecific/com.chrome.devtools.json - 404 0 null 4.6018ms
2025-08-24 00:49:25.623 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5010/.well-known/appspecific/com.chrome.devtools.json, Response status code: 404
2025-08-24 00:49:40.587 +03:00 [INF] Application is shutting down...
2025-08-24 00:49:40.587 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 00:49:40.588 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/_blazor?id=vDJ8dX7Juch9LtUlEHmfcw - 101 null null 20512.051ms
2025-08-24 00:53:18.472 +03:00 [INF] User profile is available. Using 'C:\Users\fatih\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-24 00:53:19.248 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-24 00:53:19.296 +03:00 [INF] Executed DbCommand (38ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-08-24 00:53:19.553 +03:00 [INF] Executed DbCommand (34ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-08-24 00:53:19.654 +03:00 [INF] Executed DbCommand (34ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 00:53:19.694 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 00:53:19.697 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 00:53:19.698 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 00:53:19.700 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 00:53:19.702 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 00:53:19.705 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 00:53:19.810 +03:00 [INF] Executed DbCommand (32ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 500), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p7='?' (DbType = Int32), @p8='?' (Size = 500), @p9='?' (DbType = DateTime2), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p14='?' (DbType = Int32), @p15='?' (Size = 500), @p16='?' (DbType = DateTime2), @p17='?' (DbType = Int32), @p18='?' (DbType = Int32), @p19='?' (DbType = Int32), @p20='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p21='?' (DbType = Int32), @p22='?' (Size = 500), @p23='?' (DbType = DateTime2), @p24='?' (DbType = Int32), @p25='?' (DbType = Int32), @p26='?' (DbType = Int32), @p27='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p28='?' (DbType = Int32), @p29='?' (Size = 500), @p30='?' (DbType = DateTime2), @p31='?' (DbType = Int32), @p32='?' (DbType = Int32), @p33='?' (DbType = Int32), @p34='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p35='?' (DbType = Int32), @p36='?' (Size = 500), @p37='?' (DbType = DateTime2), @p38='?' (DbType = Int32), @p39='?' (DbType = Int32), @p40='?' (DbType = Int32), @p41='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p42='?' (DbType = Int32), @p43='?' (Size = 500), @p44='?' (DbType = DateTime2), @p45='?' (DbType = Int32), @p46='?' (DbType = Int32), @p47='?' (DbType = Int32), @p48='?' (Precision = 18) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [Orders] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, 0),
(@p7, @p8, @p9, @p10, @p11, @p12, @p13, 1),
(@p14, @p15, @p16, @p17, @p18, @p19, @p20, 2),
(@p21, @p22, @p23, @p24, @p25, @p26, @p27, 3),
(@p28, @p29, @p30, @p31, @p32, @p33, @p34, 4),
(@p35, @p36, @p37, @p38, @p39, @p40, @p41, 5),
(@p42, @p43, @p44, @p45, @p46, @p47, @p48, 6)) AS i ([MenuItemId], [Notes], [OrderDate], [Quantity], [Status], [TableId], [TotalPrice], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([MenuItemId], [Notes], [OrderDate], [Quantity], [Status], [TableId], [TotalPrice])
VALUES (i.[MenuItemId], i.[Notes], i.[OrderDate], i.[Quantity], i.[Status], i.[TableId], i.[TotalPrice])
OUTPUT INSERTED.[Id], i._Position;
2025-08-24 00:53:19.830 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'RestaurantOrdering.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The MERGE statement conflicted with the FOREIGN KEY constraint "FK_Orders_MenuItems_MenuItemId". The conflict occurred in database "RestaurantOrderingDb", table "dbo.MenuItems", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:c1d2a457-f5f2-45ad-aadb-b813e2bc5354
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The MERGE statement conflicted with the FOREIGN KEY constraint "FK_Orders_MenuItems_MenuItemId". The conflict occurred in database "RestaurantOrderingDb", table "dbo.MenuItems", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:c1d2a457-f5f2-45ad-aadb-b813e2bc5354
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-24 00:53:19.837 +03:00 [ERR] An error occurred creating the DB.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The MERGE statement conflicted with the FOREIGN KEY constraint "FK_Orders_MenuItems_MenuItemId". The conflict occurred in database "RestaurantOrderingDb", table "dbo.MenuItems", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:c1d2a457-f5f2-45ad-aadb-b813e2bc5354
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at RestaurantOrdering.Services.TestOrderService.CreateTestOrdersAsync() in C:\Users\fatih\Desktop\AI\Restorant\Services\TestOrderService.cs:line 119
   at Program.<Main>$(String[] args) in C:\Users\fatih\Desktop\AI\Restorant\Program.cs:line 101
2025-08-24 00:53:19.937 +03:00 [INF] Now listening on: http://localhost:5010
2025-08-24 00:53:19.940 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-24 00:53:19.941 +03:00 [INF] Hosting environment: Development
2025-08-24 00:53:19.942 +03:00 [INF] Content root path: C:\Users\fatih\Desktop\AI\Restorant
2025-08-24 00:53:21.218 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/ - null null
2025-08-24 00:53:21.223 +03:00 [WRN] Failed to determine the https port for redirect.
2025-08-24 00:53:21.269 +03:00 [INF] Executing endpoint '/ (/)'
2025-08-24 00:53:21.369 +03:00 [INF] Executed endpoint '/ (/)'
2025-08-24 00:53:21.372 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/ - 200 null text/html; charset=utf-8 155.501ms
2025-08-24 00:53:21.490 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/_framework/blazor.web.js - null null
2025-08-24 00:53:21.496 +03:00 [INF] Executing endpoint 'Blazor web static files'
2025-08-24 00:53:21.500 +03:00 [INF] The file /_framework/blazor.web.js was not modified
2025-08-24 00:53:21.502 +03:00 [INF] Executed endpoint 'Blazor web static files'
2025-08-24 00:53:21.503 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/_framework/blazor.web.js - 304 null text/javascript 13.1457ms
2025-08-24 00:53:23.871 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/menu?table=1&category=Ana%20Yemekler - null null
2025-08-24 00:53:23.888 +03:00 [INF] Executing endpoint '/menu (/menu)'
2025-08-24 00:53:23.929 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__tableNumber_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[TableNumber] = @__tableNumber_0
2025-08-24 00:53:24.070 +03:00 [INF] Executed DbCommand (32ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 00:53:24.187 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 00:53:24.327 +03:00 [INF] Executed endpoint '/menu (/menu)'
2025-08-24 00:53:24.332 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/menu?table=1&category=Ana%20Yemekler - 200 null text/html; charset=utf-8 461.6659ms
2025-08-24 00:53:24.374 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/_blazor/initializers - null null
2025-08-24 00:53:24.377 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 00:53:24.382 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 00:53:24.384 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/_blazor/initializers - 200 null application/json; charset=utf-8 9.3915ms
2025-08-24 00:53:24.392 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5010/_blazor/negotiate?negotiateVersion=1 - null 0
2025-08-24 00:53:24.396 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 00:53:24.406 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 00:53:24.408 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5010/_blazor/negotiate?negotiateVersion=1 - 200 316 application/json 15.6017ms
2025-08-24 00:53:24.413 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/_blazor?id=wV8vcz3rHKzri7GC81excg - null null
2025-08-24 00:53:24.416 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 00:53:24.594 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__tableNumber_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[TableNumber] = @__tableNumber_0
2025-08-24 00:53:24.600 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 00:53:24.701 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 00:55:47.589 +03:00 [INF] Application is shutting down...
2025-08-24 00:55:47.590 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 00:55:47.590 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/_blazor?id=wV8vcz3rHKzri7GC81excg - 101 null null 143177.5252ms
2025-08-24 00:57:47.338 +03:00 [INF] User profile is available. Using 'C:\Users\fatih\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-24 00:57:48.091 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-24 00:57:48.154 +03:00 [INF] Executed DbCommand (54ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-08-24 00:57:48.381 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-08-24 00:57:48.479 +03:00 [INF] Executed DbCommand (33ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 00:57:48.515 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 00:57:48.518 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 00:57:48.519 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 00:57:48.521 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 00:57:48.525 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 00:57:48.527 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 00:57:48.631 +03:00 [INF] Executed DbCommand (31ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 500), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p7='?' (DbType = Int32), @p8='?' (Size = 500), @p9='?' (DbType = DateTime2), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p14='?' (DbType = Int32), @p15='?' (Size = 500), @p16='?' (DbType = DateTime2), @p17='?' (DbType = Int32), @p18='?' (DbType = Int32), @p19='?' (DbType = Int32), @p20='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p21='?' (DbType = Int32), @p22='?' (Size = 500), @p23='?' (DbType = DateTime2), @p24='?' (DbType = Int32), @p25='?' (DbType = Int32), @p26='?' (DbType = Int32), @p27='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p28='?' (DbType = Int32), @p29='?' (Size = 500), @p30='?' (DbType = DateTime2), @p31='?' (DbType = Int32), @p32='?' (DbType = Int32), @p33='?' (DbType = Int32), @p34='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p35='?' (DbType = Int32), @p36='?' (Size = 500), @p37='?' (DbType = DateTime2), @p38='?' (DbType = Int32), @p39='?' (DbType = Int32), @p40='?' (DbType = Int32), @p41='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p42='?' (DbType = Int32), @p43='?' (Size = 500), @p44='?' (DbType = DateTime2), @p45='?' (DbType = Int32), @p46='?' (DbType = Int32), @p47='?' (DbType = Int32), @p48='?' (Precision = 18) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [Orders] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, 0),
(@p7, @p8, @p9, @p10, @p11, @p12, @p13, 1),
(@p14, @p15, @p16, @p17, @p18, @p19, @p20, 2),
(@p21, @p22, @p23, @p24, @p25, @p26, @p27, 3),
(@p28, @p29, @p30, @p31, @p32, @p33, @p34, 4),
(@p35, @p36, @p37, @p38, @p39, @p40, @p41, 5),
(@p42, @p43, @p44, @p45, @p46, @p47, @p48, 6)) AS i ([MenuItemId], [Notes], [OrderDate], [Quantity], [Status], [TableId], [TotalPrice], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([MenuItemId], [Notes], [OrderDate], [Quantity], [Status], [TableId], [TotalPrice])
VALUES (i.[MenuItemId], i.[Notes], i.[OrderDate], i.[Quantity], i.[Status], i.[TableId], i.[TotalPrice])
OUTPUT INSERTED.[Id], i._Position;
2025-08-24 00:57:48.650 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'RestaurantOrdering.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The MERGE statement conflicted with the FOREIGN KEY constraint "FK_Orders_MenuItems_MenuItemId". The conflict occurred in database "RestaurantOrderingDb", table "dbo.MenuItems", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:8918bb61-9255-4e7b-a1de-5d4adf2144de
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The MERGE statement conflicted with the FOREIGN KEY constraint "FK_Orders_MenuItems_MenuItemId". The conflict occurred in database "RestaurantOrderingDb", table "dbo.MenuItems", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:8918bb61-9255-4e7b-a1de-5d4adf2144de
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-24 00:57:48.658 +03:00 [ERR] An error occurred creating the DB.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The MERGE statement conflicted with the FOREIGN KEY constraint "FK_Orders_MenuItems_MenuItemId". The conflict occurred in database "RestaurantOrderingDb", table "dbo.MenuItems", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:8918bb61-9255-4e7b-a1de-5d4adf2144de
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at RestaurantOrdering.Services.TestOrderService.CreateTestOrdersAsync() in C:\Users\fatih\Desktop\AI\Restorant\Services\TestOrderService.cs:line 119
   at Program.<Main>$(String[] args) in C:\Users\fatih\Desktop\AI\Restorant\Program.cs:line 101
2025-08-24 00:57:48.759 +03:00 [INF] Now listening on: http://localhost:5010
2025-08-24 00:57:48.762 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-24 00:57:48.763 +03:00 [INF] Hosting environment: Development
2025-08-24 00:57:48.764 +03:00 [INF] Content root path: C:\Users\fatih\Desktop\AI\Restorant
2025-08-24 00:57:56.029 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/ - null null
2025-08-24 00:57:56.035 +03:00 [WRN] Failed to determine the https port for redirect.
2025-08-24 00:57:56.073 +03:00 [INF] Executing endpoint '/ (/)'
2025-08-24 00:57:56.203 +03:00 [INF] Executed endpoint '/ (/)'
2025-08-24 00:57:56.210 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/ - 200 null text/html; charset=utf-8 182.0883ms
2025-08-24 00:57:56.227 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/_framework/blazor.web.js - null null
2025-08-24 00:57:56.234 +03:00 [INF] Executing endpoint 'Blazor web static files'
2025-08-24 00:57:56.239 +03:00 [INF] The file /_framework/blazor.web.js was not modified
2025-08-24 00:57:56.240 +03:00 [INF] Executed endpoint 'Blazor web static files'
2025-08-24 00:57:56.241 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/_framework/blazor.web.js - 304 null text/javascript 14.4749ms
2025-08-24 00:58:01.774 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/menu?table=1&category=Ana%20Yemekler - null null
2025-08-24 00:58:01.792 +03:00 [INF] Executing endpoint '/menu (/menu)'
2025-08-24 00:58:01.859 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[@__tableNumber_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[TableNumber] = @__tableNumber_0
2025-08-24 00:58:01.996 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 00:58:02.136 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 00:58:02.298 +03:00 [INF] Executed endpoint '/menu (/menu)'
2025-08-24 00:58:02.303 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/menu?table=1&category=Ana%20Yemekler - 200 null text/html; charset=utf-8 528.4445ms
2025-08-24 00:58:02.338 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/_blazor/initializers - null null
2025-08-24 00:58:02.341 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 00:58:02.348 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 00:58:02.351 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/_blazor/initializers - 200 null application/json; charset=utf-8 13.2799ms
2025-08-24 00:58:02.362 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5010/_blazor/negotiate?negotiateVersion=1 - null 0
2025-08-24 00:58:02.366 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 00:58:02.375 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 00:58:02.377 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5010/_blazor/negotiate?negotiateVersion=1 - 200 316 application/json 15.107ms
2025-08-24 00:58:02.380 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/_blazor?id=m7p7LsJghf3MshgobNc6lw - null null
2025-08-24 00:58:02.384 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 00:58:02.588 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__tableNumber_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[TableNumber] = @__tableNumber_0
2025-08-24 00:58:02.595 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 00:58:02.712 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 00:58:49.219 +03:00 [INF] Executed DbCommand (25ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 500), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (Precision = 18) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Orders] ([MenuItemId], [Notes], [OrderDate], [Quantity], [Status], [TableId], [TotalPrice])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-08-24 00:58:49.246 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 500), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (Precision = 18) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Orders] ([MenuItemId], [Notes], [OrderDate], [Quantity], [Status], [TableId], [TotalPrice])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-08-24 00:58:51.115 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 00:58:51.117 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/admin/orders - null null
2025-08-24 00:58:51.136 +03:00 [INF] Executing endpoint '/admin/orders (/admin/orders)'
2025-08-24 00:58:51.191 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[IsActive] = CAST(1 AS bit)
ORDER BY [t].[TableNumber]
2025-08-24 00:58:51.246 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[TableId], [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[Status] IN (0, 1, 2, 3)
ORDER BY [o].[TableId]
2025-08-24 00:58:51.257 +03:00 [INF] Executed endpoint '/admin/orders (/admin/orders)'
2025-08-24 00:58:51.259 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/admin/orders - 200 null text/html; charset=utf-8 141.725ms
2025-08-24 00:58:51.315 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[IsActive] = CAST(1 AS bit)
ORDER BY [t].[TableNumber]
2025-08-24 00:58:51.319 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[TableId], [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[Status] IN (0, 1, 2, 3)
ORDER BY [o].[TableId]
2025-08-24 00:58:53.375 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/admin/table-orders/1 - null null
2025-08-24 00:58:53.381 +03:00 [INF] Executing endpoint '/admin/table-orders/{tableId:int} (/admin/table-orders/{tableId:int})'
2025-08-24 00:58:53.406 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[Id] = @__p_0
2025-08-24 00:58:53.444 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice], [m].[Id], [m].[CreatedAt], [m].[Description], [m].[ImageData], [m].[ImageUrl], [m].[IsAvailable], [m].[MenuId], [m].[Name], [m].[Price], [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[IsActive], [m0].[Name], [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Orders] AS [o]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[Id]
INNER JOIN [Menus] AS [m0] ON [m].[MenuId] = [m0].[Id]
INNER JOIN [Tables] AS [t] ON [o].[TableId] = [t].[Id]
WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] IN (0, 1, 2, 3)
ORDER BY [o].[OrderDate]
2025-08-24 00:58:53.509 +03:00 [INF] Executed endpoint '/admin/table-orders/{tableId:int} (/admin/table-orders/{tableId:int})'
2025-08-24 00:58:53.510 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/admin/table-orders/1 - 200 null text/html; charset=utf-8 135.1762ms
2025-08-24 00:58:53.550 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice], [m].[Id], [m].[CreatedAt], [m].[Description], [m].[ImageData], [m].[ImageUrl], [m].[IsAvailable], [m].[MenuId], [m].[Name], [m].[Price], [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[IsActive], [m0].[Name], [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Orders] AS [o]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[Id]
INNER JOIN [Menus] AS [m0] ON [m].[MenuId] = [m0].[Id]
INNER JOIN [Tables] AS [t] ON [o].[TableId] = [t].[Id]
WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] IN (0, 1, 2, 3)
ORDER BY [o].[OrderDate]
2025-08-24 00:59:07.503 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/admin/kitchen - null null
2025-08-24 00:59:07.510 +03:00 [INF] Executing endpoint '/admin/kitchen (/admin/kitchen)'
2025-08-24 00:59:07.549 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice], [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber], [m].[Id], [m].[CreatedAt], [m].[Description], [m].[ImageData], [m].[ImageUrl], [m].[IsAvailable], [m].[MenuId], [m].[Name], [m].[Price], [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[IsActive], [m0].[Name]
FROM [Orders] AS [o]
INNER JOIN [Tables] AS [t] ON [o].[TableId] = [t].[Id]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[Id]
INNER JOIN [Menus] AS [m0] ON [m].[MenuId] = [m0].[Id]
WHERE [o].[Status] IN (0, 1, 2)
ORDER BY [o].[OrderDate]
2025-08-24 00:59:07.679 +03:00 [INF] Executed endpoint '/admin/kitchen (/admin/kitchen)'
2025-08-24 00:59:07.682 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/admin/kitchen - 200 null text/html; charset=utf-8 178.6145ms
2025-08-24 00:59:07.723 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice], [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber], [m].[Id], [m].[CreatedAt], [m].[Description], [m].[ImageData], [m].[ImageUrl], [m].[IsAvailable], [m].[MenuId], [m].[Name], [m].[Price], [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[IsActive], [m0].[Name]
FROM [Orders] AS [o]
INNER JOIN [Tables] AS [t] ON [o].[TableId] = [t].[Id]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[Id]
INNER JOIN [Menus] AS [m0] ON [m].[MenuId] = [m0].[Id]
WHERE [o].[Status] IN (0, 1, 2)
ORDER BY [o].[OrderDate]
2025-08-24 00:59:13.157 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/ - null null
2025-08-24 00:59:13.160 +03:00 [INF] Executing endpoint '/ (/)'
2025-08-24 00:59:13.163 +03:00 [INF] Executed endpoint '/ (/)'
2025-08-24 00:59:13.164 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/ - 200 null text/html; charset=utf-8 7.0426ms
2025-08-24 00:59:15.100 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/menu?table=1&category=Ana%20Yemekler - null null
2025-08-24 00:59:15.103 +03:00 [INF] Executing endpoint '/menu (/menu)'
2025-08-24 00:59:15.109 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__tableNumber_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[TableNumber] = @__tableNumber_0
2025-08-24 00:59:15.118 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 00:59:15.193 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 00:59:15.198 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5010/_blazor/disconnect - multipart/form-data; boundary=----WebKitFormBoundaryzp4bHjUbUcmfoLgU 359
2025-08-24 00:59:15.201 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 00:59:15.203 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 00:59:15.204 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/_blazor?id=m7p7LsJghf3MshgobNc6lw - 101 null null 72823.9736ms
2025-08-24 00:59:15.214 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 00:59:15.216 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5010/_blazor/disconnect - 200 0 null 17.8324ms
2025-08-24 00:59:15.268 +03:00 [INF] Executed endpoint '/menu (/menu)'
2025-08-24 00:59:15.269 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/menu?table=1&category=Ana%20Yemekler - 200 null text/html; charset=utf-8 169.0438ms
2025-08-24 00:59:15.295 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5010/_blazor/negotiate?negotiateVersion=1 - null 0
2025-08-24 00:59:15.298 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 00:59:15.300 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 00:59:15.301 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5010/_blazor/negotiate?negotiateVersion=1 - 200 316 application/json 5.4675ms
2025-08-24 00:59:15.304 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/_blazor?id=m8OtyoFDsr-FaFkbBuMlLQ - null null
2025-08-24 00:59:15.307 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 00:59:15.320 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__tableNumber_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[TableNumber] = @__tableNumber_0
2025-08-24 00:59:15.324 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 00:59:15.354 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 00:59:18.588 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 00:59:18.593 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/menu?table=1&category=Ba%C5%9Flang%C4%B1%C3%A7lar - null null
2025-08-24 00:59:18.598 +03:00 [INF] Executing endpoint '/menu (/menu)'
2025-08-24 00:59:18.602 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__tableNumber_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[TableNumber] = @__tableNumber_0
2025-08-24 00:59:18.605 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 00:59:18.659 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 00:59:18.718 +03:00 [INF] Executed endpoint '/menu (/menu)'
2025-08-24 00:59:18.719 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/menu?table=1&category=Ba%C5%9Flang%C4%B1%C3%A7lar - 200 null text/html; charset=utf-8 125.7507ms
2025-08-24 00:59:21.054 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 00:59:21.059 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/menu?table=1&category=Ana%20Yemekler - null null
2025-08-24 00:59:21.062 +03:00 [INF] Executing endpoint '/menu (/menu)'
2025-08-24 00:59:21.068 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__tableNumber_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[TableNumber] = @__tableNumber_0
2025-08-24 00:59:21.071 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 00:59:21.140 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 00:59:21.195 +03:00 [INF] Executed endpoint '/menu (/menu)'
2025-08-24 00:59:21.197 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/menu?table=1&category=Ana%20Yemekler - 200 null text/html; charset=utf-8 137.3457ms
2025-08-24 00:59:35.752 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/.well-known/appspecific/com.chrome.devtools.json - null null
2025-08-24 00:59:35.758 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/.well-known/appspecific/com.chrome.devtools.json - 404 0 null 5.6613ms
2025-08-24 00:59:35.763 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5010/.well-known/appspecific/com.chrome.devtools.json, Response status code: 404
2025-08-24 01:00:43.958 +03:00 [INF] Application is shutting down...
2025-08-24 01:00:43.958 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 01:00:43.959 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/_blazor?id=m8OtyoFDsr-FaFkbBuMlLQ - 101 null null 88655.4329ms
2025-08-24 01:04:07.720 +03:00 [INF] User profile is available. Using 'C:\Users\fatih\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-24 01:04:08.429 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-24 01:04:08.482 +03:00 [INF] Executed DbCommand (43ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-08-24 01:04:08.727 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-08-24 01:04:08.820 +03:00 [INF] Executed DbCommand (33ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 01:04:08.857 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 01:04:08.860 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 01:04:08.862 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 01:04:08.864 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 01:04:08.866 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 01:04:08.868 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 01:04:08.966 +03:00 [INF] Executed DbCommand (34ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 500), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p7='?' (DbType = Int32), @p8='?' (Size = 500), @p9='?' (DbType = DateTime2), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p14='?' (DbType = Int32), @p15='?' (Size = 500), @p16='?' (DbType = DateTime2), @p17='?' (DbType = Int32), @p18='?' (DbType = Int32), @p19='?' (DbType = Int32), @p20='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p21='?' (DbType = Int32), @p22='?' (Size = 500), @p23='?' (DbType = DateTime2), @p24='?' (DbType = Int32), @p25='?' (DbType = Int32), @p26='?' (DbType = Int32), @p27='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p28='?' (DbType = Int32), @p29='?' (Size = 500), @p30='?' (DbType = DateTime2), @p31='?' (DbType = Int32), @p32='?' (DbType = Int32), @p33='?' (DbType = Int32), @p34='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p35='?' (DbType = Int32), @p36='?' (Size = 500), @p37='?' (DbType = DateTime2), @p38='?' (DbType = Int32), @p39='?' (DbType = Int32), @p40='?' (DbType = Int32), @p41='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p42='?' (DbType = Int32), @p43='?' (Size = 500), @p44='?' (DbType = DateTime2), @p45='?' (DbType = Int32), @p46='?' (DbType = Int32), @p47='?' (DbType = Int32), @p48='?' (Precision = 18) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [Orders] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, 0),
(@p7, @p8, @p9, @p10, @p11, @p12, @p13, 1),
(@p14, @p15, @p16, @p17, @p18, @p19, @p20, 2),
(@p21, @p22, @p23, @p24, @p25, @p26, @p27, 3),
(@p28, @p29, @p30, @p31, @p32, @p33, @p34, 4),
(@p35, @p36, @p37, @p38, @p39, @p40, @p41, 5),
(@p42, @p43, @p44, @p45, @p46, @p47, @p48, 6)) AS i ([MenuItemId], [Notes], [OrderDate], [Quantity], [Status], [TableId], [TotalPrice], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([MenuItemId], [Notes], [OrderDate], [Quantity], [Status], [TableId], [TotalPrice])
VALUES (i.[MenuItemId], i.[Notes], i.[OrderDate], i.[Quantity], i.[Status], i.[TableId], i.[TotalPrice])
OUTPUT INSERTED.[Id], i._Position;
2025-08-24 01:04:08.982 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'RestaurantOrdering.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The MERGE statement conflicted with the FOREIGN KEY constraint "FK_Orders_MenuItems_MenuItemId". The conflict occurred in database "RestaurantOrderingDb", table "dbo.MenuItems", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:0558a323-0bae-4139-ac14-cfae5d63bb1d
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The MERGE statement conflicted with the FOREIGN KEY constraint "FK_Orders_MenuItems_MenuItemId". The conflict occurred in database "RestaurantOrderingDb", table "dbo.MenuItems", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:0558a323-0bae-4139-ac14-cfae5d63bb1d
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-24 01:04:08.989 +03:00 [ERR] An error occurred creating the DB.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The MERGE statement conflicted with the FOREIGN KEY constraint "FK_Orders_MenuItems_MenuItemId". The conflict occurred in database "RestaurantOrderingDb", table "dbo.MenuItems", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:0558a323-0bae-4139-ac14-cfae5d63bb1d
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at RestaurantOrdering.Services.TestOrderService.CreateTestOrdersAsync() in C:\Users\fatih\Desktop\AI\Restorant\Services\TestOrderService.cs:line 119
   at Program.<Main>$(String[] args) in C:\Users\fatih\Desktop\AI\Restorant\Program.cs:line 101
2025-08-24 01:04:09.075 +03:00 [INF] Now listening on: http://localhost:5010
2025-08-24 01:04:09.079 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-24 01:04:09.080 +03:00 [INF] Hosting environment: Development
2025-08-24 01:04:09.081 +03:00 [INF] Content root path: C:\Users\fatih\Desktop\AI\Restorant
2025-08-24 01:04:33.714 +03:00 [INF] Application is shutting down...
2025-08-24 01:04:44.172 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-24 01:04:47.314 +03:00 [INF] Executed DbCommand (3,068ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [RestaurantOrderingDb] SET SINGLE_USER WITH ROLLBACK IMMEDIATE;
END;
2025-08-24 01:04:47.382 +03:00 [INF] Executed DbCommand (65ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
DROP DATABASE [RestaurantOrderingDb];
2025-08-24 01:05:00.276 +03:00 [INF] Executed DbCommand (128ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
CREATE DATABASE [RestaurantOrderingDb];
2025-08-24 01:05:00.374 +03:00 [INF] Executed DbCommand (66ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [RestaurantOrderingDb] SET READ_COMMITTED_SNAPSHOT ON;
END;
2025-08-24 01:05:00.387 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-24 01:05:00.391 +03:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-08-24 01:05:00.408 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-08-24 01:05:00.472 +03:00 [INF] Executed DbCommand (29ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-08-24 01:05:00.480 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-24 01:05:00.483 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-08-24 01:05:00.491 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-08-24 01:05:00.500 +03:00 [INF] Applying migration '20250821182247_InitialCreate'.
2025-08-24 01:05:00.539 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetRoles] (
    [Id] nvarchar(450) NOT NULL,
    [Name] nvarchar(256) NULL,
    [NormalizedName] nvarchar(256) NULL,
    [ConcurrencyStamp] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetRoles] PRIMARY KEY ([Id])
);
2025-08-24 01:05:00.542 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUsers] (
    [Id] nvarchar(450) NOT NULL,
    [UserName] nvarchar(256) NULL,
    [NormalizedUserName] nvarchar(256) NULL,
    [Email] nvarchar(256) NULL,
    [NormalizedEmail] nvarchar(256) NULL,
    [EmailConfirmed] bit NOT NULL,
    [PasswordHash] nvarchar(max) NULL,
    [SecurityStamp] nvarchar(max) NULL,
    [ConcurrencyStamp] nvarchar(max) NULL,
    [PhoneNumber] nvarchar(max) NULL,
    [PhoneNumberConfirmed] bit NOT NULL,
    [TwoFactorEnabled] bit NOT NULL,
    [LockoutEnd] datetimeoffset NULL,
    [LockoutEnabled] bit NOT NULL,
    [AccessFailedCount] int NOT NULL,
    CONSTRAINT [PK_AspNetUsers] PRIMARY KEY ([Id])
);
2025-08-24 01:05:00.544 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Menus] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(100) NOT NULL,
    [Description] nvarchar(500) NULL,
    [IsActive] bit NOT NULL,
    [CreatedAt] datetime2 NOT NULL,
    CONSTRAINT [PK_Menus] PRIMARY KEY ([Id])
);
2025-08-24 01:05:00.546 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Tables] (
    [Id] int NOT NULL IDENTITY,
    [TableNumber] int NOT NULL,
    [QrCodeUrl] nvarchar(500) NULL,
    [IsActive] bit NOT NULL,
    [CreatedAt] datetime2 NOT NULL,
    CONSTRAINT [PK_Tables] PRIMARY KEY ([Id])
);
2025-08-24 01:05:00.550 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetRoleClaims] (
    [Id] int NOT NULL IDENTITY,
    [RoleId] nvarchar(450) NOT NULL,
    [ClaimType] nvarchar(max) NULL,
    [ClaimValue] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetRoleClaims] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_AspNetRoleClaims_AspNetRoles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [AspNetRoles] ([Id]) ON DELETE CASCADE
);
2025-08-24 01:05:00.552 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserClaims] (
    [Id] int NOT NULL IDENTITY,
    [UserId] nvarchar(450) NOT NULL,
    [ClaimType] nvarchar(max) NULL,
    [ClaimValue] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetUserClaims] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_AspNetUserClaims_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2025-08-24 01:05:00.554 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserLogins] (
    [LoginProvider] nvarchar(128) NOT NULL,
    [ProviderKey] nvarchar(128) NOT NULL,
    [ProviderDisplayName] nvarchar(max) NULL,
    [UserId] nvarchar(450) NOT NULL,
    CONSTRAINT [PK_AspNetUserLogins] PRIMARY KEY ([LoginProvider], [ProviderKey]),
    CONSTRAINT [FK_AspNetUserLogins_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2025-08-24 01:05:00.558 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserRoles] (
    [UserId] nvarchar(450) NOT NULL,
    [RoleId] nvarchar(450) NOT NULL,
    CONSTRAINT [PK_AspNetUserRoles] PRIMARY KEY ([UserId], [RoleId]),
    CONSTRAINT [FK_AspNetUserRoles_AspNetRoles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [AspNetRoles] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_AspNetUserRoles_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2025-08-24 01:05:00.562 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserTokens] (
    [UserId] nvarchar(450) NOT NULL,
    [LoginProvider] nvarchar(128) NOT NULL,
    [Name] nvarchar(128) NOT NULL,
    [Value] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetUserTokens] PRIMARY KEY ([UserId], [LoginProvider], [Name]),
    CONSTRAINT [FK_AspNetUserTokens_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2025-08-24 01:05:00.565 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [MenuItems] (
    [Id] int NOT NULL IDENTITY,
    [MenuId] int NOT NULL,
    [Name] nvarchar(100) NOT NULL,
    [Description] nvarchar(500) NULL,
    [Price] decimal(18,2) NOT NULL,
    [ImageUrl] nvarchar(200) NULL,
    [IsAvailable] bit NOT NULL,
    [CreatedAt] datetime2 NOT NULL,
    CONSTRAINT [PK_MenuItems] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_MenuItems_Menus_MenuId] FOREIGN KEY ([MenuId]) REFERENCES [Menus] ([Id]) ON DELETE CASCADE
);
2025-08-24 01:05:00.567 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Orders] (
    [Id] int NOT NULL IDENTITY,
    [TableId] int NOT NULL,
    [MenuItemId] int NOT NULL,
    [Quantity] int NOT NULL,
    [OrderDate] datetime2 NOT NULL,
    [Status] int NOT NULL,
    [TotalPrice] decimal(18,2) NOT NULL,
    [Notes] nvarchar(500) NULL,
    CONSTRAINT [PK_Orders] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Orders_MenuItems_MenuItemId] FOREIGN KEY ([MenuItemId]) REFERENCES [MenuItems] ([Id]) ON DELETE NO ACTION,
    CONSTRAINT [FK_Orders_Tables_TableId] FOREIGN KEY ([TableId]) REFERENCES [Tables] ([Id]) ON DELETE NO ACTION
);
2025-08-24 01:05:00.600 +03:00 [INF] Executed DbCommand (32ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'CreatedAt', N'Description', N'IsActive', N'Name') AND [object_id] = OBJECT_ID(N'[Menus]'))
    SET IDENTITY_INSERT [Menus] ON;
INSERT INTO [Menus] ([Id], [CreatedAt], [Description], [IsActive], [Name])
VALUES (1, '2025-08-21T18:00:00.0000000Z', N'Restoran ana yemek menüsü', CAST(1 AS bit), N'Ana Yemekler'),
(2, '2025-08-21T18:00:00.0000000Z', N'Başlangıç yemekleri', CAST(1 AS bit), N'Başlangıçlar'),
(3, '2025-08-21T18:00:00.0000000Z', N'Soğuk ve sıcak içecekler', CAST(1 AS bit), N'İçecekler'),
(4, '2025-08-21T18:00:00.0000000Z', N'Ev yapımı tatlılar', CAST(1 AS bit), N'Tatlılar');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'CreatedAt', N'Description', N'IsActive', N'Name') AND [object_id] = OBJECT_ID(N'[Menus]'))
    SET IDENTITY_INSERT [Menus] OFF;
2025-08-24 01:05:00.614 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'CreatedAt', N'IsActive', N'QrCodeUrl', N'TableNumber') AND [object_id] = OBJECT_ID(N'[Tables]'))
    SET IDENTITY_INSERT [Tables] ON;
INSERT INTO [Tables] ([Id], [CreatedAt], [IsActive], [QrCodeUrl], [TableNumber])
VALUES (1, '2025-08-21T18:00:00.0000000Z', CAST(1 AS bit), NULL, 1),
(2, '2025-08-21T18:00:00.0000000Z', CAST(1 AS bit), NULL, 2),
(3, '2025-08-21T18:00:00.0000000Z', CAST(1 AS bit), NULL, 3),
(4, '2025-08-21T18:00:00.0000000Z', CAST(1 AS bit), NULL, 4),
(5, '2025-08-21T18:00:00.0000000Z', CAST(1 AS bit), NULL, 5);
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'CreatedAt', N'IsActive', N'QrCodeUrl', N'TableNumber') AND [object_id] = OBJECT_ID(N'[Tables]'))
    SET IDENTITY_INSERT [Tables] OFF;
2025-08-24 01:05:00.635 +03:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'CreatedAt', N'Description', N'ImageUrl', N'IsAvailable', N'MenuId', N'Name', N'Price') AND [object_id] = OBJECT_ID(N'[MenuItems]'))
    SET IDENTITY_INSERT [MenuItems] ON;
INSERT INTO [MenuItems] ([Id], [CreatedAt], [Description], [ImageUrl], [IsAvailable], [MenuId], [Name], [Price])
VALUES (1, '2025-08-21T18:00:00.0000000Z', N'Ev yapımı köfte, patates kızartması ile', NULL, CAST(1 AS bit), 1, N'Köfte', 85.0),
(2, '2025-08-21T18:00:00.0000000Z', N'Izgara tavuk şiş, pilav ve salata ile', NULL, CAST(1 AS bit), 1, N'Tavuk Şiş', 75.0),
(3, '2025-08-21T18:00:00.0000000Z', N'Acılı adana kebap, bulgur pilav ile', NULL, CAST(1 AS bit), 1, N'Adana Kebap', 95.0),
(4, '2025-08-21T18:00:00.0000000Z', N'Geleneksel mercimek çorbası', NULL, CAST(1 AS bit), 2, N'Mercimek Çorbası', 25.0),
(5, '2025-08-21T18:00:00.0000000Z', N'Taze sebzelerle çoban salata', NULL, CAST(1 AS bit), 2, N'Çoban Salata', 30.0),
(6, '2025-08-21T18:00:00.0000000Z', N'Ev yapımı humus', NULL, CAST(1 AS bit), 2, N'Humus', 35.0),
(7, '2025-08-21T18:00:00.0000000Z', N'Türk çayı', NULL, CAST(1 AS bit), 3, N'Çay', 8.0),
(8, '2025-08-21T18:00:00.0000000Z', N'Geleneksel türk kahvesi', NULL, CAST(1 AS bit), 3, N'Türk Kahvesi', 15.0),
(9, '2025-08-21T18:00:00.0000000Z', N'Soğuk ayran', NULL, CAST(1 AS bit), 3, N'Ayran', 12.0),
(10, '2025-08-21T18:00:00.0000000Z', N'Antep fıstıklı baklava', NULL, CAST(1 AS bit), 4, N'Baklava', 45.0),
(11, '2025-08-21T18:00:00.0000000Z', N'Ev yapımı sütlaç', NULL, CAST(1 AS bit), 4, N'Sütlaç', 25.0),
(12, '2025-08-21T18:00:00.0000000Z', N'Sıcak künefe', NULL, CAST(1 AS bit), 4, N'Künefe', 50.0);
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'CreatedAt', N'Description', N'ImageUrl', N'IsAvailable', N'MenuId', N'Name', N'Price') AND [object_id] = OBJECT_ID(N'[MenuItems]'))
    SET IDENTITY_INSERT [MenuItems] OFF;
2025-08-24 01:05:00.637 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetRoleClaims_RoleId] ON [AspNetRoleClaims] ([RoleId]);
2025-08-24 01:05:00.640 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [RoleNameIndex] ON [AspNetRoles] ([NormalizedName]) WHERE [NormalizedName] IS NOT NULL;
2025-08-24 01:05:00.645 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetUserClaims_UserId] ON [AspNetUserClaims] ([UserId]);
2025-08-24 01:05:00.646 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetUserLogins_UserId] ON [AspNetUserLogins] ([UserId]);
2025-08-24 01:05:00.648 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetUserRoles_RoleId] ON [AspNetUserRoles] ([RoleId]);
2025-08-24 01:05:00.650 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [EmailIndex] ON [AspNetUsers] ([NormalizedEmail]);
2025-08-24 01:05:00.652 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [UserNameIndex] ON [AspNetUsers] ([NormalizedUserName]) WHERE [NormalizedUserName] IS NOT NULL;
2025-08-24 01:05:00.668 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_MenuItems_MenuId] ON [MenuItems] ([MenuId]);
2025-08-24 01:05:00.671 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Orders_MenuItemId] ON [Orders] ([MenuItemId]);
2025-08-24 01:05:00.673 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Orders_TableId] ON [Orders] ([TableId]);
2025-08-24 01:05:00.677 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_Tables_TableNumber] ON [Tables] ([TableNumber]);
2025-08-24 01:05:00.679 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20250821182247_InitialCreate', N'9.0.8');
2025-08-24 01:05:00.680 +03:00 [INF] Applying migration '20250823113628_AddImageDataToMenuItem'.
2025-08-24 01:05:00.698 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [MenuItems] ADD [ImageData] nvarchar(max) NULL;
2025-08-24 01:05:00.702 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE [MenuItems] SET [ImageData] = NULL
WHERE [Id] = 1;
SELECT @@ROWCOUNT;
2025-08-24 01:05:00.704 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE [MenuItems] SET [ImageData] = NULL
WHERE [Id] = 2;
SELECT @@ROWCOUNT;
2025-08-24 01:05:00.705 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE [MenuItems] SET [ImageData] = NULL
WHERE [Id] = 3;
SELECT @@ROWCOUNT;
2025-08-24 01:05:00.706 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE [MenuItems] SET [ImageData] = NULL
WHERE [Id] = 4;
SELECT @@ROWCOUNT;
2025-08-24 01:05:00.707 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE [MenuItems] SET [ImageData] = NULL
WHERE [Id] = 5;
SELECT @@ROWCOUNT;
2025-08-24 01:05:00.709 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE [MenuItems] SET [ImageData] = NULL
WHERE [Id] = 6;
SELECT @@ROWCOUNT;
2025-08-24 01:05:00.710 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE [MenuItems] SET [ImageData] = NULL
WHERE [Id] = 7;
SELECT @@ROWCOUNT;
2025-08-24 01:05:00.714 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE [MenuItems] SET [ImageData] = NULL
WHERE [Id] = 8;
SELECT @@ROWCOUNT;
2025-08-24 01:05:00.715 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE [MenuItems] SET [ImageData] = NULL
WHERE [Id] = 9;
SELECT @@ROWCOUNT;
2025-08-24 01:05:00.716 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE [MenuItems] SET [ImageData] = NULL
WHERE [Id] = 10;
SELECT @@ROWCOUNT;
2025-08-24 01:05:00.717 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE [MenuItems] SET [ImageData] = NULL
WHERE [Id] = 11;
SELECT @@ROWCOUNT;
2025-08-24 01:05:00.719 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE [MenuItems] SET [ImageData] = NULL
WHERE [Id] = 12;
SELECT @@ROWCOUNT;
2025-08-24 01:05:00.720 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20250823113628_AddImageDataToMenuItem', N'9.0.8');
2025-08-24 01:05:00.722 +03:00 [INF] Applying migration '20250823115747_ExpandImageUrlField'.
2025-08-24 01:05:00.731 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20250823115747_ExpandImageUrlField', N'9.0.8');
2025-08-24 01:05:00.732 +03:00 [INF] Applying migration '20250823115818_RemoveImageUrlStringLength'.
2025-08-24 01:05:00.809 +03:00 [INF] Executed DbCommand (63ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var sysname;
SELECT @var = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[MenuItems]') AND [c].[name] = N'ImageUrl');
IF @var IS NOT NULL EXEC(N'ALTER TABLE [MenuItems] DROP CONSTRAINT [' + @var + '];');
ALTER TABLE [MenuItems] ALTER COLUMN [ImageUrl] nvarchar(max) NULL;
2025-08-24 01:05:00.811 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20250823115818_RemoveImageUrlStringLength', N'9.0.8');
2025-08-24 01:05:00.812 +03:00 [INF] Applying migration '20250823160241_AddPaymentTables'.
2025-08-24 01:05:00.827 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Payments] (
    [Id] int NOT NULL IDENTITY,
    [TableId] int NOT NULL,
    [TotalAmount] decimal(18,2) NOT NULL,
    [CashAmount] decimal(18,2) NULL,
    [CardAmount] decimal(18,2) NULL,
    [CashReceived] decimal(18,2) NULL,
    [Change] decimal(18,2) NULL,
    [PaymentType] int NOT NULL,
    [Status] int NOT NULL,
    [CreatedAt] datetime2 NOT NULL,
    [CompletedAt] datetime2 NULL,
    [TransactionId] nvarchar(100) NULL,
    [PosTerminalId] nvarchar(50) NULL,
    [Notes] nvarchar(500) NULL,
    [CashierName] nvarchar(100) NULL,
    CONSTRAINT [PK_Payments] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Payments_Tables_TableId] FOREIGN KEY ([TableId]) REFERENCES [Tables] ([Id]) ON DELETE NO ACTION
);
2025-08-24 01:05:00.831 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [PaymentItems] (
    [Id] int NOT NULL IDENTITY,
    [PaymentId] int NOT NULL,
    [OrderId] int NOT NULL,
    [Amount] decimal(18,2) NOT NULL,
    CONSTRAINT [PK_PaymentItems] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_PaymentItems_Orders_OrderId] FOREIGN KEY ([OrderId]) REFERENCES [Orders] ([Id]) ON DELETE NO ACTION,
    CONSTRAINT [FK_PaymentItems_Payments_PaymentId] FOREIGN KEY ([PaymentId]) REFERENCES [Payments] ([Id]) ON DELETE CASCADE
);
2025-08-24 01:05:00.833 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_PaymentItems_OrderId] ON [PaymentItems] ([OrderId]);
2025-08-24 01:05:00.835 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_PaymentItems_PaymentId] ON [PaymentItems] ([PaymentId]);
2025-08-24 01:05:00.837 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Payments_TableId] ON [Payments] ([TableId]);
2025-08-24 01:05:00.838 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20250823160241_AddPaymentTables', N'9.0.8');
2025-08-24 01:05:00.845 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-08-24 01:05:10.822 +03:00 [INF] User profile is available. Using 'C:\Users\fatih\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-24 01:05:11.603 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-24 01:05:11.661 +03:00 [INF] Executed DbCommand (50ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-08-24 01:05:11.912 +03:00 [INF] Executed DbCommand (33ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-08-24 01:05:11.994 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-08-24 01:05:12.128 +03:00 [INF] Executed DbCommand (28ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 256), @p8='?' (Size = 256), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
2025-08-24 01:05:12.135 +03:00 [INF] Admin user created successfully.
2025-08-24 01:05:12.151 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 01:05:12.183 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 01:05:12.185 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 01:05:12.187 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 01:05:12.189 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 01:05:12.190 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 01:05:12.192 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 01:05:12.248 +03:00 [INF] Executed DbCommand (33ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 500), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p7='?' (DbType = Int32), @p8='?' (Size = 500), @p9='?' (DbType = DateTime2), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p14='?' (DbType = Int32), @p15='?' (Size = 500), @p16='?' (DbType = DateTime2), @p17='?' (DbType = Int32), @p18='?' (DbType = Int32), @p19='?' (DbType = Int32), @p20='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p21='?' (DbType = Int32), @p22='?' (Size = 500), @p23='?' (DbType = DateTime2), @p24='?' (DbType = Int32), @p25='?' (DbType = Int32), @p26='?' (DbType = Int32), @p27='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p28='?' (DbType = Int32), @p29='?' (Size = 500), @p30='?' (DbType = DateTime2), @p31='?' (DbType = Int32), @p32='?' (DbType = Int32), @p33='?' (DbType = Int32), @p34='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p35='?' (DbType = Int32), @p36='?' (Size = 500), @p37='?' (DbType = DateTime2), @p38='?' (DbType = Int32), @p39='?' (DbType = Int32), @p40='?' (DbType = Int32), @p41='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p42='?' (DbType = Int32), @p43='?' (Size = 500), @p44='?' (DbType = DateTime2), @p45='?' (DbType = Int32), @p46='?' (DbType = Int32), @p47='?' (DbType = Int32), @p48='?' (Precision = 18) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [Orders] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, 0),
(@p7, @p8, @p9, @p10, @p11, @p12, @p13, 1),
(@p14, @p15, @p16, @p17, @p18, @p19, @p20, 2),
(@p21, @p22, @p23, @p24, @p25, @p26, @p27, 3),
(@p28, @p29, @p30, @p31, @p32, @p33, @p34, 4),
(@p35, @p36, @p37, @p38, @p39, @p40, @p41, 5),
(@p42, @p43, @p44, @p45, @p46, @p47, @p48, 6)) AS i ([MenuItemId], [Notes], [OrderDate], [Quantity], [Status], [TableId], [TotalPrice], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([MenuItemId], [Notes], [OrderDate], [Quantity], [Status], [TableId], [TotalPrice])
VALUES (i.[MenuItemId], i.[Notes], i.[OrderDate], i.[Quantity], i.[Status], i.[TableId], i.[TotalPrice])
OUTPUT INSERTED.[Id], i._Position;
2025-08-24 01:05:12.326 +03:00 [INF] Now listening on: http://localhost:5010
2025-08-24 01:05:12.330 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-24 01:05:12.331 +03:00 [INF] Hosting environment: Development
2025-08-24 01:05:12.332 +03:00 [INF] Content root path: C:\Users\fatih\Desktop\AI\Restorant
2025-08-24 01:05:27.351 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/ - null null
2025-08-24 01:05:27.360 +03:00 [WRN] Failed to determine the https port for redirect.
2025-08-24 01:05:27.493 +03:00 [INF] Executed DbCommand (28ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-08-24 01:05:27.504 +03:00 [INF] AuthenticationScheme: Identity.Application signed out.
2025-08-24 01:05:27.512 +03:00 [INF] AuthenticationScheme: Identity.External signed out.
2025-08-24 01:05:27.516 +03:00 [INF] AuthenticationScheme: Identity.TwoFactorUserId signed out.
2025-08-24 01:05:27.517 +03:00 [INF] AuthenticationScheme: Identity.TwoFactorRememberMe signed out.
2025-08-24 01:05:27.526 +03:00 [INF] Identity.Application was not authenticated. Failure message: No principal.
2025-08-24 01:05:27.533 +03:00 [INF] Executing endpoint '/ (/)'
2025-08-24 01:05:27.675 +03:00 [INF] Executed endpoint '/ (/)'
2025-08-24 01:05:27.685 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/ - 200 null text/html; charset=utf-8 336.456ms
2025-08-24 01:05:27.702 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/_framework/blazor.web.js - null null
2025-08-24 01:05:27.709 +03:00 [INF] Executing endpoint 'Blazor web static files'
2025-08-24 01:05:27.714 +03:00 [INF] The file /_framework/blazor.web.js was not modified
2025-08-24 01:05:27.716 +03:00 [INF] Executed endpoint 'Blazor web static files'
2025-08-24 01:05:27.717 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/_framework/blazor.web.js - 304 null text/javascript 15.5489ms
2025-08-24 01:05:30.163 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/menu?table=1&category=Ana%20Yemekler - null null
2025-08-24 01:05:30.166 +03:00 [INF] Executing endpoint '/menu (/menu)'
2025-08-24 01:05:30.259 +03:00 [INF] Executed DbCommand (25ms) [Parameters=[@__tableNumber_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[TableNumber] = @__tableNumber_0
2025-08-24 01:05:30.384 +03:00 [INF] Executed DbCommand (32ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 01:05:30.431 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 01:05:30.483 +03:00 [INF] Executed endpoint '/menu (/menu)'
2025-08-24 01:05:30.485 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/menu?table=1&category=Ana%20Yemekler - 200 null text/html; charset=utf-8 322.4113ms
2025-08-24 01:05:30.530 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/_blazor/initializers - null null
2025-08-24 01:05:30.534 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 01:05:30.542 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 01:05:30.543 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/_blazor/initializers - 200 null application/json; charset=utf-8 12.8281ms
2025-08-24 01:05:30.552 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5010/_blazor/negotiate?negotiateVersion=1 - null 0
2025-08-24 01:05:30.556 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 01:05:30.563 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 01:05:30.565 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5010/_blazor/negotiate?negotiateVersion=1 - 200 316 application/json 12.6381ms
2025-08-24 01:05:30.568 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/_blazor?id=2sxvSp-EocqIvlPC9Y10ew - null null
2025-08-24 01:05:30.570 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 01:05:30.686 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__tableNumber_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[TableNumber] = @__tableNumber_0
2025-08-24 01:05:30.692 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 01:05:30.697 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 01:07:13.259 +03:00 [INF] Application is shutting down...
2025-08-24 01:07:13.259 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 01:07:13.261 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/_blazor?id=2sxvSp-EocqIvlPC9Y10ew - 101 null null 102692.4288ms
2025-08-24 01:09:48.034 +03:00 [INF] User profile is available. Using 'C:\Users\fatih\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-24 01:09:48.849 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-24 01:09:48.923 +03:00 [INF] Executed DbCommand (64ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-08-24 01:09:49.169 +03:00 [INF] Executed DbCommand (34ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-08-24 01:09:49.270 +03:00 [INF] Executed DbCommand (40ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 01:09:49.295 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 01:09:49.298 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 01:09:49.300 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 01:09:49.301 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 01:09:49.303 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 01:09:49.305 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 01:09:49.405 +03:00 [INF] Now listening on: http://localhost:5010
2025-08-24 01:09:49.408 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-24 01:09:49.409 +03:00 [INF] Hosting environment: Development
2025-08-24 01:09:49.409 +03:00 [INF] Content root path: C:\Users\fatih\Desktop\AI\Restorant
2025-08-24 01:10:02.948 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/?id=c736e986-57e6-43fb-b518-59621bce144f&vscodeBrowserReqId=1755987002884 - null null
2025-08-24 01:10:02.957 +03:00 [WRN] Failed to determine the https port for redirect.
2025-08-24 01:10:03.004 +03:00 [INF] Executing endpoint '/ (/)'
2025-08-24 01:10:03.129 +03:00 [INF] Executed endpoint '/ (/)'
2025-08-24 01:10:03.134 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/?id=c736e986-57e6-43fb-b518-59621bce144f&vscodeBrowserReqId=1755987002884 - 200 null text/html; charset=utf-8 188.1455ms
2025-08-24 01:10:09.423 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/ - null null
2025-08-24 01:10:09.429 +03:00 [INF] Executing endpoint '/ (/)'
2025-08-24 01:10:09.445 +03:00 [INF] Executed endpoint '/ (/)'
2025-08-24 01:10:09.447 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/ - 200 null text/html; charset=utf-8 24.2585ms
2025-08-24 01:10:09.634 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/_framework/blazor.web.js - null null
2025-08-24 01:10:09.645 +03:00 [INF] Executing endpoint 'Blazor web static files'
2025-08-24 01:10:09.651 +03:00 [INF] The file /_framework/blazor.web.js was not modified
2025-08-24 01:10:09.654 +03:00 [INF] Executed endpoint 'Blazor web static files'
2025-08-24 01:10:09.656 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/_framework/blazor.web.js - 304 null text/javascript 21.3026ms
2025-08-24 01:10:12.435 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/menu?table=1&category=Ana%20Yemekler - null null
2025-08-24 01:10:12.438 +03:00 [INF] Executing endpoint '/menu (/menu)'
2025-08-24 01:10:12.496 +03:00 [INF] Executed DbCommand (29ms) [Parameters=[@__tableNumber_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[TableNumber] = @__tableNumber_0
2025-08-24 01:10:12.615 +03:00 [INF] Executed DbCommand (30ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 01:10:12.647 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 01:10:12.685 +03:00 [INF] Executed endpoint '/menu (/menu)'
2025-08-24 01:10:12.689 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/menu?table=1&category=Ana%20Yemekler - 200 null text/html; charset=utf-8 253.4348ms
2025-08-24 01:10:12.719 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/_blazor/initializers - null null
2025-08-24 01:10:12.721 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 01:10:12.725 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 01:10:12.726 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/_blazor/initializers - 200 null application/json; charset=utf-8 7.1689ms
2025-08-24 01:10:12.733 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5010/_blazor/negotiate?negotiateVersion=1 - null 0
2025-08-24 01:10:12.736 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 01:10:12.741 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 01:10:12.742 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5010/_blazor/negotiate?negotiateVersion=1 - 200 316 application/json 8.5394ms
2025-08-24 01:10:12.744 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/_blazor?id=tEoNDrEyQFjkWRMW0Rp47w - null null
2025-08-24 01:10:12.746 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 01:10:12.884 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__tableNumber_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[TableNumber] = @__tableNumber_0
2025-08-24 01:10:12.888 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 01:10:12.892 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 01:11:14.866 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/menu?table=1&category=Ana%20Yemekler - null null
2025-08-24 01:11:14.869 +03:00 [INF] Executing endpoint '/menu (/menu)'
2025-08-24 01:11:14.888 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 01:11:14.892 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__tableNumber_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[TableNumber] = @__tableNumber_0
2025-08-24 01:11:14.898 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 01:11:14.906 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 01:11:14.912 +03:00 [INF] Executed endpoint '/menu (/menu)'
2025-08-24 01:11:14.915 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/menu?table=1&category=Ana%20Yemekler - 200 null text/html; charset=utf-8 49.7906ms
2025-08-24 01:11:17.655 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 01:11:17.659 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/menu?table=1&category=Ba%C5%9Flang%C4%B1%C3%A7lar - null null
2025-08-24 01:11:17.662 +03:00 [INF] Executing endpoint '/menu (/menu)'
2025-08-24 01:11:17.667 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__tableNumber_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[TableNumber] = @__tableNumber_0
2025-08-24 01:11:17.670 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 01:11:17.675 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 01:11:17.680 +03:00 [INF] Executed endpoint '/menu (/menu)'
2025-08-24 01:11:17.683 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/menu?table=1&category=Ba%C5%9Flang%C4%B1%C3%A7lar - 200 null text/html; charset=utf-8 24.5442ms
2025-08-24 01:11:28.142 +03:00 [INF] Application is shutting down...
2025-08-24 01:11:28.142 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 01:11:28.145 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/_blazor?id=tEoNDrEyQFjkWRMW0Rp47w - 101 null null 75400.0582ms
2025-08-24 01:14:35.613 +03:00 [INF] User profile is available. Using 'C:\Users\fatih\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-24 01:14:36.393 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-24 01:14:36.445 +03:00 [INF] Executed DbCommand (44ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-08-24 01:14:36.705 +03:00 [INF] Executed DbCommand (33ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-08-24 01:14:36.802 +03:00 [INF] Executed DbCommand (32ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 01:14:36.827 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 01:14:36.830 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 01:14:36.833 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 01:14:36.835 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 01:14:36.836 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 01:14:36.838 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 01:14:36.937 +03:00 [INF] Now listening on: http://localhost:5010
2025-08-24 01:14:36.940 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-24 01:14:36.942 +03:00 [INF] Hosting environment: Development
2025-08-24 01:14:36.942 +03:00 [INF] Content root path: C:\Users\fatih\Desktop\AI\Restorant
2025-08-24 01:14:41.170 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/ - null null
2025-08-24 01:14:41.179 +03:00 [WRN] Failed to determine the https port for redirect.
2025-08-24 01:14:41.227 +03:00 [INF] Executing endpoint '/ (/)'
2025-08-24 01:14:41.345 +03:00 [INF] Executed endpoint '/ (/)'
2025-08-24 01:14:41.351 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/ - 200 null text/html; charset=utf-8 183.2873ms
2025-08-24 01:14:41.587 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/_framework/blazor.web.js - null null
2025-08-24 01:14:41.596 +03:00 [INF] Executing endpoint 'Blazor web static files'
2025-08-24 01:14:41.601 +03:00 [INF] The file /_framework/blazor.web.js was not modified
2025-08-24 01:14:41.603 +03:00 [INF] Executed endpoint 'Blazor web static files'
2025-08-24 01:14:41.604 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/_framework/blazor.web.js - 304 null text/javascript 17.0683ms
2025-08-24 01:14:45.435 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/ - null null
2025-08-24 01:14:45.439 +03:00 [INF] Executing endpoint '/ (/)'
2025-08-24 01:14:45.449 +03:00 [INF] Executed endpoint '/ (/)'
2025-08-24 01:14:45.451 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/ - 200 null text/html; charset=utf-8 16.5347ms
2025-08-24 01:14:45.494 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/_framework/blazor.web.js - null null
2025-08-24 01:14:45.499 +03:00 [INF] Executing endpoint 'Blazor web static files'
2025-08-24 01:14:45.501 +03:00 [INF] The file /_framework/blazor.web.js was not modified
2025-08-24 01:14:45.502 +03:00 [INF] Executed endpoint 'Blazor web static files'
2025-08-24 01:14:45.503 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/_framework/blazor.web.js - 304 null text/javascript 9.3128ms
2025-08-24 01:14:49.112 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/menu?table=1&category=Ana%20Yemekler - null null
2025-08-24 01:14:49.114 +03:00 [INF] Executing endpoint '/menu (/menu)'
2025-08-24 01:14:49.180 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[@__tableNumber_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[TableNumber] = @__tableNumber_0
2025-08-24 01:14:49.328 +03:00 [INF] Executed DbCommand (31ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 01:14:49.382 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 01:14:49.442 +03:00 [INF] Executed endpoint '/menu (/menu)'
2025-08-24 01:14:49.448 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/menu?table=1&category=Ana%20Yemekler - 200 null text/html; charset=utf-8 335.9414ms
2025-08-24 01:14:49.494 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/_blazor/initializers - null null
2025-08-24 01:14:49.496 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 01:14:49.506 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 01:14:49.507 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/_blazor/initializers - 200 null application/json; charset=utf-8 13.0896ms
2025-08-24 01:14:49.518 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5010/_blazor/negotiate?negotiateVersion=1 - null 0
2025-08-24 01:14:49.533 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 01:14:49.541 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 01:14:49.547 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5010/_blazor/negotiate?negotiateVersion=1 - 200 316 application/json 29.4263ms
2025-08-24 01:14:49.548 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/_blazor?id=sIjJ5hmwttWVkcLAovqKrg - null null
2025-08-24 01:14:49.554 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 01:14:49.757 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__tableNumber_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[TableNumber] = @__tableNumber_0
2025-08-24 01:14:49.763 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 01:14:49.771 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 01:15:00.856 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 01:15:00.859 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/admin - null null
2025-08-24 01:15:00.867 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-24 01:15:00.872 +03:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2025-08-24 01:15:00.873 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/admin - 302 0 null 14.1374ms
2025-08-24 01:15:00.885 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/Identity/Account/Login?ReturnUrl=%2Fadmin - null null
2025-08-24 01:15:00.888 +03:00 [INF] Executing endpoint '/Account/Login'
2025-08-24 01:15:00.914 +03:00 [INF] Route matched with {page = "/Account/Login", area = "Identity"}. Executing page /Account/Login
2025-08-24 01:15:00.934 +03:00 [INF] Executing handler method Microsoft.AspNetCore.Identity.UI.V5.Pages.Account.Internal.LoginModel.OnGetAsync - ModelState is "Valid"
2025-08-24 01:15:00.939 +03:00 [INF] AuthenticationScheme: Identity.External signed out.
2025-08-24 01:15:00.942 +03:00 [INF] Executed handler method OnGetAsync, returned result .
2025-08-24 01:15:00.946 +03:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2025-08-24 01:15:00.947 +03:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2025-08-24 01:15:01.056 +03:00 [INF] Executed page /Account/Login in 136.4774ms
2025-08-24 01:15:01.057 +03:00 [INF] Executed endpoint '/Account/Login'
2025-08-24 01:15:01.060 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/Identity/Account/Login?ReturnUrl=%2Fadmin - 200 null text/html; charset=utf-8 174.8089ms
2025-08-24 01:15:01.070 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/admin - null null
2025-08-24 01:15:01.074 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-24 01:15:01.076 +03:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2025-08-24 01:15:01.077 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/admin - 302 0 null 7.1942ms
2025-08-24 01:15:01.081 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/Identity/Account/Login?ReturnUrl=%2Fadmin - null null
2025-08-24 01:15:01.088 +03:00 [INF] Executing endpoint '/Account/Login'
2025-08-24 01:15:01.089 +03:00 [INF] Route matched with {page = "/Account/Login", area = "Identity"}. Executing page /Account/Login
2025-08-24 01:15:01.101 +03:00 [INF] Executing handler method Microsoft.AspNetCore.Identity.UI.V5.Pages.Account.Internal.LoginModel.OnGetAsync - ModelState is "Valid"
2025-08-24 01:15:01.103 +03:00 [INF] AuthenticationScheme: Identity.External signed out.
2025-08-24 01:15:01.104 +03:00 [INF] Executed handler method OnGetAsync, returned result .
2025-08-24 01:15:01.105 +03:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2025-08-24 01:15:01.106 +03:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2025-08-24 01:15:01.112 +03:00 [INF] Executed page /Account/Login in 21.4502ms
2025-08-24 01:15:01.114 +03:00 [INF] Executed endpoint '/Account/Login'
2025-08-24 01:15:01.115 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/Identity/Account/Login?ReturnUrl=%2Fadmin - 200 null text/html; charset=utf-8 33.8313ms
2025-08-24 01:15:01.129 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 01:15:01.130 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/_blazor?id=sIjJ5hmwttWVkcLAovqKrg - 101 null null 11582.4697ms
2025-08-24 01:15:01.228 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/favicon.ico - null null
2025-08-24 01:15:01.231 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/favicon.ico - 404 0 null 3.0918ms
2025-08-24 01:15:01.234 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5010/favicon.ico, Response status code: 404
2025-08-24 01:15:14.195 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/menu?table=1&id=c736e986-57e6-43fb-b518-59621bce144f&vscodeBrowserReqId=1755987314176 - null null
2025-08-24 01:15:14.215 +03:00 [INF] Executing endpoint '/menu (/menu)'
2025-08-24 01:15:14.222 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__tableNumber_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[TableNumber] = @__tableNumber_0
2025-08-24 01:15:14.226 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 01:15:14.231 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 01:15:14.238 +03:00 [INF] Executed endpoint '/menu (/menu)'
2025-08-24 01:15:14.241 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/menu?table=1&id=c736e986-57e6-43fb-b518-59621bce144f&vscodeBrowserReqId=1755987314176 - 200 null text/html; charset=utf-8 45.9208ms
2025-08-24 01:15:16.624 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/menu?table=1 - null null
2025-08-24 01:15:16.627 +03:00 [INF] Executing endpoint '/menu (/menu)'
2025-08-24 01:15:16.634 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__tableNumber_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[TableNumber] = @__tableNumber_0
2025-08-24 01:15:16.639 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 01:15:16.645 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 01:15:16.652 +03:00 [INF] Executed endpoint '/menu (/menu)'
2025-08-24 01:15:16.653 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/menu?table=1 - 200 null text/html; charset=utf-8 28.8067ms
2025-08-24 01:15:16.805 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/_framework/blazor.web.js - null null
2025-08-24 01:15:16.807 +03:00 [INF] Executing endpoint 'Blazor web static files'
2025-08-24 01:15:16.808 +03:00 [INF] The file /_framework/blazor.web.js was not modified
2025-08-24 01:15:16.809 +03:00 [INF] Executed endpoint 'Blazor web static files'
2025-08-24 01:15:16.810 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/_framework/blazor.web.js - 304 null text/javascript 4.7551ms
2025-08-24 01:15:17.270 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/_blazor/initializers - null null
2025-08-24 01:15:17.273 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 01:15:17.274 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 01:15:17.275 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/_blazor/initializers - 200 null application/json; charset=utf-8 4.798ms
2025-08-24 01:15:17.298 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5010/_blazor/negotiate?negotiateVersion=1 - null 0
2025-08-24 01:15:17.300 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 01:15:17.302 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 01:15:17.303 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5010/_blazor/negotiate?negotiateVersion=1 - 200 316 application/json 4.8184ms
2025-08-24 01:15:17.307 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/_blazor?id=OQBl6HFK4xbjo64gNN3m7g - null null
2025-08-24 01:15:17.310 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 01:15:17.331 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__tableNumber_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[TableNumber] = @__tableNumber_0
2025-08-24 01:15:17.336 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 01:15:17.342 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 01:15:22.583 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 01:15:22.588 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/menu?table=1&category=Ba%C5%9Flang%C4%B1%C3%A7lar - null null
2025-08-24 01:15:22.592 +03:00 [INF] Executing endpoint '/menu (/menu)'
2025-08-24 01:15:22.596 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__tableNumber_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[TableNumber] = @__tableNumber_0
2025-08-24 01:15:22.601 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 01:15:22.606 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 01:15:22.611 +03:00 [INF] Executed endpoint '/menu (/menu)'
2025-08-24 01:15:22.612 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/menu?table=1&category=Ba%C5%9Flang%C4%B1%C3%A7lar - 200 null text/html; charset=utf-8 24.3309ms
2025-08-24 01:15:23.569 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 01:15:23.576 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/menu?table=1&category=%C4%B0%C3%A7ecekler - null null
2025-08-24 01:15:23.579 +03:00 [INF] Executing endpoint '/menu (/menu)'
2025-08-24 01:15:23.586 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 01:15:23.595 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/menu?table=1&category=%C4%B0%C3%A7ecekler - null null
2025-08-24 01:15:23.596 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__tableNumber_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[TableNumber] = @__tableNumber_0
2025-08-24 01:15:23.598 +03:00 [INF] Executing endpoint '/menu (/menu)'
2025-08-24 01:15:23.601 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 01:15:23.607 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__tableNumber_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[TableNumber] = @__tableNumber_0
2025-08-24 01:15:23.607 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 01:15:23.613 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 01:15:23.614 +03:00 [INF] Executed endpoint '/menu (/menu)'
2025-08-24 01:15:23.617 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/menu?table=1&category=%C4%B0%C3%A7ecekler - 200 null text/html; charset=utf-8 41.1719ms
2025-08-24 01:15:23.620 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 01:15:23.624 +03:00 [INF] Executed endpoint '/menu (/menu)'
2025-08-24 01:15:23.625 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/menu?table=1&category=%C4%B0%C3%A7ecekler - 200 null text/html; charset=utf-8 29.8864ms
2025-08-24 01:15:25.841 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 01:15:25.847 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/menu?table=1&category=Tatl%C4%B1lar - null null
2025-08-24 01:15:25.850 +03:00 [INF] Executing endpoint '/menu (/menu)'
2025-08-24 01:15:25.855 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__tableNumber_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[TableNumber] = @__tableNumber_0
2025-08-24 01:15:25.861 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 01:15:25.865 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 01:15:25.870 +03:00 [INF] Executed endpoint '/menu (/menu)'
2025-08-24 01:15:25.872 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/menu?table=1&category=Tatl%C4%B1lar - 200 null text/html; charset=utf-8 25.0548ms
2025-08-24 01:15:27.905 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 01:15:27.909 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/menu?table=1&category=Ana%20Yemekler - null null
2025-08-24 01:15:27.913 +03:00 [INF] Executing endpoint '/menu (/menu)'
2025-08-24 01:15:27.918 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__tableNumber_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[TableNumber] = @__tableNumber_0
2025-08-24 01:15:27.921 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 01:15:27.924 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 01:15:27.930 +03:00 [INF] Executed endpoint '/menu (/menu)'
2025-08-24 01:15:27.931 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/menu?table=1&category=Ana%20Yemekler - 200 null text/html; charset=utf-8 21.9233ms
2025-08-24 01:16:49.138 +03:00 [INF] Application is shutting down...
2025-08-24 01:16:49.138 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 01:16:49.140 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/_blazor?id=OQBl6HFK4xbjo64gNN3m7g - 101 null null 91832.5952ms
2025-08-24 01:19:35.023 +03:00 [INF] User profile is available. Using 'C:\Users\fatih\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-24 01:19:35.771 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-24 01:19:35.866 +03:00 [INF] Executed DbCommand (86ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-08-24 01:19:36.112 +03:00 [INF] Executed DbCommand (35ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-08-24 01:19:36.205 +03:00 [INF] Executed DbCommand (33ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 01:19:36.230 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 01:19:36.233 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 01:19:36.234 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 01:19:36.236 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 01:19:36.237 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 01:19:36.239 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 01:19:36.339 +03:00 [INF] Now listening on: http://localhost:5010
2025-08-24 01:19:36.356 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-24 01:19:36.357 +03:00 [INF] Hosting environment: Development
2025-08-24 01:19:36.357 +03:00 [INF] Content root path: C:\Users\fatih\Desktop\AI\Restorant
2025-08-24 01:19:40.509 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/ - null null
2025-08-24 01:19:40.517 +03:00 [WRN] Failed to determine the https port for redirect.
2025-08-24 01:19:40.557 +03:00 [INF] Executing endpoint '/ (/)'
2025-08-24 01:19:40.668 +03:00 [INF] Executed endpoint '/ (/)'
2025-08-24 01:19:40.672 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/ - 200 null text/html; charset=utf-8 164.4303ms
2025-08-24 01:19:40.690 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/_framework/blazor.web.js - null null
2025-08-24 01:19:40.695 +03:00 [INF] Executing endpoint 'Blazor web static files'
2025-08-24 01:19:40.700 +03:00 [INF] The file /_framework/blazor.web.js was not modified
2025-08-24 01:19:40.702 +03:00 [INF] Executed endpoint 'Blazor web static files'
2025-08-24 01:19:40.703 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/_framework/blazor.web.js - 304 null text/javascript 13.4854ms
2025-08-24 01:19:42.872 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/menu?table=1&category=Ana%20Yemekler - null null
2025-08-24 01:19:42.878 +03:00 [INF] Executing endpoint '/menu (/menu)'
2025-08-24 01:19:42.937 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[@__tableNumber_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[TableNumber] = @__tableNumber_0
2025-08-24 01:19:43.079 +03:00 [INF] Executed DbCommand (29ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 01:19:43.130 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 01:19:43.184 +03:00 [INF] Executed endpoint '/menu (/menu)'
2025-08-24 01:19:43.189 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/menu?table=1&category=Ana%20Yemekler - 200 null text/html; charset=utf-8 316.8727ms
2025-08-24 01:19:43.239 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/_blazor/initializers - null null
2025-08-24 01:19:43.242 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 01:19:43.248 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 01:19:43.250 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/_blazor/initializers - 200 null application/json; charset=utf-8 10.3718ms
2025-08-24 01:19:43.265 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5010/_blazor/negotiate?negotiateVersion=1 - null 0
2025-08-24 01:19:43.273 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 01:19:43.283 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 01:19:43.285 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5010/_blazor/negotiate?negotiateVersion=1 - 200 316 application/json 19.7845ms
2025-08-24 01:19:43.290 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/_blazor?id=Ja-9tUGSQ6X1AdPFf_-kjA - null null
2025-08-24 01:19:43.293 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 01:19:43.491 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__tableNumber_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[TableNumber] = @__tableNumber_0
2025-08-24 01:19:43.498 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 01:19:43.508 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 01:20:29.414 +03:00 [INF] Application is shutting down...
2025-08-24 01:20:29.415 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 01:20:29.416 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/_blazor?id=Ja-9tUGSQ6X1AdPFf_-kjA - 101 null null 46126.2513ms
2025-08-24 01:21:28.584 +03:00 [INF] User profile is available. Using 'C:\Users\fatih\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-24 01:21:29.308 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-24 01:21:29.358 +03:00 [INF] Executed DbCommand (42ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-08-24 01:21:29.598 +03:00 [INF] Executed DbCommand (33ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-08-24 01:21:29.693 +03:00 [INF] Executed DbCommand (31ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 01:21:29.720 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 01:21:29.722 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 01:21:29.724 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 01:21:29.727 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 01:21:29.730 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 01:21:29.732 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 01:21:29.828 +03:00 [INF] Now listening on: http://localhost:5010
2025-08-24 01:21:29.831 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-24 01:21:29.833 +03:00 [INF] Hosting environment: Development
2025-08-24 01:21:29.833 +03:00 [INF] Content root path: C:\Users\fatih\Desktop\AI\Restorant
2025-08-24 01:21:41.867 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5010/_blazor/negotiate?negotiateVersion=1 - null 0
2025-08-24 01:21:41.873 +03:00 [WRN] Failed to determine the https port for redirect.
2025-08-24 01:21:41.899 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 01:21:41.910 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 01:21:41.912 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5010/_blazor/negotiate?negotiateVersion=1 - 200 316 application/json 46.1319ms
2025-08-24 01:21:41.915 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/_blazor?id=DbWIlbJVnrUBwZsE8yFoSA - null null
2025-08-24 01:21:41.919 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 01:21:48.124 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/ - null null
2025-08-24 01:21:48.129 +03:00 [INF] Executing endpoint '/ (/)'
2025-08-24 01:21:48.220 +03:00 [INF] Executed endpoint '/ (/)'
2025-08-24 01:21:48.223 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/ - 200 null text/html; charset=utf-8 98.8243ms
2025-08-24 01:21:48.247 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/_framework/blazor.web.js - null null
2025-08-24 01:21:48.251 +03:00 [INF] Executing endpoint 'Blazor web static files'
2025-08-24 01:21:48.256 +03:00 [INF] The file /_framework/blazor.web.js was not modified
2025-08-24 01:21:48.257 +03:00 [INF] Executed endpoint 'Blazor web static files'
2025-08-24 01:21:48.259 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/_framework/blazor.web.js - 304 null text/javascript 11.1729ms
2025-08-24 01:21:50.279 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/menu?table=1&category=Ana%20Yemekler - null null
2025-08-24 01:21:50.281 +03:00 [INF] Executing endpoint '/menu (/menu)'
2025-08-24 01:21:50.335 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[@__tableNumber_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[TableNumber] = @__tableNumber_0
2025-08-24 01:21:50.448 +03:00 [INF] Executed DbCommand (30ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 01:21:50.487 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 01:21:50.528 +03:00 [INF] Executed endpoint '/menu (/menu)'
2025-08-24 01:21:50.532 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/menu?table=1&category=Ana%20Yemekler - 200 null text/html; charset=utf-8 252.8048ms
2025-08-24 01:21:50.580 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/_blazor/initializers - null null
2025-08-24 01:21:50.582 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 01:21:50.588 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 01:21:50.589 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/_blazor/initializers - 200 null application/json; charset=utf-8 9.4102ms
2025-08-24 01:21:50.605 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5010/_blazor/negotiate?negotiateVersion=1 - null 0
2025-08-24 01:21:50.607 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 01:21:50.608 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 01:21:50.609 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5010/_blazor/negotiate?negotiateVersion=1 - 200 316 application/json 4.2783ms
2025-08-24 01:21:50.617 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/_blazor?id=BQMMBR_3BFIqZEcalxcTLg - null null
2025-08-24 01:21:50.619 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 01:21:50.747 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__tableNumber_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[TableNumber] = @__tableNumber_0
2025-08-24 01:21:50.754 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 01:21:50.760 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 01:23:18.640 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 01:23:18.641 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/_blazor?id=DbWIlbJVnrUBwZsE8yFoSA - 101 null null 96726.3638ms
2025-08-24 01:23:18.641 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 01:23:18.641 +03:00 [INF] Application is shutting down...
2025-08-24 01:23:18.644 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/_blazor?id=BQMMBR_3BFIqZEcalxcTLg - 101 null null 88027.4091ms
2025-08-24 01:24:20.056 +03:00 [INF] User profile is available. Using 'C:\Users\fatih\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-24 01:24:20.824 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-24 01:24:20.889 +03:00 [INF] Executed DbCommand (56ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-08-24 01:24:21.149 +03:00 [INF] Executed DbCommand (35ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-08-24 01:24:21.246 +03:00 [INF] Executed DbCommand (33ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 01:24:21.273 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 01:24:21.276 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 01:24:21.278 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 01:24:21.280 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 01:24:21.282 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 01:24:21.285 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 01:24:21.386 +03:00 [INF] Now listening on: http://localhost:5010
2025-08-24 01:24:21.389 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-24 01:24:21.390 +03:00 [INF] Hosting environment: Development
2025-08-24 01:24:21.391 +03:00 [INF] Content root path: C:\Users\fatih\Desktop\AI\Restorant
2025-08-24 01:24:30.873 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5010/_blazor/negotiate?negotiateVersion=1 - null 0
2025-08-24 01:24:30.880 +03:00 [WRN] Failed to determine the https port for redirect.
2025-08-24 01:24:30.918 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 01:24:30.933 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 01:24:30.935 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5010/_blazor/negotiate?negotiateVersion=1 - 200 316 application/json 63.8678ms
2025-08-24 01:24:30.939 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/_blazor?id=NBu4dFlJUbQmMtqcAPcg_Q - null null
2025-08-24 01:24:30.944 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 01:24:47.017 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/menu?table=1 - null null
2025-08-24 01:24:47.024 +03:00 [INF] Executing endpoint '/menu (/menu)'
2025-08-24 01:24:47.141 +03:00 [INF] Executed DbCommand (27ms) [Parameters=[@__tableNumber_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[TableNumber] = @__tableNumber_0
2025-08-24 01:24:47.291 +03:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 01:24:47.367 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 01:24:47.465 +03:00 [INF] Executed endpoint '/menu (/menu)'
2025-08-24 01:24:47.472 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/menu?table=1 - 200 null text/html; charset=utf-8 454.9018ms
2025-08-24 01:24:47.577 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/_framework/blazor.web.js - null null
2025-08-24 01:24:47.580 +03:00 [INF] Executing endpoint 'Blazor web static files'
2025-08-24 01:24:47.585 +03:00 [INF] The file /_framework/blazor.web.js was not modified
2025-08-24 01:24:47.587 +03:00 [INF] Executed endpoint 'Blazor web static files'
2025-08-24 01:24:47.588 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/_framework/blazor.web.js - 304 null text/javascript 11.6748ms
2025-08-24 01:24:47.951 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/_blazor/initializers - null null
2025-08-24 01:24:47.954 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 01:24:47.962 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 01:24:47.963 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/_blazor/initializers - 200 null application/json; charset=utf-8 12.0923ms
2025-08-24 01:24:47.971 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5010/_blazor/negotiate?negotiateVersion=1 - null 0
2025-08-24 01:24:47.974 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 01:24:47.976 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 01:24:47.977 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5010/_blazor/negotiate?negotiateVersion=1 - 200 316 application/json 5.4819ms
2025-08-24 01:24:47.980 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/_blazor?id=4eMxUthn1tcM_666YfwvPA - null null
2025-08-24 01:24:47.982 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 01:24:48.135 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__tableNumber_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[TableNumber] = @__tableNumber_0
2025-08-24 01:24:48.141 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 01:24:48.149 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 01:24:48.701 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 01:24:48.703 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/_blazor?id=NBu4dFlJUbQmMtqcAPcg_Q - 101 null null 17763.7645ms
2025-08-24 01:26:04.522 +03:00 [INF] Application is shutting down...
2025-08-24 01:26:04.523 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 01:26:04.524 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/_blazor?id=4eMxUthn1tcM_666YfwvPA - 101 null null 76543.9897ms
2025-08-24 01:30:14.399 +03:00 [INF] User profile is available. Using 'C:\Users\fatih\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-24 01:30:15.257 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-24 01:30:15.302 +03:00 [INF] Executed DbCommand (35ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-08-24 01:30:15.534 +03:00 [INF] Executed DbCommand (34ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-08-24 01:30:15.627 +03:00 [INF] Executed DbCommand (32ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 01:30:15.654 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 01:30:15.656 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 01:30:15.658 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 01:30:15.660 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 01:30:15.662 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 01:30:15.664 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 01:30:15.762 +03:00 [INF] Now listening on: http://localhost:5010
2025-08-24 01:30:15.765 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-24 01:30:15.766 +03:00 [INF] Hosting environment: Development
2025-08-24 01:30:15.766 +03:00 [INF] Content root path: C:\Users\fatih\Desktop\AI\Restorant
2025-08-24 01:30:27.772 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/menu?table=1&id=c736e986-57e6-43fb-b518-59621bce144f&vscodeBrowserReqId=1755988227726 - null null
2025-08-24 01:30:27.779 +03:00 [WRN] Failed to determine the https port for redirect.
2025-08-24 01:30:27.811 +03:00 [INF] Executing endpoint '/menu (/menu)'
2025-08-24 01:30:27.909 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[@__tableNumber_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[TableNumber] = @__tableNumber_0
2025-08-24 01:30:28.040 +03:00 [INF] Executed DbCommand (29ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 01:30:28.082 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 01:30:28.176 +03:00 [INF] Executed endpoint '/menu (/menu)'
2025-08-24 01:30:28.186 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/menu?table=1&id=c736e986-57e6-43fb-b518-59621bce144f&vscodeBrowserReqId=1755988227726 - 200 null text/html; charset=utf-8 415.5405ms
2025-08-24 01:30:33.679 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/menu?table=1 - null null
2025-08-24 01:30:33.688 +03:00 [INF] Executing endpoint '/menu (/menu)'
2025-08-24 01:30:33.773 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__tableNumber_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[TableNumber] = @__tableNumber_0
2025-08-24 01:30:33.778 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 01:30:33.786 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 01:30:33.797 +03:00 [INF] Executed endpoint '/menu (/menu)'
2025-08-24 01:30:33.800 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/menu?table=1 - 200 null text/html; charset=utf-8 120.4618ms
2025-08-24 01:30:34.040 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/_framework/blazor.web.js - null null
2025-08-24 01:30:34.049 +03:00 [INF] Executing endpoint 'Blazor web static files'
2025-08-24 01:30:34.057 +03:00 [INF] The file /_framework/blazor.web.js was not modified
2025-08-24 01:30:34.059 +03:00 [INF] Executed endpoint 'Blazor web static files'
2025-08-24 01:30:34.061 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/_framework/blazor.web.js - 304 null text/javascript 20.3095ms
2025-08-24 01:30:34.523 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/_blazor/initializers - null null
2025-08-24 01:30:34.527 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 01:30:34.541 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 01:30:34.543 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/_blazor/initializers - 200 null application/json; charset=utf-8 19.4617ms
2025-08-24 01:30:34.553 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5010/_blazor/negotiate?negotiateVersion=1 - null 0
2025-08-24 01:30:34.557 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 01:30:34.564 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 01:30:34.567 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5010/_blazor/negotiate?negotiateVersion=1 - 200 316 application/json 13.0518ms
2025-08-24 01:30:34.571 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/_blazor?id=2XWj6aJnxtzPdZnVv9T3ng - null null
2025-08-24 01:30:34.575 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 01:30:34.719 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__tableNumber_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[TableNumber] = @__tableNumber_0
2025-08-24 01:30:34.726 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 01:30:34.732 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 01:33:28.934 +03:00 [INF] Application is shutting down...
2025-08-24 01:33:28.934 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 01:33:28.935 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/_blazor?id=2XWj6aJnxtzPdZnVv9T3ng - 101 null null 174363.9308ms
2025-08-24 01:34:41.767 +03:00 [INF] User profile is available. Using 'C:\Users\fatih\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-24 01:34:42.533 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-24 01:34:42.580 +03:00 [INF] Executed DbCommand (39ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-08-24 01:34:42.855 +03:00 [INF] Executed DbCommand (34ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-08-24 01:34:42.947 +03:00 [INF] Executed DbCommand (32ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 01:34:42.972 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 01:34:42.974 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 01:34:42.976 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 01:34:42.978 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 01:34:42.980 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 01:34:42.981 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 01:34:43.077 +03:00 [INF] Now listening on: http://localhost:5010
2025-08-24 01:34:43.081 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-24 01:34:43.082 +03:00 [INF] Hosting environment: Development
2025-08-24 01:34:43.083 +03:00 [INF] Content root path: C:\Users\fatih\Desktop\AI\Restorant
2025-08-24 01:34:43.150 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5010/_blazor/negotiate?negotiateVersion=1 - null 0
2025-08-24 01:34:43.155 +03:00 [WRN] Failed to determine the https port for redirect.
2025-08-24 01:34:43.178 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 01:34:43.187 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 01:34:43.189 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5010/_blazor/negotiate?negotiateVersion=1 - 200 316 application/json 39.6015ms
2025-08-24 01:34:43.192 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/_blazor?id=YbU-SzdUMIWN-6941Za_pg - null null
2025-08-24 01:34:43.194 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 01:34:53.877 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/menu?table=1&id=c736e986-57e6-43fb-b518-59621bce144f&vscodeBrowserReqId=1755988493869 - null null
2025-08-24 01:34:53.884 +03:00 [INF] Executing endpoint '/menu (/menu)'
2025-08-24 01:34:54.000 +03:00 [INF] Executed DbCommand (31ms) [Parameters=[@__tableNumber_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[TableNumber] = @__tableNumber_0
2025-08-24 01:34:54.122 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 01:34:54.170 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 01:34:54.258 +03:00 [INF] Executed endpoint '/menu (/menu)'
2025-08-24 01:34:54.266 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/menu?table=1&id=c736e986-57e6-43fb-b518-59621bce144f&vscodeBrowserReqId=1755988493869 - 200 null text/html; charset=utf-8 389.4163ms
2025-08-24 01:34:55.595 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/menu?table=1 - null null
2025-08-24 01:34:55.599 +03:00 [INF] Executing endpoint '/menu (/menu)'
2025-08-24 01:34:55.673 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__tableNumber_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[TableNumber] = @__tableNumber_0
2025-08-24 01:34:55.678 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 01:34:55.686 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 01:34:55.697 +03:00 [INF] Executed endpoint '/menu (/menu)'
2025-08-24 01:34:55.699 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/menu?table=1 - 200 null text/html; charset=utf-8 104.3127ms
2025-08-24 01:34:55.872 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/_framework/blazor.web.js - null null
2025-08-24 01:34:55.875 +03:00 [INF] Executing endpoint 'Blazor web static files'
2025-08-24 01:34:55.880 +03:00 [INF] The file /_framework/blazor.web.js was not modified
2025-08-24 01:34:55.882 +03:00 [INF] Executed endpoint 'Blazor web static files'
2025-08-24 01:34:55.883 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/_framework/blazor.web.js - 304 null text/javascript 10.7498ms
2025-08-24 01:34:56.244 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/_blazor/initializers - null null
2025-08-24 01:34:56.246 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 01:34:56.255 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 01:34:56.256 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/_blazor/initializers - 200 null application/json; charset=utf-8 12.2488ms
2025-08-24 01:34:56.266 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5010/_blazor/negotiate?negotiateVersion=1 - null 0
2025-08-24 01:34:56.269 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 01:34:56.270 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 01:34:56.271 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5010/_blazor/negotiate?negotiateVersion=1 - 200 316 application/json 5.1007ms
2025-08-24 01:34:56.275 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/_blazor?id=qHNc4SiPMc_RpZg9gpDZJg - null null
2025-08-24 01:34:56.278 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 01:34:56.377 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__tableNumber_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[TableNumber] = @__tableNumber_0
2025-08-24 01:34:56.383 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 01:34:56.388 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 01:35:35.811 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 01:35:35.812 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/_blazor?id=YbU-SzdUMIWN-6941Za_pg - 101 null null 52620.8068ms
2025-08-24 01:35:35.813 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 01:35:35.813 +03:00 [INF] Application is shutting down...
2025-08-24 01:35:35.815 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/_blazor?id=qHNc4SiPMc_RpZg9gpDZJg - 101 null null 39540.5244ms
2025-08-24 01:38:07.075 +03:00 [INF] User profile is available. Using 'C:\Users\fatih\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-24 01:38:07.804 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-24 01:38:07.849 +03:00 [INF] Executed DbCommand (38ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-08-24 01:38:08.098 +03:00 [INF] Executed DbCommand (33ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-08-24 01:38:08.193 +03:00 [INF] Executed DbCommand (31ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 01:38:08.219 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 01:38:08.221 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 01:38:08.223 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 01:38:08.224 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 01:38:08.227 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 01:38:08.230 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 01:38:08.337 +03:00 [INF] Now listening on: http://localhost:5010
2025-08-24 01:38:08.340 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-24 01:38:08.341 +03:00 [INF] Hosting environment: Development
2025-08-24 01:38:08.342 +03:00 [INF] Content root path: C:\Users\fatih\Desktop\AI\Restorant
2025-08-24 01:38:19.898 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5010/_blazor/negotiate?negotiateVersion=1 - null 0
2025-08-24 01:38:19.898 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/ - null null
2025-08-24 01:38:19.907 +03:00 [WRN] Failed to determine the https port for redirect.
2025-08-24 01:38:19.945 +03:00 [INF] Executing endpoint '/ (/)'
2025-08-24 01:38:19.945 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 01:38:19.960 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 01:38:19.963 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5010/_blazor/negotiate?negotiateVersion=1 - 200 316 application/json 67.0387ms
2025-08-24 01:38:19.970 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/_blazor?id=TXPWOgyjVHCo2FLS-9YV-Q - null null
2025-08-24 01:38:19.976 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 01:38:20.044 +03:00 [INF] Executed endpoint '/ (/)'
2025-08-24 01:38:20.048 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/ - 200 null text/html; charset=utf-8 151.8198ms
2025-08-24 01:38:20.066 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/app.css - null null
2025-08-24 01:38:20.067 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/_framework/blazor.web.js - null null
2025-08-24 01:38:20.071 +03:00 [INF] Executing endpoint 'Blazor web static files'
2025-08-24 01:38:20.073 +03:00 [INF] The file /app.css was not modified
2025-08-24 01:38:20.073 +03:00 [INF] The file /_framework/blazor.web.js was not modified
2025-08-24 01:38:20.075 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/app.css - 304 null text/css 8.2855ms
2025-08-24 01:38:20.075 +03:00 [INF] Executed endpoint 'Blazor web static files'
2025-08-24 01:38:20.078 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/_framework/blazor.web.js - 304 null text/javascript 11.1523ms
2025-08-24 01:38:34.634 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/ - null null
2025-08-24 01:38:34.641 +03:00 [INF] Executing endpoint '/ (/)'
2025-08-24 01:38:34.652 +03:00 [INF] Executed endpoint '/ (/)'
2025-08-24 01:38:34.654 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/ - 200 null text/html; charset=utf-8 19.8532ms
2025-08-24 01:38:34.673 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/_framework/blazor.web.js - null null
2025-08-24 01:38:34.678 +03:00 [INF] Executing endpoint 'Blazor web static files'
2025-08-24 01:38:34.679 +03:00 [INF] The file /_framework/blazor.web.js was not modified
2025-08-24 01:38:34.680 +03:00 [INF] Executed endpoint 'Blazor web static files'
2025-08-24 01:38:34.681 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/_framework/blazor.web.js - 304 null text/javascript 7.8636ms
2025-08-24 01:38:37.179 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/menu?table=1&category=Ana%20Yemekler - null null
2025-08-24 01:38:37.181 +03:00 [INF] Executing endpoint '/menu (/menu)'
2025-08-24 01:38:37.246 +03:00 [INF] Executed DbCommand (30ms) [Parameters=[@__tableNumber_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[TableNumber] = @__tableNumber_0
2025-08-24 01:38:37.395 +03:00 [INF] Executed DbCommand (30ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 01:38:37.483 +03:00 [INF] Executed DbCommand (38ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 01:38:37.536 +03:00 [INF] Executed endpoint '/menu (/menu)'
2025-08-24 01:38:37.540 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/menu?table=1&category=Ana%20Yemekler - 200 null text/html; charset=utf-8 361.1485ms
2025-08-24 01:38:37.584 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/_blazor/initializers - null null
2025-08-24 01:38:37.588 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 01:38:37.593 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 01:38:37.594 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/_blazor/initializers - 200 null application/json; charset=utf-8 10.1811ms
2025-08-24 01:38:37.607 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5010/_blazor/negotiate?negotiateVersion=1 - null 0
2025-08-24 01:38:37.609 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 01:38:37.611 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 01:38:37.613 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5010/_blazor/negotiate?negotiateVersion=1 - 200 316 application/json 6.3537ms
2025-08-24 01:38:37.618 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/_blazor?id=P1MeoI-bV-AmyDPJf9Ot_w - null null
2025-08-24 01:38:37.620 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 01:38:37.803 +03:00 [INF] Executed DbCommand (34ms) [Parameters=[@__tableNumber_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[TableNumber] = @__tableNumber_0
2025-08-24 01:38:37.818 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 01:38:37.835 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 01:39:23.515 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/menu?table=1&id=c736e986-57e6-43fb-b518-59621bce144f&vscodeBrowserReqId=1755988763507 - null null
2025-08-24 01:39:23.519 +03:00 [INF] Executing endpoint '/menu (/menu)'
2025-08-24 01:39:23.557 +03:00 [INF] Executed DbCommand (29ms) [Parameters=[@__tableNumber_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[TableNumber] = @__tableNumber_0
2025-08-24 01:39:23.571 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 01:39:23.578 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 01:39:23.586 +03:00 [INF] Executed endpoint '/menu (/menu)'
2025-08-24 01:39:23.589 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/menu?table=1&id=c736e986-57e6-43fb-b518-59621bce144f&vscodeBrowserReqId=1755988763507 - 200 null text/html; charset=utf-8 73.5357ms
2025-08-24 01:40:20.083 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 01:40:20.084 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 01:40:20.084 +03:00 [INF] Application is shutting down...
2025-08-24 01:40:20.084 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/_blazor?id=TXPWOgyjVHCo2FLS-9YV-Q - 101 null null 120114.1778ms
2025-08-24 01:40:20.085 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/_blazor?id=P1MeoI-bV-AmyDPJf9Ot_w - 101 null null 102467.0268ms
2025-08-24 01:41:15.034 +03:00 [INF] User profile is available. Using 'C:\Users\fatih\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-24 01:41:15.849 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-24 01:41:15.902 +03:00 [INF] Executed DbCommand (44ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-08-24 01:41:16.164 +03:00 [INF] Executed DbCommand (34ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-08-24 01:41:16.259 +03:00 [INF] Executed DbCommand (34ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 01:41:16.286 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 01:41:16.288 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 01:41:16.289 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 01:41:16.291 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 01:41:16.293 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 01:41:16.294 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 01:41:16.394 +03:00 [INF] Now listening on: http://localhost:5010
2025-08-24 01:41:16.397 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-24 01:41:16.398 +03:00 [INF] Hosting environment: Development
2025-08-24 01:41:16.399 +03:00 [INF] Content root path: C:\Users\fatih\Desktop\AI\Restorant
2025-08-24 01:41:26.837 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/menu?table=1&id=c736e986-57e6-43fb-b518-59621bce144f&vscodeBrowserReqId=1755988886781 - null null
2025-08-24 01:41:26.844 +03:00 [WRN] Failed to determine the https port for redirect.
2025-08-24 01:41:26.876 +03:00 [INF] Executing endpoint '/menu (/menu)'
2025-08-24 01:41:26.950 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__tableNumber_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[TableNumber] = @__tableNumber_0
2025-08-24 01:41:27.068 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 01:41:27.114 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 01:41:27.215 +03:00 [INF] Executed endpoint '/menu (/menu)'
2025-08-24 01:41:27.225 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/menu?table=1&id=c736e986-57e6-43fb-b518-59621bce144f&vscodeBrowserReqId=1755988886781 - 200 null text/html; charset=utf-8 388.9453ms
2025-08-24 01:41:31.842 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5010/_blazor/negotiate?negotiateVersion=1 - null 0
2025-08-24 01:41:31.849 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 01:41:31.855 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 01:41:31.857 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5010/_blazor/negotiate?negotiateVersion=1 - 200 316 application/json 14.6428ms
2025-08-24 01:41:31.861 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/_blazor?id=JPZZR_TKbF-t_SDkyNXggw - null null
2025-08-24 01:41:31.867 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 01:41:33.508 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/menu?table=1 - null null
2025-08-24 01:41:33.511 +03:00 [INF] Executing endpoint '/menu (/menu)'
2025-08-24 01:41:33.595 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__tableNumber_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[TableNumber] = @__tableNumber_0
2025-08-24 01:41:33.600 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 01:41:33.605 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 01:41:33.612 +03:00 [INF] Executed endpoint '/menu (/menu)'
2025-08-24 01:41:33.614 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/menu?table=1 - 200 null text/html; charset=utf-8 106.37ms
2025-08-24 01:41:33.737 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/_framework/blazor.web.js - null null
2025-08-24 01:41:33.740 +03:00 [INF] Executing endpoint 'Blazor web static files'
2025-08-24 01:41:33.747 +03:00 [INF] The file /_framework/blazor.web.js was not modified
2025-08-24 01:41:33.749 +03:00 [INF] Executed endpoint 'Blazor web static files'
2025-08-24 01:41:33.750 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/_framework/blazor.web.js - 304 null text/javascript 13.0812ms
2025-08-24 01:41:34.174 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/_blazor/initializers - null null
2025-08-24 01:41:34.179 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 01:41:34.189 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 01:41:34.190 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/_blazor/initializers - 200 null application/json; charset=utf-8 16.0107ms
2025-08-24 01:41:34.200 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5010/_blazor/negotiate?negotiateVersion=1 - null 0
2025-08-24 01:41:34.203 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 01:41:34.204 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 01:41:34.205 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5010/_blazor/negotiate?negotiateVersion=1 - 200 316 application/json 5.3497ms
2025-08-24 01:41:34.209 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/_blazor?id=nAQB8osnaa3pWFjlRLVgWg - null null
2025-08-24 01:41:34.211 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 01:41:34.317 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__tableNumber_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[TableNumber] = @__tableNumber_0
2025-08-24 01:41:34.324 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 01:41:34.333 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 01:41:45.682 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 01:41:45.685 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/_blazor?id=nAQB8osnaa3pWFjlRLVgWg - 101 null null 11475.5626ms
2025-08-24 01:41:45.694 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 01:41:45.695 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/_blazor?id=JPZZR_TKbF-t_SDkyNXggw - 101 null null 13833.5899ms
2025-08-24 01:41:55.745 +03:00 [INF] Application is shutting down...
2025-08-24 01:42:19.934 +03:00 [INF] User profile is available. Using 'C:\Users\fatih\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-24 01:42:20.705 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-24 01:42:20.752 +03:00 [INF] Executed DbCommand (39ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-08-24 01:42:20.995 +03:00 [INF] Executed DbCommand (35ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-08-24 01:42:21.099 +03:00 [INF] Executed DbCommand (34ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 01:42:21.130 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 01:42:21.132 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 01:42:21.135 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 01:42:21.138 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 01:42:21.141 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 01:42:21.144 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 01:42:21.248 +03:00 [INF] Now listening on: http://localhost:5010
2025-08-24 01:42:21.251 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-24 01:42:21.252 +03:00 [INF] Hosting environment: Development
2025-08-24 01:42:21.253 +03:00 [INF] Content root path: C:\Users\fatih\Desktop\AI\Restorant
2025-08-24 01:42:26.537 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/ - null null
2025-08-24 01:42:26.545 +03:00 [WRN] Failed to determine the https port for redirect.
2025-08-24 01:42:26.590 +03:00 [INF] Executing endpoint '/ (/)'
2025-08-24 01:42:26.706 +03:00 [INF] Executed endpoint '/ (/)'
2025-08-24 01:42:26.711 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/ - 200 null text/html; charset=utf-8 177.3776ms
2025-08-24 01:42:26.994 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/_framework/blazor.web.js - null null
2025-08-24 01:42:27.001 +03:00 [INF] Executing endpoint 'Blazor web static files'
2025-08-24 01:42:27.007 +03:00 [INF] The file /_framework/blazor.web.js was not modified
2025-08-24 01:42:27.009 +03:00 [INF] Executed endpoint 'Blazor web static files'
2025-08-24 01:42:27.010 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/_framework/blazor.web.js - 304 null text/javascript 16.3715ms
2025-08-24 01:42:36.217 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/ - null null
2025-08-24 01:42:36.220 +03:00 [INF] Executing endpoint '/ (/)'
2025-08-24 01:42:36.229 +03:00 [INF] Executed endpoint '/ (/)'
2025-08-24 01:42:36.230 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/ - 200 null text/html; charset=utf-8 13.5974ms
2025-08-24 01:42:36.253 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/_framework/blazor.web.js - null null
2025-08-24 01:42:36.259 +03:00 [INF] Executing endpoint 'Blazor web static files'
2025-08-24 01:42:36.261 +03:00 [INF] The file /_framework/blazor.web.js was not modified
2025-08-24 01:42:36.263 +03:00 [INF] Executed endpoint 'Blazor web static files'
2025-08-24 01:42:36.264 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/_framework/blazor.web.js - 304 null text/javascript 10.5887ms
2025-08-24 01:42:38.561 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/menu?table=1&category=Ana%20Yemekler - null null
2025-08-24 01:42:38.563 +03:00 [INF] Executing endpoint '/menu (/menu)'
2025-08-24 01:42:38.621 +03:00 [INF] Executed DbCommand (27ms) [Parameters=[@__tableNumber_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[TableNumber] = @__tableNumber_0
2025-08-24 01:42:38.768 +03:00 [INF] Executed DbCommand (32ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 01:42:38.817 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 01:42:38.873 +03:00 [INF] Executed endpoint '/menu (/menu)'
2025-08-24 01:42:38.879 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/menu?table=1&category=Ana%20Yemekler - 200 null text/html; charset=utf-8 317.5368ms
2025-08-24 01:42:38.924 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/_blazor/initializers - null null
2025-08-24 01:42:38.927 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 01:42:38.934 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 01:42:38.935 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/_blazor/initializers - 200 null application/json; charset=utf-8 11.2809ms
2025-08-24 01:42:38.953 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5010/_blazor/negotiate?negotiateVersion=1 - null 0
2025-08-24 01:42:38.958 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 01:42:38.968 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 01:42:38.970 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5010/_blazor/negotiate?negotiateVersion=1 - 200 316 application/json 17.2518ms
2025-08-24 01:42:38.975 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/_blazor?id=LE7sjLni2cTTKqR7Ne4aYg - null null
2025-08-24 01:42:38.977 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 01:42:39.183 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__tableNumber_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[TableNumber] = @__tableNumber_0
2025-08-24 01:42:39.190 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 01:42:39.198 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 01:43:12.114 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/menu?table=1&id=c736e986-57e6-43fb-b518-59621bce144f&vscodeBrowserReqId=1755988992106 - null null
2025-08-24 01:43:12.117 +03:00 [INF] Executing endpoint '/menu (/menu)'
2025-08-24 01:43:12.159 +03:00 [INF] Executed DbCommand (33ms) [Parameters=[@__tableNumber_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[TableNumber] = @__tableNumber_0
2025-08-24 01:43:12.172 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 01:43:12.179 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 01:43:12.186 +03:00 [INF] Executed endpoint '/menu (/menu)'
2025-08-24 01:43:12.188 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/menu?table=1&id=c736e986-57e6-43fb-b518-59621bce144f&vscodeBrowserReqId=1755988992106 - 200 null text/html; charset=utf-8 73.9245ms
2025-08-24 01:43:54.903 +03:00 [INF] Executed DbCommand (27ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 500), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (Precision = 18) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Orders] ([MenuItemId], [Notes], [OrderDate], [Quantity], [Status], [TableId], [TotalPrice])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-08-24 01:43:54.930 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 500), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (Precision = 18) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Orders] ([MenuItemId], [Notes], [OrderDate], [Quantity], [Status], [TableId], [TotalPrice])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-08-24 01:44:03.345 +03:00 [INF] Application is shutting down...
2025-08-24 01:44:03.345 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 01:44:03.346 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/_blazor?id=LE7sjLni2cTTKqR7Ne4aYg - 101 null null 84371.2614ms
2025-08-24 01:48:02.293 +03:00 [INF] User profile is available. Using 'C:\Users\fatih\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-24 01:48:03.120 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-24 01:48:03.193 +03:00 [INF] Executed DbCommand (64ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-08-24 01:48:03.433 +03:00 [INF] Executed DbCommand (33ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-08-24 01:48:03.532 +03:00 [INF] Executed DbCommand (35ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 01:48:03.560 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 01:48:03.562 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 01:48:03.563 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 01:48:03.565 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 01:48:03.568 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 01:48:03.570 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 01:48:03.675 +03:00 [INF] Now listening on: http://localhost:5010
2025-08-24 01:48:03.679 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-24 01:48:03.680 +03:00 [INF] Hosting environment: Development
2025-08-24 01:48:03.681 +03:00 [INF] Content root path: C:\Users\fatih\Desktop\AI\Restorant
2025-08-24 01:48:05.667 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/ - null null
2025-08-24 01:48:05.673 +03:00 [WRN] Failed to determine the https port for redirect.
2025-08-24 01:48:05.712 +03:00 [INF] Executing endpoint '/ (/)'
2025-08-24 01:48:05.832 +03:00 [INF] Executed endpoint '/ (/)'
2025-08-24 01:48:05.837 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/ - 200 null text/html; charset=utf-8 171.7284ms
2025-08-24 01:48:06.030 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/_framework/blazor.web.js - null null
2025-08-24 01:48:06.030 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/RestaurantOrdering.styles.css - null null
2025-08-24 01:48:06.036 +03:00 [INF] Executing endpoint 'Blazor web static files'
2025-08-24 01:48:06.037 +03:00 [INF] The file /RestaurantOrdering.styles.css was not modified
2025-08-24 01:48:06.038 +03:00 [INF] The file /_framework/blazor.web.js was not modified
2025-08-24 01:48:06.039 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/RestaurantOrdering.styles.css - 304 null text/css 8.8079ms
2025-08-24 01:48:06.039 +03:00 [INF] Executed endpoint 'Blazor web static files'
2025-08-24 01:48:06.042 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/_framework/blazor.web.js - 304 null text/javascript 11.7386ms
2025-08-24 01:48:09.781 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/menu?table=1&category=Ana%20Yemekler - null null
2025-08-24 01:48:09.786 +03:00 [INF] Executing endpoint '/menu (/menu)'
2025-08-24 01:48:09.836 +03:00 [INF] Executed DbCommand (25ms) [Parameters=[@__tableNumber_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[TableNumber] = @__tableNumber_0
2025-08-24 01:48:09.939 +03:00 [INF] Executed DbCommand (29ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 01:48:09.971 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 01:48:10.008 +03:00 [INF] Executed endpoint '/menu (/menu)'
2025-08-24 01:48:10.012 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/menu?table=1&category=Ana%20Yemekler - 200 null text/html; charset=utf-8 231.2815ms
2025-08-24 01:48:10.023 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/_blazor/initializers - null null
2025-08-24 01:48:10.025 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 01:48:10.029 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 01:48:10.030 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/_blazor/initializers - 200 null application/json; charset=utf-8 6.8255ms
2025-08-24 01:48:10.050 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5010/_blazor/negotiate?negotiateVersion=1 - null 0
2025-08-24 01:48:10.052 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 01:48:10.058 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 01:48:10.059 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5010/_blazor/negotiate?negotiateVersion=1 - 200 316 application/json 9.2307ms
2025-08-24 01:48:10.062 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/_blazor?id=qMEueJ9KP9unVhoUmP36lg - null null
2025-08-24 01:48:10.063 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 01:48:10.199 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__tableNumber_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[TableNumber] = @__tableNumber_0
2025-08-24 01:48:10.203 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 01:48:10.229 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 01:48:22.949 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/menu?table=1&id=c736e986-57e6-43fb-b518-59621bce144f&vscodeBrowserReqId=1755989302943 - null null
2025-08-24 01:48:22.952 +03:00 [INF] Executing endpoint '/menu (/menu)'
2025-08-24 01:48:22.964 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__tableNumber_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[TableNumber] = @__tableNumber_0
2025-08-24 01:48:22.969 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 01:48:22.975 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 01:48:22.983 +03:00 [INF] Executed endpoint '/menu (/menu)'
2025-08-24 01:48:22.985 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/menu?table=1&id=c736e986-57e6-43fb-b518-59621bce144f&vscodeBrowserReqId=1755989302943 - 200 null text/html; charset=utf-8 36.1898ms
2025-08-24 01:49:03.781 +03:00 [INF] Application is shutting down...
2025-08-24 01:49:03.781 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 01:49:03.784 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/_blazor?id=qMEueJ9KP9unVhoUmP36lg - 101 null null 53721.8958ms
2025-08-24 01:50:49.913 +03:00 [INF] User profile is available. Using 'C:\Users\fatih\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-24 01:50:51.078 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-24 01:50:51.162 +03:00 [INF] Executed DbCommand (69ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-08-24 01:50:51.525 +03:00 [INF] Executed DbCommand (38ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-08-24 01:50:51.641 +03:00 [INF] Executed DbCommand (16ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 01:50:51.681 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 01:50:51.686 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 01:50:51.689 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 01:50:51.692 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 01:50:51.695 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 01:50:51.698 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 01:50:51.852 +03:00 [INF] Now listening on: http://localhost:5010
2025-08-24 01:50:51.858 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-24 01:50:51.860 +03:00 [INF] Hosting environment: Development
2025-08-24 01:50:51.861 +03:00 [INF] Content root path: C:\Users\fatih\Desktop\AI\Restorant
2025-08-24 01:51:01.851 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5010/_blazor/negotiate?negotiateVersion=1 - null 0
2025-08-24 01:51:01.855 +03:00 [WRN] Failed to determine the https port for redirect.
2025-08-24 01:51:01.872 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 01:51:01.879 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 01:51:01.880 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5010/_blazor/negotiate?negotiateVersion=1 - 200 316 application/json 30.3902ms
2025-08-24 01:51:01.883 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/_blazor?id=8MTso3qKNJaaOxq7KRZxdA - null null
2025-08-24 01:51:01.886 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 01:51:04.205 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/ - null null
2025-08-24 01:51:04.210 +03:00 [INF] Executing endpoint '/ (/)'
2025-08-24 01:51:04.263 +03:00 [INF] Executed endpoint '/ (/)'
2025-08-24 01:51:04.265 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/ - 200 null text/html; charset=utf-8 59.8135ms
2025-08-24 01:51:04.270 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/_framework/blazor.web.js - null null
2025-08-24 01:51:04.273 +03:00 [INF] Executing endpoint 'Blazor web static files'
2025-08-24 01:51:04.275 +03:00 [INF] The file /_framework/blazor.web.js was not modified
2025-08-24 01:51:04.277 +03:00 [INF] Executed endpoint 'Blazor web static files'
2025-08-24 01:51:04.277 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/_framework/blazor.web.js - 304 null text/javascript 6.8068ms
2025-08-24 01:51:05.514 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 01:51:05.515 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/_blazor?id=8MTso3qKNJaaOxq7KRZxdA - 101 null null 3631.8692ms
2025-08-24 01:51:06.504 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/menu?table=1&category=Ana%20Yemekler - null null
2025-08-24 01:51:06.506 +03:00 [INF] Executing endpoint '/menu (/menu)'
2025-08-24 01:51:06.528 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__tableNumber_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[TableNumber] = @__tableNumber_0
2025-08-24 01:51:06.590 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 01:51:06.614 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 01:51:06.641 +03:00 [INF] Executed endpoint '/menu (/menu)'
2025-08-24 01:51:06.644 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/menu?table=1&category=Ana%20Yemekler - 200 null text/html; charset=utf-8 139.995ms
2025-08-24 01:51:06.671 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/_blazor/initializers - null null
2025-08-24 01:51:06.673 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 01:51:06.678 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 01:51:06.678 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/_blazor/initializers - 200 null application/json; charset=utf-8 7.7725ms
2025-08-24 01:51:06.685 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5010/_blazor/negotiate?negotiateVersion=1 - null 0
2025-08-24 01:51:06.686 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 01:51:06.687 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 01:51:06.688 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5010/_blazor/negotiate?negotiateVersion=1 - 200 316 application/json 3.8135ms
2025-08-24 01:51:06.690 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/_blazor?id=7gTBAEDZrHIeU2rxHrNB3Q - null null
2025-08-24 01:51:06.691 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 01:51:06.780 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__tableNumber_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[TableNumber] = @__tableNumber_0
2025-08-24 01:51:06.784 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 01:51:06.787 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 01:51:15.590 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 01:51:15.592 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/_blazor?id=7gTBAEDZrHIeU2rxHrNB3Q - 101 null null 8902.1653ms
2025-08-24 01:51:58.389 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/menu?table=1 - null null
2025-08-24 01:51:58.391 +03:00 [INF] Executing endpoint '/menu (/menu)'
2025-08-24 01:51:58.409 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__tableNumber_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[TableNumber] = @__tableNumber_0
2025-08-24 01:51:58.416 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 01:51:58.420 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 01:51:58.424 +03:00 [INF] Executed endpoint '/menu (/menu)'
2025-08-24 01:51:58.426 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/menu?table=1 - 200 null text/html; charset=utf-8 36.7832ms
2025-08-24 01:51:58.688 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/_framework/blazor.web.js - null null
2025-08-24 01:51:58.691 +03:00 [INF] Executing endpoint 'Blazor web static files'
2025-08-24 01:51:58.692 +03:00 [INF] The file /_framework/blazor.web.js was not modified
2025-08-24 01:51:58.692 +03:00 [INF] Executed endpoint 'Blazor web static files'
2025-08-24 01:51:58.693 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/_framework/blazor.web.js - 304 null text/javascript 4.231ms
2025-08-24 01:51:58.866 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/_blazor/initializers - null null
2025-08-24 01:51:58.868 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 01:51:58.868 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 01:51:58.869 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/_blazor/initializers - 200 null application/json; charset=utf-8 2.5344ms
2025-08-24 01:51:58.874 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5010/_blazor/negotiate?negotiateVersion=1 - null 0
2025-08-24 01:51:58.875 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 01:51:58.876 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 01:51:58.877 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5010/_blazor/negotiate?negotiateVersion=1 - 200 316 application/json 3.2444ms
2025-08-24 01:51:58.879 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/_blazor?id=xoffz2u7BlvArCkD0hUaFQ - null null
2025-08-24 01:51:58.881 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 01:51:58.890 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__tableNumber_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[TableNumber] = @__tableNumber_0
2025-08-24 01:51:58.893 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 01:51:58.896 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 01:52:04.619 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 01:52:04.619 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/_blazor?id=xoffz2u7BlvArCkD0hUaFQ - 101 null null 5739.7953ms
2025-08-24 01:52:08.594 +03:00 [INF] Application is shutting down...
2025-08-24 01:53:36.071 +03:00 [INF] User profile is available. Using 'C:\Users\fatih\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-24 01:53:36.642 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-24 01:53:36.681 +03:00 [INF] Executed DbCommand (32ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-08-24 01:53:36.842 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-08-24 01:53:36.897 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 01:53:36.917 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 01:53:36.919 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 01:53:36.920 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 01:53:36.922 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 01:53:36.923 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 01:53:36.924 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 01:53:37.014 +03:00 [INF] Now listening on: http://localhost:5010
2025-08-24 01:53:37.017 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-24 01:53:37.018 +03:00 [INF] Hosting environment: Development
2025-08-24 01:53:37.018 +03:00 [INF] Content root path: C:\Users\fatih\Desktop\AI\Restorant
2025-08-24 01:53:55.987 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/ - null null
2025-08-24 01:53:55.992 +03:00 [WRN] Failed to determine the https port for redirect.
2025-08-24 01:53:56.017 +03:00 [INF] Executing endpoint '/ (/)'
2025-08-24 01:53:56.083 +03:00 [INF] Executed endpoint '/ (/)'
2025-08-24 01:53:56.087 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/ - 200 null text/html; charset=utf-8 100.6186ms
2025-08-24 01:53:56.098 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/_framework/blazor.web.js - null null
2025-08-24 01:53:56.104 +03:00 [INF] Executing endpoint 'Blazor web static files'
2025-08-24 01:53:56.108 +03:00 [INF] The file /_framework/blazor.web.js was not modified
2025-08-24 01:53:56.111 +03:00 [INF] Executed endpoint 'Blazor web static files'
2025-08-24 01:53:56.116 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/_framework/blazor.web.js - 304 null text/javascript 18.1786ms
2025-08-24 01:53:58.018 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/menu?table=1&category=Ana%20Yemekler - null null
2025-08-24 01:53:58.021 +03:00 [INF] Executing endpoint '/menu (/menu)'
2025-08-24 01:53:58.046 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__tableNumber_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[TableNumber] = @__tableNumber_0
2025-08-24 01:53:58.106 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 01:53:58.130 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 01:53:58.156 +03:00 [INF] Executed endpoint '/menu (/menu)'
2025-08-24 01:53:58.159 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/menu?table=1&category=Ana%20Yemekler - 200 null text/html; charset=utf-8 141.273ms
2025-08-24 01:53:58.168 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/_blazor/initializers - null null
2025-08-24 01:53:58.170 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 01:53:58.173 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 01:53:58.174 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/_blazor/initializers - 200 null application/json; charset=utf-8 5.2651ms
2025-08-24 01:53:58.191 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5010/_blazor/negotiate?negotiateVersion=1 - null 0
2025-08-24 01:53:58.194 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 01:53:58.198 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 01:53:58.199 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5010/_blazor/negotiate?negotiateVersion=1 - 200 316 application/json 7.5202ms
2025-08-24 01:53:58.201 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/_blazor?id=Fg7OPVAVL6ZkUPjn6N9X4w - null null
2025-08-24 01:53:58.202 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 01:53:58.304 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__tableNumber_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[TableNumber] = @__tableNumber_0
2025-08-24 01:53:58.308 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 01:53:58.311 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 01:54:07.114 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 01:54:07.115 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/_blazor?id=Fg7OPVAVL6ZkUPjn6N9X4w - 101 null null 8914.1451ms
2025-08-24 01:54:21.896 +03:00 [INF] Application is shutting down...
2025-08-24 01:58:31.891 +03:00 [INF] User profile is available. Using 'C:\Users\fatih\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-24 01:58:32.494 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-24 01:58:32.537 +03:00 [INF] Executed DbCommand (36ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-08-24 01:58:32.707 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-08-24 01:58:32.764 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 01:58:32.783 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 01:58:32.785 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 01:58:32.787 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 01:58:32.788 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 01:58:32.789 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 01:58:32.790 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 01:58:32.867 +03:00 [INF] Now listening on: http://localhost:5010
2025-08-24 01:58:32.870 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-24 01:58:32.870 +03:00 [INF] Hosting environment: Development
2025-08-24 01:58:32.871 +03:00 [INF] Content root path: C:\Users\fatih\Desktop\AI\Restorant
2025-08-24 01:58:42.962 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/menu?table=1&id=c736e986-57e6-43fb-b518-59621bce144f&vscodeBrowserReqId=1755989922938 - null null
2025-08-24 01:58:42.967 +03:00 [WRN] Failed to determine the https port for redirect.
2025-08-24 01:58:42.984 +03:00 [INF] Executing endpoint '/menu (/menu)'
2025-08-24 01:58:43.022 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__tableNumber_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[TableNumber] = @__tableNumber_0
2025-08-24 01:58:43.083 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 01:58:43.106 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 01:58:43.157 +03:00 [INF] Executed endpoint '/menu (/menu)'
2025-08-24 01:58:43.162 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/menu?table=1&id=c736e986-57e6-43fb-b518-59621bce144f&vscodeBrowserReqId=1755989922938 - 200 null text/html; charset=utf-8 200.5117ms
2025-08-24 01:59:52.949 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/ - null null
2025-08-24 01:59:52.953 +03:00 [INF] Executing endpoint '/ (/)'
2025-08-24 01:59:52.959 +03:00 [INF] Executed endpoint '/ (/)'
2025-08-24 01:59:52.960 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/ - 200 null text/html; charset=utf-8 10.6645ms
2025-08-24 01:59:53.203 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/_framework/blazor.web.js - null null
2025-08-24 01:59:53.208 +03:00 [INF] Executing endpoint 'Blazor web static files'
2025-08-24 01:59:53.210 +03:00 [INF] The file /_framework/blazor.web.js was not modified
2025-08-24 01:59:53.211 +03:00 [INF] Executed endpoint 'Blazor web static files'
2025-08-24 01:59:53.212 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/_framework/blazor.web.js - 304 null text/javascript 8.4742ms
2025-08-24 01:59:56.554 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/menu?table=1&category=Ana%20Yemekler - null null
2025-08-24 01:59:56.556 +03:00 [INF] Executing endpoint '/menu (/menu)'
2025-08-24 01:59:56.598 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__tableNumber_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[TableNumber] = @__tableNumber_0
2025-08-24 01:59:56.605 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 01:59:56.608 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 01:59:56.611 +03:00 [INF] Executed endpoint '/menu (/menu)'
2025-08-24 01:59:56.612 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/menu?table=1&category=Ana%20Yemekler - 200 null text/html; charset=utf-8 57.3767ms
2025-08-24 01:59:56.638 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/_blazor/initializers - null null
2025-08-24 01:59:56.639 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 01:59:56.644 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 01:59:56.645 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/_blazor/initializers - 200 null application/json; charset=utf-8 7.1367ms
2025-08-24 01:59:56.649 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5010/_blazor/negotiate?negotiateVersion=1 - null 0
2025-08-24 01:59:56.651 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 01:59:56.657 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 01:59:56.658 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5010/_blazor/negotiate?negotiateVersion=1 - 200 316 application/json 8.4261ms
2025-08-24 01:59:56.660 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/_blazor?id=M7im_ssDPga_ZZa6KNu2bg - null null
2025-08-24 01:59:56.662 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 01:59:56.731 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__tableNumber_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[TableNumber] = @__tableNumber_0
2025-08-24 01:59:56.735 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 01:59:56.738 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 02:00:17.805 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 02:00:17.805 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/_blazor?id=M7im_ssDPga_ZZa6KNu2bg - 101 null null 21145.0455ms
2025-08-24 02:00:40.228 +03:00 [INF] Application is shutting down...
2025-08-24 02:01:01.446 +03:00 [INF] User profile is available. Using 'C:\Users\fatih\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-24 02:01:02.033 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-24 02:01:02.065 +03:00 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-08-24 02:01:02.229 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-08-24 02:01:02.286 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 02:01:02.306 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 02:01:02.308 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 02:01:02.309 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 02:01:02.310 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 02:01:02.312 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 02:01:02.313 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 02:01:02.390 +03:00 [INF] Now listening on: http://localhost:5010
2025-08-24 02:01:02.393 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-24 02:01:02.394 +03:00 [INF] Hosting environment: Development
2025-08-24 02:01:02.395 +03:00 [INF] Content root path: C:\Users\fatih\Desktop\AI\Restorant
2025-08-24 02:02:42.510 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/?id=c736e986-57e6-43fb-b518-59621bce144f&vscodeBrowserReqId=1755990162487 - null null
2025-08-24 02:02:42.514 +03:00 [WRN] Failed to determine the https port for redirect.
2025-08-24 02:02:42.530 +03:00 [INF] Executing endpoint '/ (/)'
2025-08-24 02:02:42.579 +03:00 [INF] Executed endpoint '/ (/)'
2025-08-24 02:02:42.581 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/?id=c736e986-57e6-43fb-b518-59621bce144f&vscodeBrowserReqId=1755990162487 - 200 null text/html; charset=utf-8 71.5644ms
2025-08-24 02:04:07.283 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/ - null null
2025-08-24 02:04:07.287 +03:00 [INF] Executing endpoint '/ (/)'
2025-08-24 02:04:07.294 +03:00 [INF] Executed endpoint '/ (/)'
2025-08-24 02:04:07.296 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/ - 200 null text/html; charset=utf-8 13.1908ms
2025-08-24 02:04:07.541 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/_framework/blazor.web.js - null null
2025-08-24 02:04:07.546 +03:00 [INF] Executing endpoint 'Blazor web static files'
2025-08-24 02:04:07.548 +03:00 [INF] The file /_framework/blazor.web.js was not modified
2025-08-24 02:04:07.549 +03:00 [INF] Executed endpoint 'Blazor web static files'
2025-08-24 02:04:07.550 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/_framework/blazor.web.js - 304 null text/javascript 8.4441ms
2025-08-24 02:04:13.154 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/menu?table=1&category=Ana%20Yemekler - null null
2025-08-24 02:04:13.156 +03:00 [INF] Executing endpoint '/menu (/menu)'
2025-08-24 02:04:13.184 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__tableNumber_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[TableNumber] = @__tableNumber_0
2025-08-24 02:04:13.245 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 02:04:13.268 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 02:04:13.297 +03:00 [INF] Executed endpoint '/menu (/menu)'
2025-08-24 02:04:13.300 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/menu?table=1&category=Ana%20Yemekler - 200 null text/html; charset=utf-8 145.9841ms
2025-08-24 02:04:13.310 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/_blazor/initializers - null null
2025-08-24 02:04:13.311 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 02:04:13.314 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 02:04:13.315 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/_blazor/initializers - 200 null application/json; charset=utf-8 5.5529ms
2025-08-24 02:04:13.334 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5010/_blazor/negotiate?negotiateVersion=1 - null 0
2025-08-24 02:04:13.337 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 02:04:13.341 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 02:04:13.342 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5010/_blazor/negotiate?negotiateVersion=1 - 200 316 application/json 7.5236ms
2025-08-24 02:04:13.344 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/_blazor?id=8ygHbWgMFuPu2BNP35udmA - null null
2025-08-24 02:04:13.346 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 02:04:13.447 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__tableNumber_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[TableNumber] = @__tableNumber_0
2025-08-24 02:04:13.451 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 02:04:13.455 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 02:04:23.707 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/.well-known/appspecific/com.chrome.devtools.json - null null
2025-08-24 02:04:23.709 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/.well-known/appspecific/com.chrome.devtools.json - 404 0 null 1.9286ms
2025-08-24 02:04:23.711 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5010/.well-known/appspecific/com.chrome.devtools.json, Response status code: 404
2025-08-24 02:08:26.840 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/menu?table=1&id=c736e986-57e6-43fb-b518-59621bce144f&vscodeBrowserReqId=1755990506838 - null null
2025-08-24 02:08:26.842 +03:00 [INF] Executing endpoint '/menu (/menu)'
2025-08-24 02:08:26.851 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__tableNumber_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[TableNumber] = @__tableNumber_0
2025-08-24 02:08:26.858 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 02:08:26.861 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 02:08:26.864 +03:00 [INF] Executed endpoint '/menu (/menu)'
2025-08-24 02:08:26.865 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/menu?table=1&id=c736e986-57e6-43fb-b518-59621bce144f&vscodeBrowserReqId=1755990506838 - 200 null text/html; charset=utf-8 24.3774ms
2025-08-24 02:08:50.157 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/menu?table=1 - null null
2025-08-24 02:08:50.158 +03:00 [INF] Executing endpoint '/menu (/menu)'
2025-08-24 02:08:50.161 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__tableNumber_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[TableNumber] = @__tableNumber_0
2025-08-24 02:08:50.164 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 02:08:50.167 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 02:08:50.170 +03:00 [INF] Executed endpoint '/menu (/menu)'
2025-08-24 02:08:50.171 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/menu?table=1 - 200 null text/html; charset=utf-8 14.3435ms
2025-08-24 02:08:50.253 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/_framework/blazor.web.js - null null
2025-08-24 02:08:50.255 +03:00 [INF] Executing endpoint 'Blazor web static files'
2025-08-24 02:08:50.255 +03:00 [INF] The file /_framework/blazor.web.js was not modified
2025-08-24 02:08:50.256 +03:00 [INF] Executed endpoint 'Blazor web static files'
2025-08-24 02:08:50.257 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/_framework/blazor.web.js - 304 null text/javascript 3.9647ms
2025-08-24 02:08:50.594 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/_blazor/initializers - null null
2025-08-24 02:08:50.595 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 02:08:50.596 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 02:08:50.596 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/_blazor/initializers - 200 null application/json; charset=utf-8 2.589ms
2025-08-24 02:08:50.602 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5010/_blazor/negotiate?negotiateVersion=1 - null 0
2025-08-24 02:08:50.603 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 02:08:50.604 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 02:08:50.604 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5010/_blazor/negotiate?negotiateVersion=1 - 200 316 application/json 2.4473ms
2025-08-24 02:08:50.606 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/_blazor?id=ckotaNWOcv2etPKRXy7g9Q - null null
2025-08-24 02:08:50.607 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 02:08:50.615 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__tableNumber_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[TableNumber] = @__tableNumber_0
2025-08-24 02:08:50.617 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 02:08:50.619 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 02:09:07.967 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 02:09:07.967 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 02:09:07.968 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/_blazor?id=ckotaNWOcv2etPKRXy7g9Q - 101 null null 17361.2394ms
2025-08-24 02:09:07.968 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/_blazor?id=8ygHbWgMFuPu2BNP35udmA - 101 null null 294624.3144ms
2025-08-24 02:09:11.669 +03:00 [INF] Application is shutting down...
2025-08-24 02:09:50.554 +03:00 [INF] User profile is available. Using 'C:\Users\fatih\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-24 02:09:51.144 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-24 02:09:51.184 +03:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-08-24 02:09:51.353 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-08-24 02:09:51.418 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 02:09:51.445 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 02:09:51.447 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 02:09:51.449 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 02:09:51.451 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 02:09:51.453 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 02:09:51.455 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 02:09:51.536 +03:00 [INF] Now listening on: http://localhost:5010
2025-08-24 02:09:51.538 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-24 02:09:51.539 +03:00 [INF] Hosting environment: Development
2025-08-24 02:09:51.539 +03:00 [INF] Content root path: C:\Users\fatih\Desktop\AI\Restorant
2025-08-24 02:10:56.736 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/menu?table=1&id=c736e986-57e6-43fb-b518-59621bce144f&vscodeBrowserReqId=1755990656712 - null null
2025-08-24 02:10:56.740 +03:00 [WRN] Failed to determine the https port for redirect.
2025-08-24 02:10:56.757 +03:00 [INF] Executing endpoint '/menu (/menu)'
2025-08-24 02:10:56.799 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__tableNumber_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[TableNumber] = @__tableNumber_0
2025-08-24 02:10:56.860 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 02:10:56.883 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 02:10:56.934 +03:00 [INF] Executed endpoint '/menu (/menu)'
2025-08-24 02:10:56.940 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/menu?table=1&id=c736e986-57e6-43fb-b518-59621bce144f&vscodeBrowserReqId=1755990656712 - 200 null text/html; charset=utf-8 204.9576ms
2025-08-24 02:12:44.111 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/ - null null
2025-08-24 02:12:44.114 +03:00 [INF] Executing endpoint '/ (/)'
2025-08-24 02:12:44.122 +03:00 [INF] Executed endpoint '/ (/)'
2025-08-24 02:12:44.124 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/ - 200 null text/html; charset=utf-8 12.4658ms
2025-08-24 02:12:44.241 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/_framework/blazor.web.js - null null
2025-08-24 02:12:44.247 +03:00 [INF] Executing endpoint 'Blazor web static files'
2025-08-24 02:12:44.251 +03:00 [INF] The file /_framework/blazor.web.js was not modified
2025-08-24 02:12:44.252 +03:00 [INF] Executed endpoint 'Blazor web static files'
2025-08-24 02:12:44.253 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/_framework/blazor.web.js - 304 null text/javascript 11.8468ms
2025-08-24 02:12:47.207 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/menu?table=1&category=Ana%20Yemekler - null null
2025-08-24 02:12:47.209 +03:00 [INF] Executing endpoint '/menu (/menu)'
2025-08-24 02:12:47.254 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__tableNumber_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[TableNumber] = @__tableNumber_0
2025-08-24 02:12:47.262 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 02:12:47.265 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 02:12:47.268 +03:00 [INF] Executed endpoint '/menu (/menu)'
2025-08-24 02:12:47.268 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/menu?table=1&category=Ana%20Yemekler - 200 null text/html; charset=utf-8 61.063ms
2025-08-24 02:12:47.296 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/_blazor/initializers - null null
2025-08-24 02:12:47.297 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 02:12:47.304 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 02:12:47.305 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/_blazor/initializers - 200 null application/json; charset=utf-8 9.2268ms
2025-08-24 02:12:47.311 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5010/_blazor/negotiate?negotiateVersion=1 - null 0
2025-08-24 02:12:47.314 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 02:12:47.320 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 02:12:47.321 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5010/_blazor/negotiate?negotiateVersion=1 - 200 316 application/json 9.1372ms
2025-08-24 02:12:47.323 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/_blazor?id=LxWJ4B8ytj_D2UQ-DSXisw - null null
2025-08-24 02:12:47.324 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 02:12:47.395 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__tableNumber_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[TableNumber] = @__tableNumber_0
2025-08-24 02:12:47.399 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 02:12:47.402 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 02:14:08.489 +03:00 [INF] Application is shutting down...
2025-08-24 02:14:08.489 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 02:14:08.490 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/_blazor?id=LxWJ4B8ytj_D2UQ-DSXisw - 101 null null 81167.0028ms
2025-08-24 02:16:26.985 +03:00 [INF] User profile is available. Using 'C:\Users\fatih\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-24 02:16:27.611 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-24 02:16:27.653 +03:00 [INF] Executed DbCommand (35ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-08-24 02:16:27.827 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-08-24 02:16:27.888 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 02:16:27.909 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 02:16:27.912 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 02:16:27.914 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 02:16:27.915 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 02:16:27.918 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 02:16:27.919 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 02:16:27.999 +03:00 [INF] Now listening on: http://localhost:5010
2025-08-24 02:16:28.002 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-24 02:16:28.002 +03:00 [INF] Hosting environment: Development
2025-08-24 02:16:28.003 +03:00 [INF] Content root path: C:\Users\fatih\Desktop\AI\Restorant
2025-08-24 02:16:47.254 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/ - null null
2025-08-24 02:16:47.258 +03:00 [WRN] Failed to determine the https port for redirect.
2025-08-24 02:16:47.285 +03:00 [INF] Executing endpoint '/ (/)'
2025-08-24 02:16:47.369 +03:00 [INF] Executed endpoint '/ (/)'
2025-08-24 02:16:47.373 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/ - 200 null text/html; charset=utf-8 119.6501ms
2025-08-24 02:16:47.521 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/_framework/blazor.web.js - null null
2025-08-24 02:16:47.526 +03:00 [INF] Executing endpoint 'Blazor web static files'
2025-08-24 02:16:47.529 +03:00 [INF] The file /_framework/blazor.web.js was not modified
2025-08-24 02:16:47.530 +03:00 [INF] Executed endpoint 'Blazor web static files'
2025-08-24 02:16:47.531 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/_framework/blazor.web.js - 304 null text/javascript 9.8877ms
2025-08-24 02:16:48.787 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/menu?table=1&category=%C4%B0%C3%A7ecekler - null null
2025-08-24 02:16:48.790 +03:00 [INF] Executing endpoint '/menu (/menu)'
2025-08-24 02:16:48.812 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__tableNumber_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[TableNumber] = @__tableNumber_0
2025-08-24 02:16:48.818 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/menu?table=1&category=%C4%B0%C3%A7ecekler - null null
2025-08-24 02:16:48.820 +03:00 [INF] Executing endpoint '/menu (/menu)'
2025-08-24 02:16:48.857 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__tableNumber_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[TableNumber] = @__tableNumber_0
2025-08-24 02:16:48.877 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 02:16:48.879 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 02:16:48.901 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 02:16:48.902 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 02:16:48.929 +03:00 [INF] Executed endpoint '/menu (/menu)'
2025-08-24 02:16:48.929 +03:00 [INF] Executed endpoint '/menu (/menu)'
2025-08-24 02:16:48.932 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/menu?table=1&category=%C4%B0%C3%A7ecekler - 200 null text/html; charset=utf-8 113.6027ms
2025-08-24 02:16:48.932 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/menu?table=1&category=%C4%B0%C3%A7ecekler - 200 null text/html; charset=utf-8 144.6863ms
2025-08-24 02:16:48.941 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/_blazor/initializers - null null
2025-08-24 02:16:48.942 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 02:16:48.946 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 02:16:48.947 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/_blazor/initializers - 200 null application/json; charset=utf-8 6.1872ms
2025-08-24 02:16:48.959 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5010/_blazor/negotiate?negotiateVersion=1 - null 0
2025-08-24 02:16:48.962 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 02:16:48.967 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 02:16:48.968 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5010/_blazor/negotiate?negotiateVersion=1 - 200 316 application/json 8.1009ms
2025-08-24 02:16:48.969 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/_blazor?id=sfH16j6IYuAV4bMo_uQKMg - null null
2025-08-24 02:16:48.970 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 02:16:49.041 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__tableNumber_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[TableNumber] = @__tableNumber_0
2025-08-24 02:16:49.045 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 02:16:49.049 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 02:16:49.617 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 02:16:49.619 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/menu?table=1&category=Ana%20Yemekler - null null
2025-08-24 02:16:49.620 +03:00 [INF] Executing endpoint '/menu (/menu)'
2025-08-24 02:16:49.623 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__tableNumber_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[TableNumber] = @__tableNumber_0
2025-08-24 02:16:49.625 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 02:16:49.627 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 02:16:49.629 +03:00 [INF] Executed endpoint '/menu (/menu)'
2025-08-24 02:16:49.630 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/menu?table=1&category=Ana%20Yemekler - 200 null text/html; charset=utf-8 11.5516ms
2025-08-24 02:17:48.494 +03:00 [INF] Application is shutting down...
2025-08-24 02:17:48.494 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 02:17:48.495 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/_blazor?id=sfH16j6IYuAV4bMo_uQKMg - 101 null null 59526.1489ms
2025-08-24 02:18:51.421 +03:00 [INF] User profile is available. Using 'C:\Users\fatih\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-24 02:18:52.024 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-24 02:18:52.065 +03:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-08-24 02:18:52.252 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-08-24 02:18:52.316 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 02:18:52.336 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 02:18:52.339 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 02:18:52.341 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 02:18:52.342 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 02:18:52.344 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 02:18:52.346 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 02:18:52.432 +03:00 [INF] Now listening on: http://localhost:5010
2025-08-24 02:18:52.435 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-24 02:18:52.435 +03:00 [INF] Hosting environment: Development
2025-08-24 02:18:52.436 +03:00 [INF] Content root path: C:\Users\fatih\Desktop\AI\Restorant
2025-08-24 02:18:59.443 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/ - null null
2025-08-24 02:18:59.447 +03:00 [WRN] Failed to determine the https port for redirect.
2025-08-24 02:18:59.468 +03:00 [INF] Executing endpoint '/ (/)'
2025-08-24 02:18:59.528 +03:00 [INF] Executed endpoint '/ (/)'
2025-08-24 02:18:59.531 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/ - 200 null text/html; charset=utf-8 89.294ms
2025-08-24 02:18:59.541 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/_framework/blazor.web.js - null null
2025-08-24 02:18:59.545 +03:00 [INF] Executing endpoint 'Blazor web static files'
2025-08-24 02:18:59.549 +03:00 [INF] The file /_framework/blazor.web.js was not modified
2025-08-24 02:18:59.550 +03:00 [INF] Executed endpoint 'Blazor web static files'
2025-08-24 02:18:59.551 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/_framework/blazor.web.js - 304 null text/javascript 10.5297ms
2025-08-24 02:19:00.838 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5010/_blazor/negotiate?negotiateVersion=1 - null 0
2025-08-24 02:19:00.842 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 02:19:00.846 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 02:19:00.847 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5010/_blazor/negotiate?negotiateVersion=1 - 200 316 application/json 8.8852ms
2025-08-24 02:19:00.849 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/_blazor?id=a6FxmZa1Y7p3-BZ2yZjfKA - null null
2025-08-24 02:19:00.850 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 02:19:01.269 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/menu?table=1&category=Ana%20Yemekler - null null
2025-08-24 02:19:01.271 +03:00 [INF] Executing endpoint '/menu (/menu)'
2025-08-24 02:19:01.291 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__tableNumber_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[TableNumber] = @__tableNumber_0
2025-08-24 02:19:01.352 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 02:19:01.375 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 02:19:01.401 +03:00 [INF] Executed endpoint '/menu (/menu)'
2025-08-24 02:19:01.404 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/menu?table=1&category=Ana%20Yemekler - 200 null text/html; charset=utf-8 134.7321ms
2025-08-24 02:19:01.413 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/_blazor/initializers - null null
2025-08-24 02:19:01.415 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 02:19:01.419 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 02:19:01.419 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/_blazor/initializers - 200 null application/json; charset=utf-8 5.8826ms
2025-08-24 02:19:01.435 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5010/_blazor/negotiate?negotiateVersion=1 - null 0
2025-08-24 02:19:01.437 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 02:19:01.438 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 02:19:01.439 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5010/_blazor/negotiate?negotiateVersion=1 - 200 316 application/json 3.4804ms
2025-08-24 02:19:01.440 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/_blazor?id=xiHRlFxnYKuj2C15cifMuQ - null null
2025-08-24 02:19:01.442 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 02:19:01.527 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__tableNumber_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[TableNumber] = @__tableNumber_0
2025-08-24 02:19:01.531 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 02:19:01.534 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 02:19:10.898 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 02:19:10.899 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 02:19:10.899 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/_blazor?id=a6FxmZa1Y7p3-BZ2yZjfKA - 101 null null 10050.5377ms
2025-08-24 02:19:10.900 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/_blazor?id=xiHRlFxnYKuj2C15cifMuQ - 101 null null 9459.5767ms
2025-08-24 02:19:54.503 +03:00 [INF] Application is shutting down...
2025-08-24 02:22:03.967 +03:00 [INF] User profile is available. Using 'C:\Users\fatih\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-24 02:22:04.571 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-24 02:22:04.610 +03:00 [INF] Executed DbCommand (32ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-08-24 02:22:04.797 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-08-24 02:22:04.855 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 02:22:04.874 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 02:22:04.877 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 02:22:04.879 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 02:22:04.881 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 02:22:04.882 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 02:22:04.884 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 02:22:04.960 +03:00 [INF] Now listening on: http://localhost:5010
2025-08-24 02:22:04.963 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-24 02:22:04.963 +03:00 [INF] Hosting environment: Development
2025-08-24 02:22:04.964 +03:00 [INF] Content root path: C:\Users\fatih\Desktop\AI\Restorant
2025-08-24 02:22:14.414 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/ - null null
2025-08-24 02:22:14.419 +03:00 [WRN] Failed to determine the https port for redirect.
2025-08-24 02:22:14.441 +03:00 [INF] Executing endpoint '/ (/)'
2025-08-24 02:22:14.499 +03:00 [INF] Executed endpoint '/ (/)'
2025-08-24 02:22:14.502 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/ - 200 null text/html; charset=utf-8 89.8048ms
2025-08-24 02:22:14.515 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/_framework/blazor.web.js - null null
2025-08-24 02:22:14.519 +03:00 [INF] Executing endpoint 'Blazor web static files'
2025-08-24 02:22:14.523 +03:00 [INF] The file /_framework/blazor.web.js was not modified
2025-08-24 02:22:14.524 +03:00 [INF] Executed endpoint 'Blazor web static files'
2025-08-24 02:22:14.525 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/_framework/blazor.web.js - 304 null text/javascript 9.8806ms
2025-08-24 02:22:16.691 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/menu?table=1&category=Ana%20Yemekler - null null
2025-08-24 02:22:16.694 +03:00 [INF] Executing endpoint '/menu (/menu)'
2025-08-24 02:22:16.717 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__tableNumber_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[TableNumber] = @__tableNumber_0
2025-08-24 02:22:16.805 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 02:22:16.831 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 02:22:16.859 +03:00 [INF] Executed endpoint '/menu (/menu)'
2025-08-24 02:22:16.862 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/menu?table=1&category=Ana%20Yemekler - 200 null text/html; charset=utf-8 171.7206ms
2025-08-24 02:22:16.886 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/_blazor/initializers - null null
2025-08-24 02:22:16.887 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 02:22:16.890 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 02:22:16.891 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/_blazor/initializers - 200 null application/json; charset=utf-8 5.4265ms
2025-08-24 02:22:16.898 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5010/_blazor/negotiate?negotiateVersion=1 - null 0
2025-08-24 02:22:16.900 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 02:22:16.904 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 02:22:16.905 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5010/_blazor/negotiate?negotiateVersion=1 - 200 316 application/json 7.2495ms
2025-08-24 02:22:16.907 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/_blazor?id=NA6V3vOkaOcq4uXjYuzVVA - null null
2025-08-24 02:22:16.909 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 02:22:17.012 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__tableNumber_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[TableNumber] = @__tableNumber_0
2025-08-24 02:22:17.017 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 02:22:17.020 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 02:22:34.639 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 02:22:34.640 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/_blazor?id=NA6V3vOkaOcq4uXjYuzVVA - 101 null null 17733.0945ms
2025-08-24 02:23:08.176 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/ - null null
2025-08-24 02:23:08.178 +03:00 [INF] Executing endpoint '/ (/)'
2025-08-24 02:23:08.184 +03:00 [INF] Executed endpoint '/ (/)'
2025-08-24 02:23:08.185 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/ - 200 null text/html; charset=utf-8 8.592ms
2025-08-24 02:23:08.292 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/_framework/blazor.web.js - null null
2025-08-24 02:23:08.294 +03:00 [INF] Executing endpoint 'Blazor web static files'
2025-08-24 02:23:08.295 +03:00 [INF] The file /_framework/blazor.web.js was not modified
2025-08-24 02:23:08.296 +03:00 [INF] Executed endpoint 'Blazor web static files'
2025-08-24 02:23:08.296 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/_framework/blazor.web.js - 304 null text/javascript 4.7203ms
2025-08-24 02:23:10.090 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/menu?table=1&category=Ba%C5%9Flang%C4%B1%C3%A7lar - null null
2025-08-24 02:23:10.092 +03:00 [INF] Executing endpoint '/menu (/menu)'
2025-08-24 02:23:10.103 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__tableNumber_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[TableNumber] = @__tableNumber_0
2025-08-24 02:23:10.109 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 02:23:10.112 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 02:23:10.114 +03:00 [INF] Executed endpoint '/menu (/menu)'
2025-08-24 02:23:10.115 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/menu?table=1&category=Ba%C5%9Flang%C4%B1%C3%A7lar - 200 null text/html; charset=utf-8 24.5862ms
2025-08-24 02:23:10.126 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/_blazor/initializers - null null
2025-08-24 02:23:10.127 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 02:23:10.128 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 02:23:10.129 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/_blazor/initializers - 200 null application/json; charset=utf-8 2.691ms
2025-08-24 02:23:10.150 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5010/_blazor/negotiate?negotiateVersion=1 - null 0
2025-08-24 02:23:10.151 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 02:23:10.152 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 02:23:10.153 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5010/_blazor/negotiate?negotiateVersion=1 - 200 316 application/json 2.595ms
2025-08-24 02:23:10.155 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/_blazor?id=y8zNFLGC0Xklm1y-Zz6d0g - null null
2025-08-24 02:23:10.156 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 02:23:10.166 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__tableNumber_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[TableNumber] = @__tableNumber_0
2025-08-24 02:23:10.169 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 02:23:10.172 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 02:23:15.705 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 02:23:15.705 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/_blazor?id=y8zNFLGC0Xklm1y-Zz6d0g - 101 null null 5550.8308ms
2025-08-24 12:21:35.419 +03:00 [INF] User profile is available. Using 'C:\Users\fatih\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-24 12:21:36.076 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-24 12:21:36.116 +03:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-08-24 12:21:36.293 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-08-24 12:21:36.358 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 12:21:36.381 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 12:21:36.384 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 12:21:36.385 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 12:21:36.387 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 12:21:36.389 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 12:21:36.391 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 12:21:36.507 +03:00 [INF] Now listening on: http://localhost:5010
2025-08-24 12:21:36.510 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-24 12:21:36.511 +03:00 [INF] Hosting environment: Development
2025-08-24 12:21:36.511 +03:00 [INF] Content root path: C:\Users\fatih\Desktop\AI\Restorant
2025-08-24 12:21:53.099 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/ - null null
2025-08-24 12:21:53.104 +03:00 [WRN] Failed to determine the https port for redirect.
2025-08-24 12:21:53.134 +03:00 [INF] Executing endpoint '/ (/)'
2025-08-24 12:21:53.224 +03:00 [INF] Executed endpoint '/ (/)'
2025-08-24 12:21:53.227 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/ - 200 null text/html; charset=utf-8 129.2739ms
2025-08-24 12:21:53.254 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/app.css - null null
2025-08-24 12:21:53.254 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/RestaurantOrdering.styles.css - null null
2025-08-24 12:21:53.254 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/_framework/blazor.web.js - null null
2025-08-24 12:21:53.255 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/bootstrap/bootstrap.min.css - null null
2025-08-24 12:21:53.268 +03:00 [INF] The file /RestaurantOrdering.styles.css was not modified
2025-08-24 12:21:53.269 +03:00 [INF] The file /bootstrap/bootstrap.min.css was not modified
2025-08-24 12:21:53.270 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/RestaurantOrdering.styles.css - 304 null text/css 15.2587ms
2025-08-24 12:21:53.270 +03:00 [INF] Executing endpoint 'Blazor web static files'
2025-08-24 12:21:53.270 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/bootstrap/bootstrap.min.css - 304 null text/css 15.7165ms
2025-08-24 12:21:53.276 +03:00 [INF] The file /_framework/blazor.web.js was not modified
2025-08-24 12:21:53.278 +03:00 [INF] Sending file. Request path: '/app.css'. Physical path: 'C:\Users\fatih\Desktop\AI\Restorant\wwwroot\app.css'
2025-08-24 12:21:53.283 +03:00 [INF] Executed endpoint 'Blazor web static files'
2025-08-24 12:21:53.284 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/app.css - 200 17470 text/css 29.9487ms
2025-08-24 12:21:53.285 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/_framework/blazor.web.js - 304 null text/javascript 30.1794ms
2025-08-24 12:57:37.544 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/menu?table=1&category=Ana%20Yemekler - null null
2025-08-24 12:57:37.550 +03:00 [INF] Executing endpoint '/menu (/menu)'
2025-08-24 12:57:37.618 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__tableNumber_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[TableNumber] = @__tableNumber_0
2025-08-24 12:57:37.682 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 12:57:37.705 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 12:57:37.734 +03:00 [INF] Executed endpoint '/menu (/menu)'
2025-08-24 12:57:37.737 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/menu?table=1&category=Ana%20Yemekler - 200 null text/html; charset=utf-8 192.2308ms
2025-08-24 12:57:37.748 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/_blazor/initializers - null null
2025-08-24 12:57:37.749 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 12:57:37.752 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 12:57:37.753 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/_blazor/initializers - 200 null application/json; charset=utf-8 5.4784ms
2025-08-24 12:57:37.773 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5010/_blazor/negotiate?negotiateVersion=1 - null 0
2025-08-24 12:57:37.775 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 12:57:37.780 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 12:57:37.780 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5010/_blazor/negotiate?negotiateVersion=1 - 200 316 application/json 7.6876ms
2025-08-24 12:57:37.782 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/_blazor?id=WNKW6YILy4-_UsuGh0NCyg - null null
2025-08-24 12:57:37.783 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 12:57:37.892 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__tableNumber_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[TableNumber] = @__tableNumber_0
2025-08-24 12:57:37.896 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 12:57:37.900 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 12:58:57.865 +03:00 [INF] Application is shutting down...
2025-08-24 12:58:57.866 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 12:58:57.867 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/_blazor?id=WNKW6YILy4-_UsuGh0NCyg - 101 null null 80084.5946ms
2025-08-24 13:02:17.158 +03:00 [INF] User profile is available. Using 'C:\Users\fatih\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-24 13:02:17.805 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-24 13:02:17.841 +03:00 [INF] Executed DbCommand (29ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-08-24 13:02:18.039 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-08-24 13:02:18.101 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 13:02:18.125 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 13:02:18.128 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 13:02:18.130 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 13:02:18.131 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 13:02:18.132 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 13:02:18.134 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 13:02:18.216 +03:00 [INF] Now listening on: http://localhost:5010
2025-08-24 13:02:18.219 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-24 13:02:18.220 +03:00 [INF] Hosting environment: Development
2025-08-24 13:02:18.220 +03:00 [INF] Content root path: C:\Users\fatih\Desktop\AI\Restorant
2025-08-24 13:02:29.807 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/menu?table=1 - null null
2025-08-24 13:02:29.811 +03:00 [WRN] Failed to determine the https port for redirect.
2025-08-24 13:02:29.831 +03:00 [INF] Executing endpoint '/menu (/menu)'
2025-08-24 13:02:29.874 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__tableNumber_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[TableNumber] = @__tableNumber_0
2025-08-24 13:02:29.941 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 13:02:29.968 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 13:02:30.029 +03:00 [INF] Executed endpoint '/menu (/menu)'
2025-08-24 13:02:30.034 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/menu?table=1 - 200 null text/html; charset=utf-8 227.9326ms
2025-08-24 13:02:30.089 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/_framework/blazor.web.js - null null
2025-08-24 13:02:30.092 +03:00 [INF] Executing endpoint 'Blazor web static files'
2025-08-24 13:02:30.096 +03:00 [INF] The file /_framework/blazor.web.js was not modified
2025-08-24 13:02:30.096 +03:00 [INF] Executed endpoint 'Blazor web static files'
2025-08-24 13:02:30.097 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/_framework/blazor.web.js - 304 null text/javascript 8.5676ms
2025-08-24 13:02:30.281 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/_blazor/initializers - null null
2025-08-24 13:02:30.284 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 13:02:30.289 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 13:02:30.290 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/_blazor/initializers - 200 null application/json; charset=utf-8 8.6938ms
2025-08-24 13:02:30.295 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5010/_blazor/negotiate?negotiateVersion=1 - null 0
2025-08-24 13:02:30.297 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 13:02:30.301 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 13:02:30.302 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5010/_blazor/negotiate?negotiateVersion=1 - 200 316 application/json 6.9066ms
2025-08-24 13:02:30.305 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/_blazor?id=2PgNa6Q7JmsjuZKw3qM4XQ - null null
2025-08-24 13:02:30.306 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 13:02:30.412 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__tableNumber_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[TableNumber] = @__tableNumber_0
2025-08-24 13:02:30.416 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 13:02:30.420 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 13:02:30.833 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/favicon.png - null null
2025-08-24 13:02:30.835 +03:00 [INF] The file /favicon.png was not modified
2025-08-24 13:02:30.835 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/favicon.png - 304 null image/png 2.4196ms
2025-08-24 13:03:57.760 +03:00 [INF] Application is shutting down...
2025-08-24 13:03:57.760 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 13:03:57.761 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/_blazor?id=2PgNa6Q7JmsjuZKw3qM4XQ - 101 null null 87456.4668ms
2025-08-24 13:04:47.323 +03:00 [INF] User profile is available. Using 'C:\Users\fatih\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-24 13:04:47.971 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-24 13:04:48.009 +03:00 [INF] Executed DbCommand (30ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-08-24 13:04:48.197 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-08-24 13:04:48.260 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 13:04:48.280 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 13:04:48.282 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 13:04:48.284 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 13:04:48.285 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 13:04:48.287 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 13:04:48.289 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 13:04:48.377 +03:00 [INF] Now listening on: http://localhost:5010
2025-08-24 13:04:48.379 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-24 13:04:48.380 +03:00 [INF] Hosting environment: Development
2025-08-24 13:04:48.381 +03:00 [INF] Content root path: C:\Users\fatih\Desktop\AI\Restorant
2025-08-24 13:04:48.590 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5010/_blazor/negotiate?negotiateVersion=1 - null 0
2025-08-24 13:04:48.594 +03:00 [WRN] Failed to determine the https port for redirect.
2025-08-24 13:04:48.613 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 13:04:48.621 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 13:04:48.623 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5010/_blazor/negotiate?negotiateVersion=1 - 200 316 application/json 33.3673ms
2025-08-24 13:04:48.625 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/_blazor?id=OkU_pmC5TV3devULfA1YHg - null null
2025-08-24 13:04:48.627 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 13:05:05.907 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/menu?table=1 - null null
2025-08-24 13:05:05.910 +03:00 [INF] Executing endpoint '/menu (/menu)'
2025-08-24 13:05:05.956 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__tableNumber_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[TableNumber] = @__tableNumber_0
2025-08-24 13:05:06.023 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 13:05:06.047 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 13:05:06.106 +03:00 [INF] Executed endpoint '/menu (/menu)'
2025-08-24 13:05:06.109 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 13:05:06.110 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/_blazor?id=OkU_pmC5TV3devULfA1YHg - 101 null null 17485.3253ms
2025-08-24 13:05:06.110 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/menu?table=1 - 200 null text/html; charset=utf-8 203.0821ms
2025-08-24 13:05:06.113 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/_framework/blazor.web.js - null null
2025-08-24 13:05:06.115 +03:00 [INF] Executing endpoint 'Blazor web static files'
2025-08-24 13:05:06.118 +03:00 [INF] The file /_framework/blazor.web.js was not modified
2025-08-24 13:05:06.118 +03:00 [INF] Executed endpoint 'Blazor web static files'
2025-08-24 13:05:06.119 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/_framework/blazor.web.js - 304 null text/javascript 6.1585ms
2025-08-24 13:05:06.170 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/_blazor/initializers - null null
2025-08-24 13:05:06.172 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 13:05:06.176 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 13:05:06.176 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/_blazor/initializers - 200 null application/json; charset=utf-8 6.3198ms
2025-08-24 13:05:06.179 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5010/_blazor/negotiate?negotiateVersion=1 - null 0
2025-08-24 13:05:06.180 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 13:05:06.181 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 13:05:06.181 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5010/_blazor/negotiate?negotiateVersion=1 - 200 316 application/json 2.7619ms
2025-08-24 13:05:06.183 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/_blazor?id=7mfHT10uM-I6PouJef4aqQ - null null
2025-08-24 13:05:06.184 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 13:05:06.271 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__tableNumber_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[TableNumber] = @__tableNumber_0
2025-08-24 13:05:06.274 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 13:05:06.279 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 13:06:14.085 +03:00 [INF] Application is shutting down...
2025-08-24 13:06:14.085 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 13:06:14.086 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/_blazor?id=7mfHT10uM-I6PouJef4aqQ - 101 null null 67903.479ms
2025-08-24 13:07:49.123 +03:00 [INF] User profile is available. Using 'C:\Users\fatih\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-24 13:07:49.823 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-24 13:07:49.861 +03:00 [INF] Executed DbCommand (31ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-08-24 13:07:50.060 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-08-24 13:07:50.125 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 13:07:50.148 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 13:07:50.151 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 13:07:50.153 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 13:07:50.156 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 13:07:50.158 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 13:07:50.159 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 13:07:50.244 +03:00 [INF] Now listening on: http://localhost:5010
2025-08-24 13:07:50.247 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-24 13:07:50.248 +03:00 [INF] Hosting environment: Development
2025-08-24 13:07:50.248 +03:00 [INF] Content root path: C:\Users\fatih\Desktop\AI\Restorant
2025-08-24 13:07:50.343 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5010/_blazor/negotiate?negotiateVersion=1 - null 0
2025-08-24 13:07:50.347 +03:00 [WRN] Failed to determine the https port for redirect.
2025-08-24 13:07:50.367 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 13:07:50.374 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 13:07:50.376 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5010/_blazor/negotiate?negotiateVersion=1 - 200 316 application/json 33.3037ms
2025-08-24 13:07:50.379 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/_blazor?id=AxMb-FbdqABlr5HH-wscLw - null null
2025-08-24 13:07:50.381 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 13:08:12.175 +03:00 [INF] Application is shutting down...
2025-08-24 13:08:12.175 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 13:08:12.177 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/_blazor?id=AxMb-FbdqABlr5HH-wscLw - 101 null null 21798.3959ms
2025-08-24 13:09:19.569 +03:00 [INF] User profile is available. Using 'C:\Users\fatih\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-24 13:09:20.234 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-24 13:09:20.281 +03:00 [INF] Executed DbCommand (40ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-08-24 13:09:20.470 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-08-24 13:09:20.531 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 13:09:20.554 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 13:09:20.556 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 13:09:20.557 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 13:09:20.559 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 13:09:20.561 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 13:09:20.562 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 13:09:20.649 +03:00 [INF] Now listening on: http://localhost:5010
2025-08-24 13:09:20.652 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-24 13:09:20.653 +03:00 [INF] Hosting environment: Development
2025-08-24 13:09:20.653 +03:00 [INF] Content root path: C:\Users\fatih\Desktop\AI\Restorant
2025-08-24 13:09:32.393 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/ - null null
2025-08-24 13:09:32.399 +03:00 [WRN] Failed to determine the https port for redirect.
2025-08-24 13:09:32.419 +03:00 [INF] Executing endpoint '/ (/)'
2025-08-24 13:09:32.482 +03:00 [INF] Executed endpoint '/ (/)'
2025-08-24 13:09:32.485 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/ - 200 null text/html; charset=utf-8 92.3392ms
2025-08-24 13:09:32.495 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/_framework/blazor.web.js - null null
2025-08-24 13:09:32.515 +03:00 [INF] Executing endpoint 'Blazor web static files'
2025-08-24 13:09:32.518 +03:00 [INF] The file /_framework/blazor.web.js was not modified
2025-08-24 13:09:32.521 +03:00 [INF] Executed endpoint 'Blazor web static files'
2025-08-24 13:09:32.522 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/_framework/blazor.web.js - 304 null text/javascript 26.2672ms
2025-08-24 13:09:34.645 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/menu?table=1&category=Ana%20Yemekler - null null
2025-08-24 13:09:34.648 +03:00 [INF] Executing endpoint '/menu (/menu)'
2025-08-24 13:09:34.671 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__tableNumber_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[TableNumber] = @__tableNumber_0
2025-08-24 13:09:34.737 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 13:09:34.763 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 13:09:34.791 +03:00 [INF] Executed endpoint '/menu (/menu)'
2025-08-24 13:09:34.794 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/menu?table=1&category=Ana%20Yemekler - 200 null text/html; charset=utf-8 149.3196ms
2025-08-24 13:09:34.806 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/_blazor/initializers - null null
2025-08-24 13:09:34.807 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 13:09:34.811 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 13:09:34.812 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/_blazor/initializers - 200 null application/json; charset=utf-8 6.4612ms
2025-08-24 13:09:34.826 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5010/_blazor/negotiate?negotiateVersion=1 - null 0
2025-08-24 13:09:34.828 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 13:09:34.832 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 13:09:34.834 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5010/_blazor/negotiate?negotiateVersion=1 - 200 316 application/json 7.7931ms
2025-08-24 13:09:34.836 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/_blazor?id=viLxQCMNm71GEjMzaS4UEg - null null
2025-08-24 13:09:34.838 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 13:09:34.944 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__tableNumber_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[TableNumber] = @__tableNumber_0
2025-08-24 13:09:34.947 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 13:09:34.951 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 13:09:47.813 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 13:09:47.814 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/menu?table=1&category=Ba%C5%9Flang%C4%B1%C3%A7lar - null null
2025-08-24 13:09:47.817 +03:00 [INF] Executing endpoint '/menu (/menu)'
2025-08-24 13:09:47.825 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__tableNumber_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[TableNumber] = @__tableNumber_0
2025-08-24 13:09:47.830 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 13:09:47.833 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 13:09:47.837 +03:00 [INF] Executed endpoint '/menu (/menu)'
2025-08-24 13:09:47.838 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/menu?table=1&category=Ba%C5%9Flang%C4%B1%C3%A7lar - 200 null text/html; charset=utf-8 23.5213ms
2025-08-24 13:09:51.375 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 13:09:51.379 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/admin - null null
2025-08-24 13:09:51.385 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-24 13:09:51.390 +03:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2025-08-24 13:09:51.391 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/admin - 302 0 null 11.6218ms
2025-08-24 13:09:51.407 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 13:09:51.408 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/admin - null null
2025-08-24 13:09:51.412 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-24 13:09:51.413 +03:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2025-08-24 13:09:51.414 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/admin - 302 0 null 5.6429ms
2025-08-24 13:09:51.422 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/Identity/Account/Login?ReturnUrl=%2Fadmin - null null
2025-08-24 13:09:51.426 +03:00 [INF] Executing endpoint '/Account/Login'
2025-08-24 13:09:51.455 +03:00 [INF] Route matched with {page = "/Account/Login", area = "Identity"}. Executing page /Account/Login
2025-08-24 13:09:51.471 +03:00 [INF] Executing handler method Microsoft.AspNetCore.Identity.UI.V5.Pages.Account.Internal.LoginModel.OnGetAsync - ModelState is "Valid"
2025-08-24 13:09:51.476 +03:00 [INF] AuthenticationScheme: Identity.External signed out.
2025-08-24 13:09:51.479 +03:00 [INF] Executed handler method OnGetAsync, returned result .
2025-08-24 13:09:51.481 +03:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2025-08-24 13:09:51.482 +03:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2025-08-24 13:09:51.592 +03:00 [INF] Executed page /Account/Login in 132.4497ms
2025-08-24 13:09:51.593 +03:00 [INF] Executed endpoint '/Account/Login'
2025-08-24 13:09:51.595 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/Identity/Account/Login?ReturnUrl=%2Fadmin - 200 null text/html; charset=utf-8 172.7083ms
2025-08-24 13:09:51.601 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/admin - null null
2025-08-24 13:09:51.605 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-24 13:09:51.606 +03:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2025-08-24 13:09:51.607 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/admin - 302 0 null 6.186ms
2025-08-24 13:09:51.610 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/Identity/Account/Login?ReturnUrl=%2Fadmin - null null
2025-08-24 13:09:51.614 +03:00 [INF] Executing endpoint '/Account/Login'
2025-08-24 13:09:51.615 +03:00 [INF] Route matched with {page = "/Account/Login", area = "Identity"}. Executing page /Account/Login
2025-08-24 13:09:51.627 +03:00 [INF] Executing handler method Microsoft.AspNetCore.Identity.UI.V5.Pages.Account.Internal.LoginModel.OnGetAsync - ModelState is "Valid"
2025-08-24 13:09:51.628 +03:00 [INF] AuthenticationScheme: Identity.External signed out.
2025-08-24 13:09:51.629 +03:00 [INF] Executed handler method OnGetAsync, returned result .
2025-08-24 13:09:51.630 +03:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2025-08-24 13:09:51.631 +03:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2025-08-24 13:09:51.637 +03:00 [INF] Executed page /Account/Login in 20.7996ms
2025-08-24 13:09:51.638 +03:00 [INF] Executed endpoint '/Account/Login'
2025-08-24 13:09:51.639 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/Identity/Account/Login?ReturnUrl=%2Fadmin - 200 null text/html; charset=utf-8 29.3965ms
2025-08-24 13:09:51.648 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 13:09:51.649 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/_blazor?id=viLxQCMNm71GEjMzaS4UEg - 101 null null 16813.0931ms
2025-08-24 13:09:51.695 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/favicon.ico - null null
2025-08-24 13:09:51.698 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/favicon.ico - 404 0 null 2.4802ms
2025-08-24 13:09:51.701 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5010/favicon.ico, Response status code: 404
2025-08-24 13:10:36.834 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5010/Identity/Account/Login?ReturnUrl=%2Fadmin - application/x-www-form-urlencoded 267
2025-08-24 13:10:36.836 +03:00 [INF] Executing endpoint '/Account/Login'
2025-08-24 13:10:36.837 +03:00 [INF] Route matched with {page = "/Account/Login", area = "Identity"}. Executing page /Account/Login
2025-08-24 13:10:36.848 +03:00 [INF] Executing handler method Microsoft.AspNetCore.Identity.UI.V5.Pages.Account.Internal.LoginModel.OnPostAsync - ModelState is "Valid"
2025-08-24 13:10:36.870 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-08-24 13:10:36.953 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-08-24 13:10:36.957 +03:00 [INF] AuthenticationScheme: Identity.Application signed in.
2025-08-24 13:10:36.960 +03:00 [INF] User logged in.
2025-08-24 13:10:36.961 +03:00 [INF] Executed handler method OnPostAsync, returned result Microsoft.AspNetCore.Mvc.LocalRedirectResult.
2025-08-24 13:10:36.963 +03:00 [INF] Executing LocalRedirectResult, redirecting to /admin.
2025-08-24 13:10:36.964 +03:00 [INF] Executed page /Account/Login in 126.4907ms
2025-08-24 13:10:36.965 +03:00 [INF] Executed endpoint '/Account/Login'
2025-08-24 13:10:36.966 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5010/Identity/Account/Login?ReturnUrl=%2Fadmin - 302 0 null 132.3105ms
2025-08-24 13:10:36.968 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/admin - null null
2025-08-24 13:10:36.974 +03:00 [INF] Executing endpoint '/admin (/admin)'
2025-08-24 13:10:37.016 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice], [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber], [m].[Id], [m].[CreatedAt], [m].[Description], [m].[ImageData], [m].[ImageUrl], [m].[IsAvailable], [m].[MenuId], [m].[Name], [m].[Price], [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[IsActive], [m0].[Name]
FROM [Orders] AS [o]
INNER JOIN [Tables] AS [t] ON [o].[TableId] = [t].[Id]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[Id]
INNER JOIN [Menus] AS [m0] ON [m].[MenuId] = [m0].[Id]
WHERE [o].[Status] IN (0, 1, 2)
ORDER BY [o].[OrderDate]
2025-08-24 13:10:37.039 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__startDate_0='?' (DbType = DateTime2), @__endDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalPrice]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[Status] = 4 AND [o].[OrderDate] >= @__startDate_0 AND [o].[OrderDate] <= @__endDate_1
2025-08-24 13:10:37.051 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[IsActive] = CAST(1 AS bit)
ORDER BY [t].[TableNumber]
2025-08-24 13:10:37.058 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 13:10:37.061 +03:00 [INF] Executed endpoint '/admin (/admin)'
2025-08-24 13:10:37.062 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/admin - 200 null text/html; charset=utf-8 93.8089ms
2025-08-24 13:10:37.076 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/_framework/blazor.web.js - null null
2025-08-24 13:10:37.079 +03:00 [INF] Executing endpoint 'Blazor web static files'
2025-08-24 13:10:37.080 +03:00 [INF] The file /_framework/blazor.web.js was not modified
2025-08-24 13:10:37.081 +03:00 [INF] Executed endpoint 'Blazor web static files'
2025-08-24 13:10:37.082 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/_framework/blazor.web.js - 304 null text/javascript 5.7469ms
2025-08-24 13:10:37.215 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/_blazor/initializers - null null
2025-08-24 13:10:37.218 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 13:10:37.219 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 13:10:37.220 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/_blazor/initializers - 200 null application/json; charset=utf-8 4.8694ms
2025-08-24 13:10:37.224 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5010/_blazor/negotiate?negotiateVersion=1 - null 0
2025-08-24 13:10:37.226 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 13:10:37.227 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 13:10:37.228 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5010/_blazor/negotiate?negotiateVersion=1 - 200 316 application/json 4.1967ms
2025-08-24 13:10:37.230 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/_blazor?id=N_pKlA7rJE_N7z13TUsxbw - null null
2025-08-24 13:10:37.233 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 13:10:37.243 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice], [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber], [m].[Id], [m].[CreatedAt], [m].[Description], [m].[ImageData], [m].[ImageUrl], [m].[IsAvailable], [m].[MenuId], [m].[Name], [m].[Price], [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[IsActive], [m0].[Name]
FROM [Orders] AS [o]
INNER JOIN [Tables] AS [t] ON [o].[TableId] = [t].[Id]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[Id]
INNER JOIN [Menus] AS [m0] ON [m].[MenuId] = [m0].[Id]
WHERE [o].[Status] IN (0, 1, 2)
ORDER BY [o].[OrderDate]
2025-08-24 13:10:37.246 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__startDate_0='?' (DbType = DateTime2), @__endDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalPrice]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[Status] = 4 AND [o].[OrderDate] >= @__startDate_0 AND [o].[OrderDate] <= @__endDate_1
2025-08-24 13:10:37.249 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[IsActive] = CAST(1 AS bit)
ORDER BY [t].[TableNumber]
2025-08-24 13:10:37.252 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 13:10:38.959 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/admin/menus - null null
2025-08-24 13:10:38.962 +03:00 [INF] Executing endpoint '/admin/menus (/admin/menus)'
2025-08-24 13:10:38.981 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
FROM [Menus] AS [m]
LEFT JOIN [MenuItems] AS [m0] ON [m].[Id] = [m0].[MenuId]
ORDER BY [m].[Name], [m].[Id]
2025-08-24 13:10:38.989 +03:00 [INF] Executed endpoint '/admin/menus (/admin/menus)'
2025-08-24 13:10:38.990 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/admin/menus - 200 null text/html; charset=utf-8 30.99ms
2025-08-24 13:10:39.009 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
FROM [Menus] AS [m]
LEFT JOIN [MenuItems] AS [m0] ON [m].[Id] = [m0].[MenuId]
ORDER BY [m].[Name], [m].[Id]
2025-08-24 13:10:42.879 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/admin/menu-items/1 - null null
2025-08-24 13:10:42.883 +03:00 [INF] Executing endpoint '/admin/menu-items/{MenuId:int} (/admin/menu-items/{MenuId:int})'
2025-08-24 13:10:42.904 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name]
FROM [Menus] AS [m]
WHERE [m].[Id] = @__p_0
2025-08-24 13:10:42.913 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__menuId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[ImageData], [m].[ImageUrl], [m].[IsAvailable], [m].[MenuId], [m].[Name], [m].[Price]
FROM [MenuItems] AS [m]
WHERE [m].[MenuId] = @__menuId_0
ORDER BY [m].[Name]
2025-08-24 13:10:42.918 +03:00 [INF] Executed endpoint '/admin/menu-items/{MenuId:int} (/admin/menu-items/{MenuId:int})'
2025-08-24 13:10:42.919 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/admin/menu-items/1 - 200 null text/html; charset=utf-8 39.6111ms
2025-08-24 13:10:42.943 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__menuId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[ImageData], [m].[ImageUrl], [m].[IsAvailable], [m].[MenuId], [m].[Name], [m].[Price]
FROM [MenuItems] AS [m]
WHERE [m].[MenuId] = @__menuId_0
ORDER BY [m].[Name]
2025-08-24 13:10:47.987 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Orders] AS [o]
        WHERE [o].[MenuItemId] = @__id_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-24 13:10:52.179 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Orders] AS [o]
        WHERE [o].[MenuItemId] = @__id_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-24 13:10:53.868 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Orders] AS [o]
        WHERE [o].[MenuItemId] = @__id_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-24 13:11:00.198 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/menu?table=1&category=Ba%C5%9Flang%C4%B1%C3%A7lar - null null
2025-08-24 13:11:00.200 +03:00 [INF] Executing endpoint '/menu (/menu)'
2025-08-24 13:11:00.204 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__tableNumber_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[TableNumber] = @__tableNumber_0
2025-08-24 13:11:00.206 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 13:11:00.210 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 13:11:00.213 +03:00 [INF] Executed endpoint '/menu (/menu)'
2025-08-24 13:11:00.214 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/menu?table=1&category=Ba%C5%9Flang%C4%B1%C3%A7lar - 200 null text/html; charset=utf-8 15.7478ms
2025-08-24 13:11:00.229 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__tableNumber_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[TableNumber] = @__tableNumber_0
2025-08-24 13:11:00.232 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 13:11:00.235 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 13:11:02.587 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 13:11:02.591 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/admin/tables - null null
2025-08-24 13:11:02.594 +03:00 [INF] Executing endpoint '/admin/tables (/admin/tables)'
2025-08-24 13:11:02.602 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
ORDER BY [t].[TableNumber]
2025-08-24 13:11:02.605 +03:00 [INF] Executed endpoint '/admin/tables (/admin/tables)'
2025-08-24 13:11:02.606 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/admin/tables - 200 null text/html; charset=utf-8 14.7425ms
2025-08-24 13:11:02.621 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
ORDER BY [t].[TableNumber]
2025-08-24 13:11:03.126 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/admin - null null
2025-08-24 13:11:03.128 +03:00 [INF] Executing endpoint '/admin (/admin)'
2025-08-24 13:11:03.130 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice], [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber], [m].[Id], [m].[CreatedAt], [m].[Description], [m].[ImageData], [m].[ImageUrl], [m].[IsAvailable], [m].[MenuId], [m].[Name], [m].[Price], [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[IsActive], [m0].[Name]
FROM [Orders] AS [o]
INNER JOIN [Tables] AS [t] ON [o].[TableId] = [t].[Id]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[Id]
INNER JOIN [Menus] AS [m0] ON [m].[MenuId] = [m0].[Id]
WHERE [o].[Status] IN (0, 1, 2)
ORDER BY [o].[OrderDate]
2025-08-24 13:11:03.133 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__startDate_0='?' (DbType = DateTime2), @__endDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalPrice]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[Status] = 4 AND [o].[OrderDate] >= @__startDate_0 AND [o].[OrderDate] <= @__endDate_1
2025-08-24 13:11:03.136 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[IsActive] = CAST(1 AS bit)
ORDER BY [t].[TableNumber]
2025-08-24 13:11:03.139 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 13:11:03.141 +03:00 [INF] Executed endpoint '/admin (/admin)'
2025-08-24 13:11:03.142 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/admin - 200 null text/html; charset=utf-8 16.8295ms
2025-08-24 13:11:03.152 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice], [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber], [m].[Id], [m].[CreatedAt], [m].[Description], [m].[ImageData], [m].[ImageUrl], [m].[IsAvailable], [m].[MenuId], [m].[Name], [m].[Price], [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[IsActive], [m0].[Name]
FROM [Orders] AS [o]
INNER JOIN [Tables] AS [t] ON [o].[TableId] = [t].[Id]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[Id]
INNER JOIN [Menus] AS [m0] ON [m].[MenuId] = [m0].[Id]
WHERE [o].[Status] IN (0, 1, 2)
ORDER BY [o].[OrderDate]
2025-08-24 13:11:03.155 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__startDate_0='?' (DbType = DateTime2), @__endDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalPrice]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[Status] = 4 AND [o].[OrderDate] >= @__startDate_0 AND [o].[OrderDate] <= @__endDate_1
2025-08-24 13:11:03.158 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[IsActive] = CAST(1 AS bit)
ORDER BY [t].[TableNumber]
2025-08-24 13:11:03.160 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 13:11:04.556 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/admin/menus - null null
2025-08-24 13:11:04.558 +03:00 [INF] Executing endpoint '/admin/menus (/admin/menus)'
2025-08-24 13:11:04.561 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
FROM [Menus] AS [m]
LEFT JOIN [MenuItems] AS [m0] ON [m].[Id] = [m0].[MenuId]
ORDER BY [m].[Name], [m].[Id]
2025-08-24 13:11:04.564 +03:00 [INF] Executed endpoint '/admin/menus (/admin/menus)'
2025-08-24 13:11:04.565 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/admin/menus - 200 null text/html; charset=utf-8 9.291ms
2025-08-24 13:11:04.589 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
FROM [Menus] AS [m]
LEFT JOIN [MenuItems] AS [m0] ON [m].[Id] = [m0].[MenuId]
ORDER BY [m].[Name], [m].[Id]
2025-08-24 13:11:13.336 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/admin/menu-items/2 - null null
2025-08-24 13:11:13.340 +03:00 [INF] Executing endpoint '/admin/menu-items/{MenuId:int} (/admin/menu-items/{MenuId:int})'
2025-08-24 13:11:13.342 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name]
FROM [Menus] AS [m]
WHERE [m].[Id] = @__p_0
2025-08-24 13:11:13.346 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__menuId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[ImageData], [m].[ImageUrl], [m].[IsAvailable], [m].[MenuId], [m].[Name], [m].[Price]
FROM [MenuItems] AS [m]
WHERE [m].[MenuId] = @__menuId_0
ORDER BY [m].[Name]
2025-08-24 13:11:13.349 +03:00 [INF] Executed endpoint '/admin/menu-items/{MenuId:int} (/admin/menu-items/{MenuId:int})'
2025-08-24 13:11:13.350 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/admin/menu-items/2 - 200 null text/html; charset=utf-8 13.4543ms
2025-08-24 13:11:13.364 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__menuId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[ImageData], [m].[ImageUrl], [m].[IsAvailable], [m].[MenuId], [m].[Name], [m].[Price]
FROM [MenuItems] AS [m]
WHERE [m].[MenuId] = @__menuId_0
ORDER BY [m].[Name]
2025-08-24 13:11:16.205 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Orders] AS [o]
        WHERE [o].[MenuItemId] = @__id_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-24 13:11:16.262 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [MenuItems]
OUTPUT 1
WHERE [Id] = @p0;
2025-08-24 13:11:16.275 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__menuId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[ImageData], [m].[ImageUrl], [m].[IsAvailable], [m].[MenuId], [m].[Name], [m].[Price]
FROM [MenuItems] AS [m]
WHERE [m].[MenuId] = @__menuId_0
ORDER BY [m].[Name]
2025-08-24 13:11:18.146 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Orders] AS [o]
        WHERE [o].[MenuItemId] = @__id_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-24 13:11:18.152 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [MenuItems]
OUTPUT 1
WHERE [Id] = @p0;
2025-08-24 13:11:18.155 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__menuId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[ImageData], [m].[ImageUrl], [m].[IsAvailable], [m].[MenuId], [m].[Name], [m].[Price]
FROM [MenuItems] AS [m]
WHERE [m].[MenuId] = @__menuId_0
ORDER BY [m].[Name]
2025-08-24 13:11:20.090 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Orders] AS [o]
        WHERE [o].[MenuItemId] = @__id_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-24 13:11:22.219 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Orders] AS [o]
        WHERE [o].[MenuItemId] = @__id_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-24 13:11:27.809 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/admin/menus - null null
2025-08-24 13:11:27.811 +03:00 [INF] Executing endpoint '/admin/menus (/admin/menus)'
2025-08-24 13:11:27.817 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
FROM [Menus] AS [m]
LEFT JOIN [MenuItems] AS [m0] ON [m].[Id] = [m0].[MenuId]
ORDER BY [m].[Name], [m].[Id]
2025-08-24 13:11:27.819 +03:00 [INF] Executed endpoint '/admin/menus (/admin/menus)'
2025-08-24 13:11:27.820 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/admin/menus - 200 null text/html; charset=utf-8 11.7731ms
2025-08-24 13:11:27.835 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
FROM [Menus] AS [m]
LEFT JOIN [MenuItems] AS [m0] ON [m].[Id] = [m0].[MenuId]
ORDER BY [m].[Name], [m].[Id]
2025-08-24 13:11:29.752 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/admin/menu-items/3 - null null
2025-08-24 13:11:29.754 +03:00 [INF] Executing endpoint '/admin/menu-items/{MenuId:int} (/admin/menu-items/{MenuId:int})'
2025-08-24 13:11:29.758 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name]
FROM [Menus] AS [m]
WHERE [m].[Id] = @__p_0
2025-08-24 13:11:29.761 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__menuId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[ImageData], [m].[ImageUrl], [m].[IsAvailable], [m].[MenuId], [m].[Name], [m].[Price]
FROM [MenuItems] AS [m]
WHERE [m].[MenuId] = @__menuId_0
ORDER BY [m].[Name]
2025-08-24 13:11:29.763 +03:00 [INF] Executed endpoint '/admin/menu-items/{MenuId:int} (/admin/menu-items/{MenuId:int})'
2025-08-24 13:11:29.764 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/admin/menu-items/3 - 200 null text/html; charset=utf-8 12.6098ms
2025-08-24 13:11:29.780 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__menuId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[ImageData], [m].[ImageUrl], [m].[IsAvailable], [m].[MenuId], [m].[Name], [m].[Price]
FROM [MenuItems] AS [m]
WHERE [m].[MenuId] = @__menuId_0
ORDER BY [m].[Name]
2025-08-24 13:11:32.526 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Orders] AS [o]
        WHERE [o].[MenuItemId] = @__id_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-24 13:11:32.533 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [MenuItems]
OUTPUT 1
WHERE [Id] = @p0;
2025-08-24 13:11:32.538 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__menuId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[ImageData], [m].[ImageUrl], [m].[IsAvailable], [m].[MenuId], [m].[Name], [m].[Price]
FROM [MenuItems] AS [m]
WHERE [m].[MenuId] = @__menuId_0
ORDER BY [m].[Name]
2025-08-24 13:11:34.141 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Orders] AS [o]
        WHERE [o].[MenuItemId] = @__id_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-24 13:11:35.783 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Orders] AS [o]
        WHERE [o].[MenuItemId] = @__id_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-24 13:11:38.001 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/admin/menus - null null
2025-08-24 13:11:38.003 +03:00 [INF] Executing endpoint '/admin/menus (/admin/menus)'
2025-08-24 13:11:38.007 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
FROM [Menus] AS [m]
LEFT JOIN [MenuItems] AS [m0] ON [m].[Id] = [m0].[MenuId]
ORDER BY [m].[Name], [m].[Id]
2025-08-24 13:11:38.010 +03:00 [INF] Executed endpoint '/admin/menus (/admin/menus)'
2025-08-24 13:11:38.011 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/admin/menus - 200 null text/html; charset=utf-8 10.6382ms
2025-08-24 13:11:38.026 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
FROM [Menus] AS [m]
LEFT JOIN [MenuItems] AS [m0] ON [m].[Id] = [m0].[MenuId]
ORDER BY [m].[Name], [m].[Id]
2025-08-24 13:11:39.377 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/admin/menu-items/4 - null null
2025-08-24 13:11:39.379 +03:00 [INF] Executing endpoint '/admin/menu-items/{MenuId:int} (/admin/menu-items/{MenuId:int})'
2025-08-24 13:11:39.382 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name]
FROM [Menus] AS [m]
WHERE [m].[Id] = @__p_0
2025-08-24 13:11:39.386 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__menuId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[ImageData], [m].[ImageUrl], [m].[IsAvailable], [m].[MenuId], [m].[Name], [m].[Price]
FROM [MenuItems] AS [m]
WHERE [m].[MenuId] = @__menuId_0
ORDER BY [m].[Name]
2025-08-24 13:11:39.389 +03:00 [INF] Executed endpoint '/admin/menu-items/{MenuId:int} (/admin/menu-items/{MenuId:int})'
2025-08-24 13:11:39.389 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/admin/menu-items/4 - 200 null text/html; charset=utf-8 12.6383ms
2025-08-24 13:11:39.403 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__menuId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[ImageData], [m].[ImageUrl], [m].[IsAvailable], [m].[MenuId], [m].[Name], [m].[Price]
FROM [MenuItems] AS [m]
WHERE [m].[MenuId] = @__menuId_0
ORDER BY [m].[Name]
2025-08-24 13:11:42.713 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Orders] AS [o]
        WHERE [o].[MenuItemId] = @__id_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-24 13:11:42.717 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [MenuItems]
OUTPUT 1
WHERE [Id] = @p0;
2025-08-24 13:11:42.720 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__menuId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[ImageData], [m].[ImageUrl], [m].[IsAvailable], [m].[MenuId], [m].[Name], [m].[Price]
FROM [MenuItems] AS [m]
WHERE [m].[MenuId] = @__menuId_0
ORDER BY [m].[Name]
2025-08-24 13:11:44.633 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Orders] AS [o]
        WHERE [o].[MenuItemId] = @__id_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-24 13:11:44.636 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [MenuItems]
OUTPUT 1
WHERE [Id] = @p0;
2025-08-24 13:11:44.638 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__menuId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[ImageData], [m].[ImageUrl], [m].[IsAvailable], [m].[MenuId], [m].[Name], [m].[Price]
FROM [MenuItems] AS [m]
WHERE [m].[MenuId] = @__menuId_0
ORDER BY [m].[Name]
2025-08-24 13:11:46.825 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Orders] AS [o]
        WHERE [o].[MenuItemId] = @__id_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-24 13:11:48.370 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/admin/menus - null null
2025-08-24 13:11:48.374 +03:00 [INF] Executing endpoint '/admin/menus (/admin/menus)'
2025-08-24 13:11:48.377 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
FROM [Menus] AS [m]
LEFT JOIN [MenuItems] AS [m0] ON [m].[Id] = [m0].[MenuId]
ORDER BY [m].[Name], [m].[Id]
2025-08-24 13:11:48.380 +03:00 [INF] Executed endpoint '/admin/menus (/admin/menus)'
2025-08-24 13:11:48.381 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/admin/menus - 200 null text/html; charset=utf-8 11.1514ms
2025-08-24 13:11:48.396 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
FROM [Menus] AS [m]
LEFT JOIN [MenuItems] AS [m0] ON [m].[Id] = [m0].[MenuId]
ORDER BY [m].[Name], [m].[Id]
2025-08-24 13:11:50.340 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/admin/menu-items/1 - null null
2025-08-24 13:11:50.342 +03:00 [INF] Executing endpoint '/admin/menu-items/{MenuId:int} (/admin/menu-items/{MenuId:int})'
2025-08-24 13:11:50.345 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name]
FROM [Menus] AS [m]
WHERE [m].[Id] = @__p_0
2025-08-24 13:11:50.347 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__menuId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[ImageData], [m].[ImageUrl], [m].[IsAvailable], [m].[MenuId], [m].[Name], [m].[Price]
FROM [MenuItems] AS [m]
WHERE [m].[MenuId] = @__menuId_0
ORDER BY [m].[Name]
2025-08-24 13:11:50.349 +03:00 [INF] Executed endpoint '/admin/menu-items/{MenuId:int} (/admin/menu-items/{MenuId:int})'
2025-08-24 13:11:50.350 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/admin/menu-items/1 - 200 null text/html; charset=utf-8 9.9157ms
2025-08-24 13:11:50.364 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__menuId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[ImageData], [m].[ImageUrl], [m].[IsAvailable], [m].[MenuId], [m].[Name], [m].[Price]
FROM [MenuItems] AS [m]
WHERE [m].[MenuId] = @__menuId_0
ORDER BY [m].[Name]
2025-08-24 13:11:52.477 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Orders] AS [o]
        WHERE [o].[MenuItemId] = @__id_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-24 13:11:54.217 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Orders] AS [o]
        WHERE [o].[MenuItemId] = @__id_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-24 13:11:55.993 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Orders] AS [o]
        WHERE [o].[MenuItemId] = @__id_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-24 13:13:23.585 +03:00 [INF] Application is shutting down...
2025-08-24 13:13:23.585 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 13:13:23.587 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/_blazor?id=N_pKlA7rJE_N7z13TUsxbw - 101 null null 166356.6603ms
2025-08-24 13:18:59.228 +03:00 [INF] User profile is available. Using 'C:\Users\fatih\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-24 13:18:59.869 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-24 13:18:59.889 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-08-24 13:19:00.078 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-08-24 13:19:00.138 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 13:19:00.169 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 13:19:00.172 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 13:19:00.174 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 13:19:00.176 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 13:19:00.177 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 13:19:00.178 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 13:19:00.243 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 500), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p7='?' (DbType = Int32), @p8='?' (Size = 500), @p9='?' (DbType = DateTime2), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p14='?' (DbType = Int32), @p15='?' (Size = 500), @p16='?' (DbType = DateTime2), @p17='?' (DbType = Int32), @p18='?' (DbType = Int32), @p19='?' (DbType = Int32), @p20='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p21='?' (DbType = Int32), @p22='?' (Size = 500), @p23='?' (DbType = DateTime2), @p24='?' (DbType = Int32), @p25='?' (DbType = Int32), @p26='?' (DbType = Int32), @p27='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p28='?' (DbType = Int32), @p29='?' (Size = 500), @p30='?' (DbType = DateTime2), @p31='?' (DbType = Int32), @p32='?' (DbType = Int32), @p33='?' (DbType = Int32), @p34='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p35='?' (DbType = Int32), @p36='?' (Size = 500), @p37='?' (DbType = DateTime2), @p38='?' (DbType = Int32), @p39='?' (DbType = Int32), @p40='?' (DbType = Int32), @p41='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p42='?' (DbType = Int32), @p43='?' (Size = 500), @p44='?' (DbType = DateTime2), @p45='?' (DbType = Int32), @p46='?' (DbType = Int32), @p47='?' (DbType = Int32), @p48='?' (Precision = 18) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [Orders] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, 0),
(@p7, @p8, @p9, @p10, @p11, @p12, @p13, 1),
(@p14, @p15, @p16, @p17, @p18, @p19, @p20, 2),
(@p21, @p22, @p23, @p24, @p25, @p26, @p27, 3),
(@p28, @p29, @p30, @p31, @p32, @p33, @p34, 4),
(@p35, @p36, @p37, @p38, @p39, @p40, @p41, 5),
(@p42, @p43, @p44, @p45, @p46, @p47, @p48, 6)) AS i ([MenuItemId], [Notes], [OrderDate], [Quantity], [Status], [TableId], [TotalPrice], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([MenuItemId], [Notes], [OrderDate], [Quantity], [Status], [TableId], [TotalPrice])
VALUES (i.[MenuItemId], i.[Notes], i.[OrderDate], i.[Quantity], i.[Status], i.[TableId], i.[TotalPrice])
OUTPUT INSERTED.[Id], i._Position;
2025-08-24 13:19:00.262 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'RestaurantOrdering.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The MERGE statement conflicted with the FOREIGN KEY constraint "FK_Orders_MenuItems_MenuItemId". The conflict occurred in database "RestaurantOrderingDb", table "dbo.MenuItems", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:f94de48c-dff7-4d32-8882-de01c794b6b9
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The MERGE statement conflicted with the FOREIGN KEY constraint "FK_Orders_MenuItems_MenuItemId". The conflict occurred in database "RestaurantOrderingDb", table "dbo.MenuItems", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:f94de48c-dff7-4d32-8882-de01c794b6b9
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-24 13:19:00.268 +03:00 [ERR] An error occurred creating the DB.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The MERGE statement conflicted with the FOREIGN KEY constraint "FK_Orders_MenuItems_MenuItemId". The conflict occurred in database "RestaurantOrderingDb", table "dbo.MenuItems", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:f94de48c-dff7-4d32-8882-de01c794b6b9
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at RestaurantOrdering.Services.TestOrderService.CreateTestOrdersAsync() in C:\Users\fatih\Desktop\AI\Restorant\Services\TestOrderService.cs:line 119
   at Program.<Main>$(String[] args) in C:\Users\fatih\Desktop\AI\Restorant\Program.cs:line 101
2025-08-24 13:19:00.353 +03:00 [INF] Now listening on: http://localhost:5010
2025-08-24 13:19:00.356 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-24 13:19:00.357 +03:00 [INF] Hosting environment: Development
2025-08-24 13:19:00.357 +03:00 [INF] Content root path: C:\Users\fatih\Desktop\AI\Restorant
2025-08-24 13:19:06.389 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/ - null null
2025-08-24 13:19:06.393 +03:00 [WRN] Failed to determine the https port for redirect.
2025-08-24 13:19:06.415 +03:00 [INF] Executing endpoint '/ (/)'
2025-08-24 13:19:06.471 +03:00 [INF] Executed endpoint '/ (/)'
2025-08-24 13:19:06.475 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/ - 200 null text/html; charset=utf-8 85.9296ms
2025-08-24 13:19:06.481 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/_framework/blazor.web.js - null null
2025-08-24 13:19:06.485 +03:00 [INF] Executing endpoint 'Blazor web static files'
2025-08-24 13:19:06.488 +03:00 [INF] The file /_framework/blazor.web.js was not modified
2025-08-24 13:19:06.489 +03:00 [INF] Executed endpoint 'Blazor web static files'
2025-08-24 13:19:06.490 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/_framework/blazor.web.js - 304 null text/javascript 9.3873ms
2025-08-24 13:19:11.288 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/menu?table=1&category=Ana%20Yemekler - null null
2025-08-24 13:19:11.298 +03:00 [INF] Executing endpoint '/menu (/menu)'
2025-08-24 13:19:11.320 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__tableNumber_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[TableNumber] = @__tableNumber_0
2025-08-24 13:19:11.386 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 13:19:11.398 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 13:19:11.427 +03:00 [INF] Executed endpoint '/menu (/menu)'
2025-08-24 13:19:11.430 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/menu?table=1&category=Ana%20Yemekler - 200 null text/html; charset=utf-8 141.6171ms
2025-08-24 13:19:11.439 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/_blazor/initializers - null null
2025-08-24 13:19:11.441 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 13:19:11.444 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 13:19:11.445 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/_blazor/initializers - 200 null application/json; charset=utf-8 6.3659ms
2025-08-24 13:19:11.453 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5010/_blazor/negotiate?negotiateVersion=1 - null 0
2025-08-24 13:19:11.456 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 13:19:11.461 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 13:19:11.462 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5010/_blazor/negotiate?negotiateVersion=1 - 200 316 application/json 8.4131ms
2025-08-24 13:19:11.464 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/_blazor?id=TPXKHiV3VGtxQVzWhpmyMA - null null
2025-08-24 13:19:11.465 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 13:19:11.568 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__tableNumber_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[TableNumber] = @__tableNumber_0
2025-08-24 13:19:11.572 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 13:19:11.576 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 13:19:13.183 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/menu?table=1&category=Ba%C5%9Flang%C4%B1%C3%A7lar - null null
2025-08-24 13:19:13.186 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 13:19:13.186 +03:00 [INF] Executing endpoint '/menu (/menu)'
2025-08-24 13:19:13.195 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__tableNumber_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[TableNumber] = @__tableNumber_0
2025-08-24 13:19:13.198 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 13:19:13.201 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 13:19:13.204 +03:00 [INF] Executed endpoint '/menu (/menu)'
2025-08-24 13:19:13.205 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/menu?table=1&category=Ba%C5%9Flang%C4%B1%C3%A7lar - 200 null text/html; charset=utf-8 21.7827ms
2025-08-24 13:19:13.695 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 13:19:13.699 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/menu?table=1&category=%C4%B0%C3%A7ecekler - null null
2025-08-24 13:19:13.701 +03:00 [INF] Executing endpoint '/menu (/menu)'
2025-08-24 13:19:13.705 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__tableNumber_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[TableNumber] = @__tableNumber_0
2025-08-24 13:19:13.707 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 13:19:13.710 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 13:19:13.713 +03:00 [INF] Executed endpoint '/menu (/menu)'
2025-08-24 13:19:13.714 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/menu?table=1&category=%C4%B0%C3%A7ecekler - 200 null text/html; charset=utf-8 15.2008ms
2025-08-24 13:19:14.327 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 13:19:14.331 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/menu?table=1&category=Tatl%C4%B1lar - null null
2025-08-24 13:19:14.334 +03:00 [INF] Executing endpoint '/menu (/menu)'
2025-08-24 13:19:14.337 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__tableNumber_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[TableNumber] = @__tableNumber_0
2025-08-24 13:19:14.339 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 13:19:14.342 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 13:19:14.345 +03:00 [INF] Executed endpoint '/menu (/menu)'
2025-08-24 13:19:14.346 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/menu?table=1&category=Tatl%C4%B1lar - 200 null text/html; charset=utf-8 14.7342ms
2025-08-24 13:19:15.212 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 13:19:15.215 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/menu?table=1&category=Ana%20Yemekler - null null
2025-08-24 13:19:15.218 +03:00 [INF] Executing endpoint '/menu (/menu)'
2025-08-24 13:19:15.221 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__tableNumber_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[TableNumber] = @__tableNumber_0
2025-08-24 13:19:15.223 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 13:19:15.226 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 13:19:15.228 +03:00 [INF] Executed endpoint '/menu (/menu)'
2025-08-24 13:19:15.229 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/menu?table=1&category=Ana%20Yemekler - 200 null text/html; charset=utf-8 13.9892ms
2025-08-24 13:19:19.935 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 13:19:19.939 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/admin - null null
2025-08-24 13:19:19.945 +03:00 [INF] Executing endpoint '/admin (/admin)'
2025-08-24 13:19:19.966 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 13:19:19.971 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/admin - null null
2025-08-24 13:19:19.975 +03:00 [INF] Executing endpoint '/admin (/admin)'
2025-08-24 13:19:19.988 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice], [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber], [m].[Id], [m].[CreatedAt], [m].[Description], [m].[ImageData], [m].[ImageUrl], [m].[IsAvailable], [m].[MenuId], [m].[Name], [m].[Price], [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[IsActive], [m0].[Name]
FROM [Orders] AS [o]
INNER JOIN [Tables] AS [t] ON [o].[TableId] = [t].[Id]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[Id]
INNER JOIN [Menus] AS [m0] ON [m].[MenuId] = [m0].[Id]
WHERE [o].[Status] IN (0, 1, 2)
ORDER BY [o].[OrderDate]
2025-08-24 13:19:19.989 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice], [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber], [m].[Id], [m].[CreatedAt], [m].[Description], [m].[ImageData], [m].[ImageUrl], [m].[IsAvailable], [m].[MenuId], [m].[Name], [m].[Price], [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[IsActive], [m0].[Name]
FROM [Orders] AS [o]
INNER JOIN [Tables] AS [t] ON [o].[TableId] = [t].[Id]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[Id]
INNER JOIN [Menus] AS [m0] ON [m].[MenuId] = [m0].[Id]
WHERE [o].[Status] IN (0, 1, 2)
ORDER BY [o].[OrderDate]
2025-08-24 13:19:20.006 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__startDate_0='?' (DbType = DateTime2), @__endDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalPrice]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[Status] = 4 AND [o].[OrderDate] >= @__startDate_0 AND [o].[OrderDate] <= @__endDate_1
2025-08-24 13:19:20.006 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__startDate_0='?' (DbType = DateTime2), @__endDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalPrice]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[Status] = 4 AND [o].[OrderDate] >= @__startDate_0 AND [o].[OrderDate] <= @__endDate_1
2025-08-24 13:19:20.016 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[IsActive] = CAST(1 AS bit)
ORDER BY [t].[TableNumber]
2025-08-24 13:19:20.016 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[IsActive] = CAST(1 AS bit)
ORDER BY [t].[TableNumber]
2025-08-24 13:19:20.020 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 13:19:20.022 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 13:19:20.024 +03:00 [INF] Executed endpoint '/admin (/admin)'
2025-08-24 13:19:20.025 +03:00 [INF] Executed endpoint '/admin (/admin)'
2025-08-24 13:19:20.025 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/admin - 200 null text/html; charset=utf-8 86.5142ms
2025-08-24 13:19:20.026 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/admin - 200 null text/html; charset=utf-8 55.0721ms
2025-08-24 13:19:20.039 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice], [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber], [m].[Id], [m].[CreatedAt], [m].[Description], [m].[ImageData], [m].[ImageUrl], [m].[IsAvailable], [m].[MenuId], [m].[Name], [m].[Price], [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[IsActive], [m0].[Name]
FROM [Orders] AS [o]
INNER JOIN [Tables] AS [t] ON [o].[TableId] = [t].[Id]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[Id]
INNER JOIN [Menus] AS [m0] ON [m].[MenuId] = [m0].[Id]
WHERE [o].[Status] IN (0, 1, 2)
ORDER BY [o].[OrderDate]
2025-08-24 13:19:20.042 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__startDate_0='?' (DbType = DateTime2), @__endDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalPrice]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[Status] = 4 AND [o].[OrderDate] >= @__startDate_0 AND [o].[OrderDate] <= @__endDate_1
2025-08-24 13:19:20.045 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[IsActive] = CAST(1 AS bit)
ORDER BY [t].[TableNumber]
2025-08-24 13:19:20.048 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 13:19:21.021 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/admin/menus - null null
2025-08-24 13:19:21.024 +03:00 [INF] Executing endpoint '/admin/menus (/admin/menus)'
2025-08-24 13:19:21.042 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
FROM [Menus] AS [m]
LEFT JOIN [MenuItems] AS [m0] ON [m].[Id] = [m0].[MenuId]
ORDER BY [m].[Name], [m].[Id]
2025-08-24 13:19:21.050 +03:00 [INF] Executed endpoint '/admin/menus (/admin/menus)'
2025-08-24 13:19:21.051 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/admin/menus - null null
2025-08-24 13:19:21.051 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/admin/menus - 200 null text/html; charset=utf-8 29.8462ms
2025-08-24 13:19:21.054 +03:00 [INF] Executing endpoint '/admin/menus (/admin/menus)'
2025-08-24 13:19:21.058 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
FROM [Menus] AS [m]
LEFT JOIN [MenuItems] AS [m0] ON [m].[Id] = [m0].[MenuId]
ORDER BY [m].[Name], [m].[Id]
2025-08-24 13:19:21.060 +03:00 [INF] Executed endpoint '/admin/menus (/admin/menus)'
2025-08-24 13:19:21.061 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/admin/menus - 200 null text/html; charset=utf-8 10.0269ms
2025-08-24 13:19:21.080 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
FROM [Menus] AS [m]
LEFT JOIN [MenuItems] AS [m0] ON [m].[Id] = [m0].[MenuId]
ORDER BY [m].[Name], [m].[Id]
2025-08-24 13:19:25.294 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/admin/menu-items/1 - null null
2025-08-24 13:19:25.297 +03:00 [INF] Executing endpoint '/admin/menu-items/{MenuId:int} (/admin/menu-items/{MenuId:int})'
2025-08-24 13:19:25.313 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name]
FROM [Menus] AS [m]
WHERE [m].[Id] = @__p_0
2025-08-24 13:19:25.322 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__menuId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[ImageData], [m].[ImageUrl], [m].[IsAvailable], [m].[MenuId], [m].[Name], [m].[Price]
FROM [MenuItems] AS [m]
WHERE [m].[MenuId] = @__menuId_0
ORDER BY [m].[Name]
2025-08-24 13:19:25.327 +03:00 [INF] Executed endpoint '/admin/menu-items/{MenuId:int} (/admin/menu-items/{MenuId:int})'
2025-08-24 13:19:25.328 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/admin/menu-items/1 - 200 null text/html; charset=utf-8 34.0008ms
2025-08-24 13:19:25.346 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__menuId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[ImageData], [m].[ImageUrl], [m].[IsAvailable], [m].[MenuId], [m].[Name], [m].[Price]
FROM [MenuItems] AS [m]
WHERE [m].[MenuId] = @__menuId_0
ORDER BY [m].[Name]
2025-08-24 13:19:54.220 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 500), @p2='?' (Size = -1), @p3='?' (Size = 4000), @p4='?' (DbType = Boolean), @p5='?' (DbType = Int32), @p6='?' (Size = 100), @p7='?' (Precision = 18) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [MenuItems] ([CreatedAt], [Description], [ImageData], [ImageUrl], [IsAvailable], [MenuId], [Name], [Price])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-08-24 13:19:54.234 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__menuId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[ImageData], [m].[ImageUrl], [m].[IsAvailable], [m].[MenuId], [m].[Name], [m].[Price]
FROM [MenuItems] AS [m]
WHERE [m].[MenuId] = @__menuId_0
ORDER BY [m].[Name]
2025-08-24 13:20:26.345 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 500), @p2='?' (Size = -1), @p3='?' (Size = 4000), @p4='?' (DbType = Boolean), @p5='?' (DbType = Int32), @p6='?' (Size = 100), @p7='?' (Precision = 18) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [MenuItems] ([CreatedAt], [Description], [ImageData], [ImageUrl], [IsAvailable], [MenuId], [Name], [Price])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-08-24 13:20:26.349 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__menuId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[ImageData], [m].[ImageUrl], [m].[IsAvailable], [m].[MenuId], [m].[Name], [m].[Price]
FROM [MenuItems] AS [m]
WHERE [m].[MenuId] = @__menuId_0
ORDER BY [m].[Name]
2025-08-24 13:20:29.094 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/menu?table=1&category=Ba%C5%9Flang%C4%B1%C3%A7lar - null null
2025-08-24 13:20:29.097 +03:00 [INF] Executing endpoint '/menu (/menu)'
2025-08-24 13:20:29.100 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__tableNumber_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[TableNumber] = @__tableNumber_0
2025-08-24 13:20:29.108 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 13:20:29.135 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 13:20:29.173 +03:00 [INF] Executed endpoint '/menu (/menu)'
2025-08-24 13:20:29.174 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/menu?table=1&category=Ba%C5%9Flang%C4%B1%C3%A7lar - 200 null text/html; charset=utf-8 80.3438ms
2025-08-24 13:20:29.189 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__tableNumber_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[TableNumber] = @__tableNumber_0
2025-08-24 13:20:29.191 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 13:20:29.231 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 13:20:31.824 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 13:20:31.832 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/admin - null null
2025-08-24 13:20:31.836 +03:00 [INF] Executing endpoint '/admin (/admin)'
2025-08-24 13:20:31.844 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice], [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber], [m].[Id], [m].[CreatedAt], [m].[Description], [m].[ImageData], [m].[ImageUrl], [m].[IsAvailable], [m].[MenuId], [m].[Name], [m].[Price], [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[IsActive], [m0].[Name]
FROM [Orders] AS [o]
INNER JOIN [Tables] AS [t] ON [o].[TableId] = [t].[Id]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[Id]
INNER JOIN [Menus] AS [m0] ON [m].[MenuId] = [m0].[Id]
WHERE [o].[Status] IN (0, 1, 2)
ORDER BY [o].[OrderDate]
2025-08-24 13:20:31.848 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__startDate_0='?' (DbType = DateTime2), @__endDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalPrice]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[Status] = 4 AND [o].[OrderDate] >= @__startDate_0 AND [o].[OrderDate] <= @__endDate_1
2025-08-24 13:20:31.851 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[IsActive] = CAST(1 AS bit)
ORDER BY [t].[TableNumber]
2025-08-24 13:20:31.856 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 13:20:31.857 +03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'RestaurantOrdering.Data.ApplicationDbContext'.
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-08-24 13:20:31.860 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/admin - null null
2025-08-24 13:20:31.863 +03:00 [INF] Executing endpoint '/admin (/admin)'
2025-08-24 13:20:31.868 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice], [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber], [m].[Id], [m].[CreatedAt], [m].[Description], [m].[ImageData], [m].[ImageUrl], [m].[IsAvailable], [m].[MenuId], [m].[Name], [m].[Price], [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[IsActive], [m0].[Name]
FROM [Orders] AS [o]
INNER JOIN [Tables] AS [t] ON [o].[TableId] = [t].[Id]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[Id]
INNER JOIN [Menus] AS [m0] ON [m].[MenuId] = [m0].[Id]
WHERE [o].[Status] IN (0, 1, 2)
ORDER BY [o].[OrderDate]
2025-08-24 13:20:31.870 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__startDate_0='?' (DbType = DateTime2), @__endDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalPrice]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[Status] = 4 AND [o].[OrderDate] >= @__startDate_0 AND [o].[OrderDate] <= @__endDate_1
2025-08-24 13:20:31.875 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[IsActive] = CAST(1 AS bit)
ORDER BY [t].[TableNumber]
2025-08-24 13:20:31.881 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 13:20:31.893 +03:00 [INF] Executed endpoint '/admin (/admin)'
2025-08-24 13:20:31.894 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/admin - 200 null text/html; charset=utf-8 62.5559ms
2025-08-24 13:20:31.903 +03:00 [INF] Executed endpoint '/admin (/admin)'
2025-08-24 13:20:31.904 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/admin - 200 null text/html; charset=utf-8 44.4096ms
2025-08-24 13:20:31.917 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice], [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber], [m].[Id], [m].[CreatedAt], [m].[Description], [m].[ImageData], [m].[ImageUrl], [m].[IsAvailable], [m].[MenuId], [m].[Name], [m].[Price], [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[IsActive], [m0].[Name]
FROM [Orders] AS [o]
INNER JOIN [Tables] AS [t] ON [o].[TableId] = [t].[Id]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[Id]
INNER JOIN [Menus] AS [m0] ON [m].[MenuId] = [m0].[Id]
WHERE [o].[Status] IN (0, 1, 2)
ORDER BY [o].[OrderDate]
2025-08-24 13:20:31.920 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__startDate_0='?' (DbType = DateTime2), @__endDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalPrice]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[Status] = 4 AND [o].[OrderDate] >= @__startDate_0 AND [o].[OrderDate] <= @__endDate_1
2025-08-24 13:20:31.922 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[IsActive] = CAST(1 AS bit)
ORDER BY [t].[TableNumber]
2025-08-24 13:20:31.925 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 13:20:33.255 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/admin/menus - null null
2025-08-24 13:20:33.257 +03:00 [INF] Executing endpoint '/admin/menus (/admin/menus)'
2025-08-24 13:20:33.261 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
FROM [Menus] AS [m]
LEFT JOIN [MenuItems] AS [m0] ON [m].[Id] = [m0].[MenuId]
ORDER BY [m].[Name], [m].[Id]
2025-08-24 13:20:33.295 +03:00 [INF] Executed endpoint '/admin/menus (/admin/menus)'
2025-08-24 13:20:33.297 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/admin/menus - 200 null text/html; charset=utf-8 41.9478ms
2025-08-24 13:20:33.310 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
FROM [Menus] AS [m]
LEFT JOIN [MenuItems] AS [m0] ON [m].[Id] = [m0].[MenuId]
ORDER BY [m].[Name], [m].[Id]
2025-08-24 13:20:35.398 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/admin/menu-items/2 - null null
2025-08-24 13:20:35.401 +03:00 [INF] Executing endpoint '/admin/menu-items/{MenuId:int} (/admin/menu-items/{MenuId:int})'
2025-08-24 13:20:35.405 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name]
FROM [Menus] AS [m]
WHERE [m].[Id] = @__p_0
2025-08-24 13:20:35.407 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__menuId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[ImageData], [m].[ImageUrl], [m].[IsAvailable], [m].[MenuId], [m].[Name], [m].[Price]
FROM [MenuItems] AS [m]
WHERE [m].[MenuId] = @__menuId_0
ORDER BY [m].[Name]
2025-08-24 13:20:35.410 +03:00 [INF] Executed endpoint '/admin/menu-items/{MenuId:int} (/admin/menu-items/{MenuId:int})'
2025-08-24 13:20:35.411 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/admin/menu-items/2 - 200 null text/html; charset=utf-8 12.6559ms
2025-08-24 13:20:35.425 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__menuId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[ImageData], [m].[ImageUrl], [m].[IsAvailable], [m].[MenuId], [m].[Name], [m].[Price]
FROM [MenuItems] AS [m]
WHERE [m].[MenuId] = @__menuId_0
ORDER BY [m].[Name]
2025-08-24 13:20:57.131 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 500), @p2='?' (Size = -1), @p3='?' (Size = 4000), @p4='?' (DbType = Boolean), @p5='?' (DbType = Int32), @p6='?' (Size = 100), @p7='?' (Precision = 18) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [MenuItems] ([CreatedAt], [Description], [ImageData], [ImageUrl], [IsAvailable], [MenuId], [Name], [Price])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-08-24 13:20:57.135 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__menuId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[ImageData], [m].[ImageUrl], [m].[IsAvailable], [m].[MenuId], [m].[Name], [m].[Price]
FROM [MenuItems] AS [m]
WHERE [m].[MenuId] = @__menuId_0
ORDER BY [m].[Name]
2025-08-24 13:21:29.544 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 500), @p2='?' (Size = -1), @p3='?' (Size = 4000), @p4='?' (DbType = Boolean), @p5='?' (DbType = Int32), @p6='?' (Size = 100), @p7='?' (Precision = 18) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [MenuItems] ([CreatedAt], [Description], [ImageData], [ImageUrl], [IsAvailable], [MenuId], [Name], [Price])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-08-24 13:21:29.547 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__menuId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[ImageData], [m].[ImageUrl], [m].[IsAvailable], [m].[MenuId], [m].[Name], [m].[Price]
FROM [MenuItems] AS [m]
WHERE [m].[MenuId] = @__menuId_0
ORDER BY [m].[Name]
2025-08-24 13:21:34.429 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/admin - null null
2025-08-24 13:21:34.431 +03:00 [INF] Executing endpoint '/admin (/admin)'
2025-08-24 13:21:34.437 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice], [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber], [m].[Id], [m].[CreatedAt], [m].[Description], [m].[ImageData], [m].[ImageUrl], [m].[IsAvailable], [m].[MenuId], [m].[Name], [m].[Price], [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[IsActive], [m0].[Name]
FROM [Orders] AS [o]
INNER JOIN [Tables] AS [t] ON [o].[TableId] = [t].[Id]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[Id]
INNER JOIN [Menus] AS [m0] ON [m].[MenuId] = [m0].[Id]
WHERE [o].[Status] IN (0, 1, 2)
ORDER BY [o].[OrderDate]
2025-08-24 13:21:34.441 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__startDate_0='?' (DbType = DateTime2), @__endDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalPrice]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[Status] = 4 AND [o].[OrderDate] >= @__startDate_0 AND [o].[OrderDate] <= @__endDate_1
2025-08-24 13:21:34.445 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[IsActive] = CAST(1 AS bit)
ORDER BY [t].[TableNumber]
2025-08-24 13:21:34.451 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 13:21:34.511 +03:00 [INF] Executed endpoint '/admin (/admin)'
2025-08-24 13:21:34.512 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/admin - 200 null text/html; charset=utf-8 82.9202ms
2025-08-24 13:21:34.521 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice], [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber], [m].[Id], [m].[CreatedAt], [m].[Description], [m].[ImageData], [m].[ImageUrl], [m].[IsAvailable], [m].[MenuId], [m].[Name], [m].[Price], [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[IsActive], [m0].[Name]
FROM [Orders] AS [o]
INNER JOIN [Tables] AS [t] ON [o].[TableId] = [t].[Id]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[Id]
INNER JOIN [Menus] AS [m0] ON [m].[MenuId] = [m0].[Id]
WHERE [o].[Status] IN (0, 1, 2)
ORDER BY [o].[OrderDate]
2025-08-24 13:21:34.523 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__startDate_0='?' (DbType = DateTime2), @__endDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalPrice]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[Status] = 4 AND [o].[OrderDate] >= @__startDate_0 AND [o].[OrderDate] <= @__endDate_1
2025-08-24 13:21:34.525 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[IsActive] = CAST(1 AS bit)
ORDER BY [t].[TableNumber]
2025-08-24 13:21:34.528 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 13:21:35.278 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/admin/menus - null null
2025-08-24 13:21:35.280 +03:00 [INF] Executing endpoint '/admin/menus (/admin/menus)'
2025-08-24 13:21:35.285 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
FROM [Menus] AS [m]
LEFT JOIN [MenuItems] AS [m0] ON [m].[Id] = [m0].[MenuId]
ORDER BY [m].[Name], [m].[Id]
2025-08-24 13:21:35.334 +03:00 [INF] Executed endpoint '/admin/menus (/admin/menus)'
2025-08-24 13:21:35.336 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/admin/menus - 200 null text/html; charset=utf-8 57.8295ms
2025-08-24 13:21:35.351 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
FROM [Menus] AS [m]
LEFT JOIN [MenuItems] AS [m0] ON [m].[Id] = [m0].[MenuId]
ORDER BY [m].[Name], [m].[Id]
2025-08-24 13:21:44.567 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/menu?table=1&category=Ana%20Yemekler - null null
2025-08-24 13:21:44.569 +03:00 [INF] Executing endpoint '/menu (/menu)'
2025-08-24 13:21:44.572 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__tableNumber_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[TableNumber] = @__tableNumber_0
2025-08-24 13:21:44.574 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 13:21:44.654 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 13:21:44.713 +03:00 [INF] Executed endpoint '/menu (/menu)'
2025-08-24 13:21:44.714 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/menu?table=1&category=Ana%20Yemekler - 200 null text/html; charset=utf-8 147.2898ms
2025-08-24 13:21:44.725 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__tableNumber_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[TableNumber] = @__tableNumber_0
2025-08-24 13:21:44.727 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 13:21:44.812 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 13:21:46.424 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 13:21:46.428 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/menu?table=1&category=Ba%C5%9Flang%C4%B1%C3%A7lar - null null
2025-08-24 13:21:46.430 +03:00 [INF] Executing endpoint '/menu (/menu)'
2025-08-24 13:21:46.433 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__tableNumber_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[TableNumber] = @__tableNumber_0
2025-08-24 13:21:46.436 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 13:21:46.542 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 13:21:46.603 +03:00 [INF] Executed endpoint '/menu (/menu)'
2025-08-24 13:21:46.604 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/menu?table=1&category=Ba%C5%9Flang%C4%B1%C3%A7lar - 200 null text/html; charset=utf-8 175.8384ms
2025-08-24 13:21:47.961 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 13:21:47.965 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/menu?table=1&category=Ana%20Yemekler - null null
2025-08-24 13:21:47.967 +03:00 [INF] Executing endpoint '/menu (/menu)'
2025-08-24 13:21:47.970 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__tableNumber_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[TableNumber] = @__tableNumber_0
2025-08-24 13:21:47.973 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 13:21:47.982 +03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'RestaurantOrdering.Data.ApplicationDbContext'.
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-08-24 13:21:47.989 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/menu?table=1&category=Ana%20Yemekler - null null
2025-08-24 13:21:47.991 +03:00 [INF] Executing endpoint '/menu (/menu)'
2025-08-24 13:21:47.994 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__tableNumber_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[TableNumber] = @__tableNumber_0
2025-08-24 13:21:47.996 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 13:21:48.088 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 13:21:48.099 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 13:21:48.163 +03:00 [INF] Executed endpoint '/menu (/menu)'
2025-08-24 13:21:48.164 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/menu?table=1&category=Ana%20Yemekler - 200 null text/html; charset=utf-8 199.2198ms
2025-08-24 13:21:48.190 +03:00 [INF] Executed endpoint '/menu (/menu)'
2025-08-24 13:21:48.191 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/menu?table=1&category=Ana%20Yemekler - 200 null text/html; charset=utf-8 201.847ms
2025-08-24 13:22:24.496 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 500), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (Precision = 18) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Orders] ([MenuItemId], [Notes], [OrderDate], [Quantity], [Status], [TableId], [TotalPrice])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-08-24 13:22:24.502 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 500), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (Precision = 18) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Orders] ([MenuItemId], [Notes], [OrderDate], [Quantity], [Status], [TableId], [TotalPrice])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-08-24 13:22:26.624 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 13:22:26.630 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/admin/orders - null null
2025-08-24 13:22:26.632 +03:00 [INF] Executing endpoint '/admin/orders (/admin/orders)'
2025-08-24 13:22:26.636 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[IsActive] = CAST(1 AS bit)
ORDER BY [t].[TableNumber]
2025-08-24 13:22:26.668 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[TableId], [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[Status] IN (0, 1, 2, 3)
ORDER BY [o].[TableId]
2025-08-24 13:22:26.675 +03:00 [INF] Executed endpoint '/admin/orders (/admin/orders)'
2025-08-24 13:22:26.676 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/admin/orders - 200 null text/html; charset=utf-8 45.7652ms
2025-08-24 13:22:26.693 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[IsActive] = CAST(1 AS bit)
ORDER BY [t].[TableNumber]
2025-08-24 13:22:26.695 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[TableId], [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[Status] IN (0, 1, 2, 3)
ORDER BY [o].[TableId]
2025-08-24 13:22:30.392 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/admin/table-orders/1 - null null
2025-08-24 13:22:30.395 +03:00 [INF] Executing endpoint '/admin/table-orders/{tableId:int} (/admin/table-orders/{tableId:int})'
2025-08-24 13:22:30.404 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[Id] = @__p_0
2025-08-24 13:22:30.428 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice], [m].[Id], [m].[CreatedAt], [m].[Description], [m].[ImageData], [m].[ImageUrl], [m].[IsAvailable], [m].[MenuId], [m].[Name], [m].[Price], [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[IsActive], [m0].[Name], [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Orders] AS [o]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[Id]
INNER JOIN [Menus] AS [m0] ON [m].[MenuId] = [m0].[Id]
INNER JOIN [Tables] AS [t] ON [o].[TableId] = [t].[Id]
WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] IN (0, 1, 2, 3)
ORDER BY [o].[OrderDate]
2025-08-24 13:22:30.469 +03:00 [INF] Executed endpoint '/admin/table-orders/{tableId:int} (/admin/table-orders/{tableId:int})'
2025-08-24 13:22:30.471 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/admin/table-orders/1 - 200 null text/html; charset=utf-8 78.4853ms
2025-08-24 13:22:30.490 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice], [m].[Id], [m].[CreatedAt], [m].[Description], [m].[ImageData], [m].[ImageUrl], [m].[IsAvailable], [m].[MenuId], [m].[Name], [m].[Price], [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[IsActive], [m0].[Name], [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Orders] AS [o]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[Id]
INNER JOIN [Menus] AS [m0] ON [m].[MenuId] = [m0].[Id]
INNER JOIN [Tables] AS [t] ON [o].[TableId] = [t].[Id]
WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] IN (0, 1, 2, 3)
ORDER BY [o].[OrderDate]
2025-08-24 13:22:40.412 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Orders] SET [Status] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-08-24 13:22:40.416 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Orders] SET [Status] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-08-24 13:22:40.424 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice], [m].[Id], [m].[CreatedAt], [m].[Description], [m].[ImageData], [m].[ImageUrl], [m].[IsAvailable], [m].[MenuId], [m].[Name], [m].[Price], [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[IsActive], [m0].[Name], [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Orders] AS [o]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[Id]
INNER JOIN [Menus] AS [m0] ON [m].[MenuId] = [m0].[Id]
INNER JOIN [Tables] AS [t] ON [o].[TableId] = [t].[Id]
WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] IN (0, 1, 2, 3)
ORDER BY [o].[OrderDate]
2025-08-24 13:22:46.352 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/admin/kitchen - null null
2025-08-24 13:22:46.355 +03:00 [INF] Executing endpoint '/admin/kitchen (/admin/kitchen)'
2025-08-24 13:22:46.361 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice], [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber], [m].[Id], [m].[CreatedAt], [m].[Description], [m].[ImageData], [m].[ImageUrl], [m].[IsAvailable], [m].[MenuId], [m].[Name], [m].[Price], [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[IsActive], [m0].[Name]
FROM [Orders] AS [o]
INNER JOIN [Tables] AS [t] ON [o].[TableId] = [t].[Id]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[Id]
INNER JOIN [Menus] AS [m0] ON [m].[MenuId] = [m0].[Id]
WHERE [o].[Status] IN (0, 1, 2)
ORDER BY [o].[OrderDate]
2025-08-24 13:22:46.407 +03:00 [INF] Executed endpoint '/admin/kitchen (/admin/kitchen)'
2025-08-24 13:22:46.408 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/admin/kitchen - 200 null text/html; charset=utf-8 56.3776ms
2025-08-24 13:22:46.422 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice], [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber], [m].[Id], [m].[CreatedAt], [m].[Description], [m].[ImageData], [m].[ImageUrl], [m].[IsAvailable], [m].[MenuId], [m].[Name], [m].[Price], [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[IsActive], [m0].[Name]
FROM [Orders] AS [o]
INNER JOIN [Tables] AS [t] ON [o].[TableId] = [t].[Id]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[Id]
INNER JOIN [Menus] AS [m0] ON [m].[MenuId] = [m0].[Id]
WHERE [o].[Status] IN (0, 1, 2)
ORDER BY [o].[OrderDate]
2025-08-24 13:22:54.480 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/admin/kitchen/table/1 - null null
2025-08-24 13:22:54.483 +03:00 [INF] Executing endpoint '/admin/kitchen/table/{TableNumber:int} (/admin/kitchen/table/{TableNumber:int})'
2025-08-24 13:22:54.489 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice], [m].[Id], [m].[CreatedAt], [m].[Description], [m].[ImageData], [m].[ImageUrl], [m].[IsAvailable], [m].[MenuId], [m].[Name], [m].[Price], [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[IsActive], [m0].[Name], [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Orders] AS [o]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[Id]
INNER JOIN [Menus] AS [m0] ON [m].[MenuId] = [m0].[Id]
INNER JOIN [Tables] AS [t] ON [o].[TableId] = [t].[Id]
WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] IN (0, 1, 2, 3)
ORDER BY [o].[OrderDate]
2025-08-24 13:22:54.529 +03:00 [INF] Executed endpoint '/admin/kitchen/table/{TableNumber:int} (/admin/kitchen/table/{TableNumber:int})'
2025-08-24 13:22:54.530 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/admin/kitchen/table/1 - 200 null text/html; charset=utf-8 50.1271ms
2025-08-24 13:22:56.553 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5010/_blazor/disconnect - multipart/form-data; boundary=----WebKitFormBoundary8yHQQnITGTcpqbHB 359
2025-08-24 13:22:56.556 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 13:22:56.558 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 13:22:56.559 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/_blazor?id=TPXKHiV3VGtxQVzWhpmyMA - 101 null null 225095.4103ms
2025-08-24 13:22:56.564 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 13:22:56.565 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5010/_blazor/disconnect - 200 0 null 11.6145ms
2025-08-24 13:22:58.082 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/admin/kitchen - null null
2025-08-24 13:22:58.085 +03:00 [INF] Executing endpoint '/admin/kitchen (/admin/kitchen)'
2025-08-24 13:22:58.088 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice], [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber], [m].[Id], [m].[CreatedAt], [m].[Description], [m].[ImageData], [m].[ImageUrl], [m].[IsAvailable], [m].[MenuId], [m].[Name], [m].[Price], [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[IsActive], [m0].[Name]
FROM [Orders] AS [o]
INNER JOIN [Tables] AS [t] ON [o].[TableId] = [t].[Id]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[Id]
INNER JOIN [Menus] AS [m0] ON [m].[MenuId] = [m0].[Id]
WHERE [o].[Status] IN (0, 1, 2)
ORDER BY [o].[OrderDate]
2025-08-24 13:22:58.110 +03:00 [INF] Executed endpoint '/admin/kitchen (/admin/kitchen)'
2025-08-24 13:22:58.111 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/admin/kitchen - 200 null text/html; charset=utf-8 28.3303ms
2025-08-24 13:22:58.123 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5010/_blazor/negotiate?negotiateVersion=1 - null 0
2025-08-24 13:22:58.126 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 13:22:58.127 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 13:22:58.128 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5010/_blazor/negotiate?negotiateVersion=1 - 200 316 application/json 4.4293ms
2025-08-24 13:22:58.129 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/_blazor?id=kSKoo4J1XKQ8G0yDLIz2IA - null null
2025-08-24 13:22:58.133 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 13:22:58.142 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice], [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber], [m].[Id], [m].[CreatedAt], [m].[Description], [m].[ImageData], [m].[ImageUrl], [m].[IsAvailable], [m].[MenuId], [m].[Name], [m].[Price], [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[IsActive], [m0].[Name]
FROM [Orders] AS [o]
INNER JOIN [Tables] AS [t] ON [o].[TableId] = [t].[Id]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[Id]
INNER JOIN [Menus] AS [m0] ON [m].[MenuId] = [m0].[Id]
WHERE [o].[Status] IN (0, 1, 2)
ORDER BY [o].[OrderDate]
2025-08-24 13:23:28.193 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice], [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber], [m].[Id], [m].[CreatedAt], [m].[Description], [m].[ImageData], [m].[ImageUrl], [m].[IsAvailable], [m].[MenuId], [m].[Name], [m].[Price], [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[IsActive], [m0].[Name]
FROM [Orders] AS [o]
INNER JOIN [Tables] AS [t] ON [o].[TableId] = [t].[Id]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[Id]
INNER JOIN [Menus] AS [m0] ON [m].[MenuId] = [m0].[Id]
WHERE [o].[Status] IN (0, 1, 2)
ORDER BY [o].[OrderDate]
2025-08-24 13:23:29.314 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/admin/kitchen/table/1 - null null
2025-08-24 13:23:29.317 +03:00 [INF] Executing endpoint '/admin/kitchen/table/{TableNumber:int} (/admin/kitchen/table/{TableNumber:int})'
2025-08-24 13:23:29.319 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice], [m].[Id], [m].[CreatedAt], [m].[Description], [m].[ImageData], [m].[ImageUrl], [m].[IsAvailable], [m].[MenuId], [m].[Name], [m].[Price], [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[IsActive], [m0].[Name], [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Orders] AS [o]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[Id]
INNER JOIN [Menus] AS [m0] ON [m].[MenuId] = [m0].[Id]
INNER JOIN [Tables] AS [t] ON [o].[TableId] = [t].[Id]
WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] IN (0, 1, 2, 3)
ORDER BY [o].[OrderDate]
2025-08-24 13:23:29.340 +03:00 [INF] Executed endpoint '/admin/kitchen/table/{TableNumber:int} (/admin/kitchen/table/{TableNumber:int})'
2025-08-24 13:23:29.341 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/admin/kitchen/table/1 - 200 null text/html; charset=utf-8 26.445ms
2025-08-24 13:23:31.358 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5010/_blazor/disconnect - multipart/form-data; boundary=----WebKitFormBoundaryZhzDBWsgXjd1BIJG 359
2025-08-24 13:23:31.359 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 13:23:31.360 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 13:23:31.360 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/_blazor?id=kSKoo4J1XKQ8G0yDLIz2IA - 101 null null 33230.7838ms
2025-08-24 13:23:31.361 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 13:23:31.364 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5010/_blazor/disconnect - 200 0 null 5.7845ms
2025-08-24 13:24:19.098 +03:00 [INF] Application is shutting down...
2025-08-24 13:25:38.378 +03:00 [INF] User profile is available. Using 'C:\Users\fatih\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-24 13:25:39.078 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-24 13:25:39.108 +03:00 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-08-24 13:25:39.295 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-08-24 13:25:39.357 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 13:25:39.391 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 13:25:39.393 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 13:25:39.394 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 13:25:39.396 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 13:25:39.398 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 13:25:39.399 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 13:25:39.466 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 500), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p7='?' (DbType = Int32), @p8='?' (Size = 500), @p9='?' (DbType = DateTime2), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p14='?' (DbType = Int32), @p15='?' (Size = 500), @p16='?' (DbType = DateTime2), @p17='?' (DbType = Int32), @p18='?' (DbType = Int32), @p19='?' (DbType = Int32), @p20='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p21='?' (DbType = Int32), @p22='?' (Size = 500), @p23='?' (DbType = DateTime2), @p24='?' (DbType = Int32), @p25='?' (DbType = Int32), @p26='?' (DbType = Int32), @p27='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p28='?' (DbType = Int32), @p29='?' (Size = 500), @p30='?' (DbType = DateTime2), @p31='?' (DbType = Int32), @p32='?' (DbType = Int32), @p33='?' (DbType = Int32), @p34='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p35='?' (DbType = Int32), @p36='?' (Size = 500), @p37='?' (DbType = DateTime2), @p38='?' (DbType = Int32), @p39='?' (DbType = Int32), @p40='?' (DbType = Int32), @p41='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p42='?' (DbType = Int32), @p43='?' (Size = 500), @p44='?' (DbType = DateTime2), @p45='?' (DbType = Int32), @p46='?' (DbType = Int32), @p47='?' (DbType = Int32), @p48='?' (Precision = 18) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [Orders] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, 0),
(@p7, @p8, @p9, @p10, @p11, @p12, @p13, 1),
(@p14, @p15, @p16, @p17, @p18, @p19, @p20, 2),
(@p21, @p22, @p23, @p24, @p25, @p26, @p27, 3),
(@p28, @p29, @p30, @p31, @p32, @p33, @p34, 4),
(@p35, @p36, @p37, @p38, @p39, @p40, @p41, 5),
(@p42, @p43, @p44, @p45, @p46, @p47, @p48, 6)) AS i ([MenuItemId], [Notes], [OrderDate], [Quantity], [Status], [TableId], [TotalPrice], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([MenuItemId], [Notes], [OrderDate], [Quantity], [Status], [TableId], [TotalPrice])
VALUES (i.[MenuItemId], i.[Notes], i.[OrderDate], i.[Quantity], i.[Status], i.[TableId], i.[TotalPrice])
OUTPUT INSERTED.[Id], i._Position;
2025-08-24 13:25:39.481 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'RestaurantOrdering.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The MERGE statement conflicted with the FOREIGN KEY constraint "FK_Orders_MenuItems_MenuItemId". The conflict occurred in database "RestaurantOrderingDb", table "dbo.MenuItems", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:00eb0d22-7498-41fa-bdf7-269eebd2ec1d
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The MERGE statement conflicted with the FOREIGN KEY constraint "FK_Orders_MenuItems_MenuItemId". The conflict occurred in database "RestaurantOrderingDb", table "dbo.MenuItems", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:00eb0d22-7498-41fa-bdf7-269eebd2ec1d
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-24 13:25:39.486 +03:00 [ERR] An error occurred creating the DB.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The MERGE statement conflicted with the FOREIGN KEY constraint "FK_Orders_MenuItems_MenuItemId". The conflict occurred in database "RestaurantOrderingDb", table "dbo.MenuItems", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:00eb0d22-7498-41fa-bdf7-269eebd2ec1d
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at RestaurantOrdering.Services.TestOrderService.CreateTestOrdersAsync() in C:\Users\fatih\Desktop\AI\Restorant\Services\TestOrderService.cs:line 119
   at Program.<Main>$(String[] args) in C:\Users\fatih\Desktop\AI\Restorant\Program.cs:line 101
2025-08-24 13:25:39.564 +03:00 [INF] Now listening on: http://localhost:5010
2025-08-24 13:25:39.567 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-24 13:25:39.567 +03:00 [INF] Hosting environment: Development
2025-08-24 13:25:39.568 +03:00 [INF] Content root path: C:\Users\fatih\Desktop\AI\Restorant
2025-08-24 13:26:05.445 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/ - null null
2025-08-24 13:26:05.449 +03:00 [WRN] Failed to determine the https port for redirect.
2025-08-24 13:26:05.473 +03:00 [INF] Executing endpoint '/ (/)'
2025-08-24 13:26:05.533 +03:00 [INF] Executed endpoint '/ (/)'
2025-08-24 13:26:05.537 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/ - 200 null text/html; charset=utf-8 93.4963ms
2025-08-24 13:26:05.549 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/_framework/blazor.web.js - null null
2025-08-24 13:26:05.549 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/app.css - null null
2025-08-24 13:26:05.557 +03:00 [INF] Executing endpoint 'Blazor web static files'
2025-08-24 13:26:05.561 +03:00 [INF] The file /_framework/blazor.web.js was not modified
2025-08-24 13:26:05.562 +03:00 [INF] Executed endpoint 'Blazor web static files'
2025-08-24 13:26:05.563 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/_framework/blazor.web.js - 304 null text/javascript 13.7145ms
2025-08-24 13:26:05.579 +03:00 [INF] Sending file. Request path: '/app.css'. Physical path: 'C:\Users\fatih\Desktop\AI\Restorant\wwwroot\app.css'
2025-08-24 13:26:05.580 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/app.css - 200 17470 text/css 30.841ms
2025-08-24 13:26:20.653 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/admin/kitchen - null null
2025-08-24 13:26:20.664 +03:00 [INF] Executing endpoint '/admin/kitchen (/admin/kitchen)'
2025-08-24 13:26:20.737 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice], [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber], [m].[Id], [m].[CreatedAt], [m].[Description], [m].[ImageData], [m].[ImageUrl], [m].[IsAvailable], [m].[MenuId], [m].[Name], [m].[Price], [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[IsActive], [m0].[Name]
FROM [Orders] AS [o]
INNER JOIN [Tables] AS [t] ON [o].[TableId] = [t].[Id]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[Id]
INNER JOIN [Menus] AS [m0] ON [m].[MenuId] = [m0].[Id]
WHERE [o].[Status] IN (0, 1, 2)
ORDER BY [o].[OrderDate]
2025-08-24 13:26:20.845 +03:00 [INF] Executed endpoint '/admin/kitchen (/admin/kitchen)'
2025-08-24 13:26:20.848 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/admin/kitchen - 200 null text/html; charset=utf-8 194.1466ms
2025-08-24 13:26:20.862 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5010/_blazor/negotiate?negotiateVersion=1 - null 0
2025-08-24 13:26:20.864 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 13:26:20.870 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 13:26:20.871 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5010/_blazor/negotiate?negotiateVersion=1 - 200 316 application/json 8.9831ms
2025-08-24 13:26:20.872 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/_blazor?id=EwFgbWIVNZmeijARNH6AFQ - null null
2025-08-24 13:26:20.875 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 13:26:20.980 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice], [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber], [m].[Id], [m].[CreatedAt], [m].[Description], [m].[ImageData], [m].[ImageUrl], [m].[IsAvailable], [m].[MenuId], [m].[Name], [m].[Price], [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[IsActive], [m0].[Name]
FROM [Orders] AS [o]
INNER JOIN [Tables] AS [t] ON [o].[TableId] = [t].[Id]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[Id]
INNER JOIN [Menus] AS [m0] ON [m].[MenuId] = [m0].[Id]
WHERE [o].[Status] IN (0, 1, 2)
ORDER BY [o].[OrderDate]
2025-08-24 13:26:30.708 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/admin/kitchen/table/1 - null null
2025-08-24 13:26:30.714 +03:00 [INF] Executing endpoint '/admin/kitchen/table/{TableNumber:int} (/admin/kitchen/table/{TableNumber:int})'
2025-08-24 13:26:30.741 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice], [m].[Id], [m].[CreatedAt], [m].[Description], [m].[ImageData], [m].[ImageUrl], [m].[IsAvailable], [m].[MenuId], [m].[Name], [m].[Price], [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[IsActive], [m0].[Name], [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Orders] AS [o]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[Id]
INNER JOIN [Menus] AS [m0] ON [m].[MenuId] = [m0].[Id]
INNER JOIN [Tables] AS [t] ON [o].[TableId] = [t].[Id]
WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] IN (0, 1, 2, 3)
ORDER BY [o].[OrderDate]
2025-08-24 13:26:30.836 +03:00 [INF] Executed endpoint '/admin/kitchen/table/{TableNumber:int} (/admin/kitchen/table/{TableNumber:int})'
2025-08-24 13:26:30.838 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/admin/kitchen/table/1 - 200 null text/html; charset=utf-8 129.2284ms
2025-08-24 13:26:32.869 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5010/_blazor/disconnect - multipart/form-data; boundary=----WebKitFormBoundaryJRYy6MKCFPht9BAh 359
2025-08-24 13:26:32.872 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 13:26:32.874 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 13:26:32.875 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/_blazor?id=EwFgbWIVNZmeijARNH6AFQ - 101 null null 12002.3028ms
2025-08-24 13:26:32.881 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 13:26:32.882 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5010/_blazor/disconnect - 200 0 null 13.5684ms
2025-08-24 13:27:21.486 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/.well-known/appspecific/com.chrome.devtools.json - null null
2025-08-24 13:27:21.489 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/.well-known/appspecific/com.chrome.devtools.json - 404 0 null 3.2952ms
2025-08-24 13:27:21.492 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5010/.well-known/appspecific/com.chrome.devtools.json, Response status code: 404
2025-08-24 13:27:21.513 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/bootstrap/bootstrap.min.css.map - null null
2025-08-24 13:27:21.515 +03:00 [INF] The file /bootstrap/bootstrap.min.css.map was not modified
2025-08-24 13:27:21.516 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/bootstrap/bootstrap.min.css.map - 304 null text/plain 2.8069ms
2025-08-24 13:28:17.253 +03:00 [INF] Application is shutting down...
2025-08-24 13:30:24.877 +03:00 [INF] User profile is available. Using 'C:\Users\fatih\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-24 13:30:25.545 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-24 13:30:25.574 +03:00 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-08-24 13:30:25.768 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-08-24 13:30:25.830 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 13:30:25.864 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 13:30:25.867 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 13:30:25.869 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 13:30:25.871 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 13:30:25.873 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 13:30:25.874 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 13:30:25.941 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 500), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p7='?' (DbType = Int32), @p8='?' (Size = 500), @p9='?' (DbType = DateTime2), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p14='?' (DbType = Int32), @p15='?' (Size = 500), @p16='?' (DbType = DateTime2), @p17='?' (DbType = Int32), @p18='?' (DbType = Int32), @p19='?' (DbType = Int32), @p20='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p21='?' (DbType = Int32), @p22='?' (Size = 500), @p23='?' (DbType = DateTime2), @p24='?' (DbType = Int32), @p25='?' (DbType = Int32), @p26='?' (DbType = Int32), @p27='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p28='?' (DbType = Int32), @p29='?' (Size = 500), @p30='?' (DbType = DateTime2), @p31='?' (DbType = Int32), @p32='?' (DbType = Int32), @p33='?' (DbType = Int32), @p34='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p35='?' (DbType = Int32), @p36='?' (Size = 500), @p37='?' (DbType = DateTime2), @p38='?' (DbType = Int32), @p39='?' (DbType = Int32), @p40='?' (DbType = Int32), @p41='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p42='?' (DbType = Int32), @p43='?' (Size = 500), @p44='?' (DbType = DateTime2), @p45='?' (DbType = Int32), @p46='?' (DbType = Int32), @p47='?' (DbType = Int32), @p48='?' (Precision = 18) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [Orders] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, 0),
(@p7, @p8, @p9, @p10, @p11, @p12, @p13, 1),
(@p14, @p15, @p16, @p17, @p18, @p19, @p20, 2),
(@p21, @p22, @p23, @p24, @p25, @p26, @p27, 3),
(@p28, @p29, @p30, @p31, @p32, @p33, @p34, 4),
(@p35, @p36, @p37, @p38, @p39, @p40, @p41, 5),
(@p42, @p43, @p44, @p45, @p46, @p47, @p48, 6)) AS i ([MenuItemId], [Notes], [OrderDate], [Quantity], [Status], [TableId], [TotalPrice], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([MenuItemId], [Notes], [OrderDate], [Quantity], [Status], [TableId], [TotalPrice])
VALUES (i.[MenuItemId], i.[Notes], i.[OrderDate], i.[Quantity], i.[Status], i.[TableId], i.[TotalPrice])
OUTPUT INSERTED.[Id], i._Position;
2025-08-24 13:30:25.955 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'RestaurantOrdering.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The MERGE statement conflicted with the FOREIGN KEY constraint "FK_Orders_MenuItems_MenuItemId". The conflict occurred in database "RestaurantOrderingDb", table "dbo.MenuItems", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:7fd40b27-c872-40fa-a824-1da20caedaee
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The MERGE statement conflicted with the FOREIGN KEY constraint "FK_Orders_MenuItems_MenuItemId". The conflict occurred in database "RestaurantOrderingDb", table "dbo.MenuItems", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:7fd40b27-c872-40fa-a824-1da20caedaee
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-24 13:30:25.961 +03:00 [ERR] An error occurred creating the DB.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The MERGE statement conflicted with the FOREIGN KEY constraint "FK_Orders_MenuItems_MenuItemId". The conflict occurred in database "RestaurantOrderingDb", table "dbo.MenuItems", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:7fd40b27-c872-40fa-a824-1da20caedaee
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at RestaurantOrdering.Services.TestOrderService.CreateTestOrdersAsync() in C:\Users\fatih\Desktop\AI\Restorant\Services\TestOrderService.cs:line 119
   at Program.<Main>$(String[] args) in C:\Users\fatih\Desktop\AI\Restorant\Program.cs:line 101
2025-08-24 13:30:26.039 +03:00 [INF] Now listening on: http://localhost:5010
2025-08-24 13:30:26.043 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-24 13:30:26.043 +03:00 [INF] Hosting environment: Development
2025-08-24 13:30:26.044 +03:00 [INF] Content root path: C:\Users\fatih\Desktop\AI\Restorant
2025-08-24 13:30:34.957 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/admin/kitchen - null null
2025-08-24 13:30:34.962 +03:00 [WRN] Failed to determine the https port for redirect.
2025-08-24 13:30:34.987 +03:00 [INF] Executing endpoint '/admin/kitchen (/admin/kitchen)'
2025-08-24 13:30:35.077 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice], [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber], [m].[Id], [m].[CreatedAt], [m].[Description], [m].[ImageData], [m].[ImageUrl], [m].[IsAvailable], [m].[MenuId], [m].[Name], [m].[Price], [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[IsActive], [m0].[Name]
FROM [Orders] AS [o]
INNER JOIN [Tables] AS [t] ON [o].[TableId] = [t].[Id]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[Id]
INNER JOIN [Menus] AS [m0] ON [m].[MenuId] = [m0].[Id]
WHERE [o].[Status] IN (0, 1, 2)
ORDER BY [o].[OrderDate]
2025-08-24 13:30:35.216 +03:00 [INF] Executed endpoint '/admin/kitchen (/admin/kitchen)'
2025-08-24 13:30:35.221 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/admin/kitchen - 200 null text/html; charset=utf-8 264.76ms
2025-08-24 13:30:35.241 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5010/_blazor/negotiate?negotiateVersion=1 - null 0
2025-08-24 13:30:35.246 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 13:30:35.251 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 13:30:35.252 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5010/_blazor/negotiate?negotiateVersion=1 - 200 316 application/json 10.9037ms
2025-08-24 13:30:35.254 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/_blazor?id=B3MuqNTnFGyndKZZ9w-jwQ - null null
2025-08-24 13:30:35.262 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 13:30:35.372 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice], [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber], [m].[Id], [m].[CreatedAt], [m].[Description], [m].[ImageData], [m].[ImageUrl], [m].[IsAvailable], [m].[MenuId], [m].[Name], [m].[Price], [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[IsActive], [m0].[Name]
FROM [Orders] AS [o]
INNER JOIN [Tables] AS [t] ON [o].[TableId] = [t].[Id]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[Id]
INNER JOIN [Menus] AS [m0] ON [m].[MenuId] = [m0].[Id]
WHERE [o].[Status] IN (0, 1, 2)
ORDER BY [o].[OrderDate]
2025-08-24 13:30:44.011 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/admin/kitchen/table/1 - null null
2025-08-24 13:30:44.018 +03:00 [INF] Executing endpoint '/admin/kitchen/table/{TableNumber:int} (/admin/kitchen/table/{TableNumber:int})'
2025-08-24 13:30:44.054 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice], [m].[Id], [m].[CreatedAt], [m].[Description], [m].[ImageData], [m].[ImageUrl], [m].[IsAvailable], [m].[MenuId], [m].[Name], [m].[Price], [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[IsActive], [m0].[Name], [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Orders] AS [o]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[Id]
INNER JOIN [Menus] AS [m0] ON [m].[MenuId] = [m0].[Id]
INNER JOIN [Tables] AS [t] ON [o].[TableId] = [t].[Id]
WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] IN (0, 1, 2, 3)
ORDER BY [o].[OrderDate]
2025-08-24 13:30:44.145 +03:00 [INF] Executed endpoint '/admin/kitchen/table/{TableNumber:int} (/admin/kitchen/table/{TableNumber:int})'
2025-08-24 13:30:44.147 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/admin/kitchen/table/1 - 200 null text/html; charset=utf-8 135.0629ms
2025-08-24 13:30:45.347 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/admin/kitchen - null null
2025-08-24 13:30:45.351 +03:00 [INF] Executing endpoint '/admin/kitchen (/admin/kitchen)'
2025-08-24 13:30:45.358 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice], [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber], [m].[Id], [m].[CreatedAt], [m].[Description], [m].[ImageData], [m].[ImageUrl], [m].[IsAvailable], [m].[MenuId], [m].[Name], [m].[Price], [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[IsActive], [m0].[Name]
FROM [Orders] AS [o]
INNER JOIN [Tables] AS [t] ON [o].[TableId] = [t].[Id]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[Id]
INNER JOIN [Menus] AS [m0] ON [m].[MenuId] = [m0].[Id]
WHERE [o].[Status] IN (0, 1, 2)
ORDER BY [o].[OrderDate]
2025-08-24 13:30:45.385 +03:00 [INF] Executed endpoint '/admin/kitchen (/admin/kitchen)'
2025-08-24 13:30:45.386 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/admin/kitchen - 200 null text/html; charset=utf-8 39.3583ms
2025-08-24 13:30:45.402 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice], [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber], [m].[Id], [m].[CreatedAt], [m].[Description], [m].[ImageData], [m].[ImageUrl], [m].[IsAvailable], [m].[MenuId], [m].[Name], [m].[Price], [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[IsActive], [m0].[Name]
FROM [Orders] AS [o]
INNER JOIN [Tables] AS [t] ON [o].[TableId] = [t].[Id]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[Id]
INNER JOIN [Menus] AS [m0] ON [m].[MenuId] = [m0].[Id]
WHERE [o].[Status] IN (0, 1, 2)
ORDER BY [o].[OrderDate]
2025-08-24 13:30:46.945 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/admin/kitchen/table/1 - null null
2025-08-24 13:30:46.948 +03:00 [INF] Executing endpoint '/admin/kitchen/table/{TableNumber:int} (/admin/kitchen/table/{TableNumber:int})'
2025-08-24 13:30:46.950 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice], [m].[Id], [m].[CreatedAt], [m].[Description], [m].[ImageData], [m].[ImageUrl], [m].[IsAvailable], [m].[MenuId], [m].[Name], [m].[Price], [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[IsActive], [m0].[Name], [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Orders] AS [o]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[Id]
INNER JOIN [Menus] AS [m0] ON [m].[MenuId] = [m0].[Id]
INNER JOIN [Tables] AS [t] ON [o].[TableId] = [t].[Id]
WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] IN (0, 1, 2, 3)
ORDER BY [o].[OrderDate]
2025-08-24 13:30:46.991 +03:00 [INF] Executed endpoint '/admin/kitchen/table/{TableNumber:int} (/admin/kitchen/table/{TableNumber:int})'
2025-08-24 13:30:46.992 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/admin/kitchen/table/1 - 200 null text/html; charset=utf-8 47.0565ms
2025-08-24 13:30:49.010 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5010/_blazor/disconnect - multipart/form-data; boundary=----WebKitFormBoundaryBDlMWMUWr19m3GaY 359
2025-08-24 13:30:49.014 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 13:30:49.016 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 13:30:49.017 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/_blazor?id=B3MuqNTnFGyndKZZ9w-jwQ - 101 null null 13762.4532ms
2025-08-24 13:30:49.023 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 13:30:49.024 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5010/_blazor/disconnect - 200 0 null 13.8871ms
2025-08-24 13:30:51.545 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/admin/kitchen - null null
2025-08-24 13:30:51.548 +03:00 [INF] Executing endpoint '/admin/kitchen (/admin/kitchen)'
2025-08-24 13:30:51.550 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice], [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber], [m].[Id], [m].[CreatedAt], [m].[Description], [m].[ImageData], [m].[ImageUrl], [m].[IsAvailable], [m].[MenuId], [m].[Name], [m].[Price], [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[IsActive], [m0].[Name]
FROM [Orders] AS [o]
INNER JOIN [Tables] AS [t] ON [o].[TableId] = [t].[Id]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[Id]
INNER JOIN [Menus] AS [m0] ON [m].[MenuId] = [m0].[Id]
WHERE [o].[Status] IN (0, 1, 2)
ORDER BY [o].[OrderDate]
2025-08-24 13:30:51.573 +03:00 [INF] Executed endpoint '/admin/kitchen (/admin/kitchen)'
2025-08-24 13:30:51.575 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/admin/kitchen - 200 null text/html; charset=utf-8 29.1909ms
2025-08-24 13:30:51.589 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5010/_blazor/negotiate?negotiateVersion=1 - null 0
2025-08-24 13:30:51.592 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 13:30:51.594 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 13:30:51.595 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5010/_blazor/negotiate?negotiateVersion=1 - 200 316 application/json 5.1096ms
2025-08-24 13:30:51.596 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/_blazor?id=oohhLtFL6Z6gZfhmKOofHA - null null
2025-08-24 13:30:51.600 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 13:30:51.613 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice], [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber], [m].[Id], [m].[CreatedAt], [m].[Description], [m].[ImageData], [m].[ImageUrl], [m].[IsAvailable], [m].[MenuId], [m].[Name], [m].[Price], [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[IsActive], [m0].[Name]
FROM [Orders] AS [o]
INNER JOIN [Tables] AS [t] ON [o].[TableId] = [t].[Id]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[Id]
INNER JOIN [Menus] AS [m0] ON [m].[MenuId] = [m0].[Id]
WHERE [o].[Status] IN (0, 1, 2)
ORDER BY [o].[OrderDate]
2025-08-24 13:30:54.546 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/admin/orders - null null
2025-08-24 13:30:54.548 +03:00 [INF] Executing endpoint '/admin/orders (/admin/orders)'
2025-08-24 13:30:54.561 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[IsActive] = CAST(1 AS bit)
ORDER BY [t].[TableNumber]
2025-08-24 13:30:54.589 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/admin/orders - null null
2025-08-24 13:30:54.591 +03:00 [INF] Executing endpoint '/admin/orders (/admin/orders)'
2025-08-24 13:30:54.594 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[IsActive] = CAST(1 AS bit)
ORDER BY [t].[TableNumber]
2025-08-24 13:30:54.599 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[TableId], [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[Status] IN (0, 1, 2, 3)
ORDER BY [o].[TableId]
2025-08-24 13:30:54.601 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[TableId], [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[Status] IN (0, 1, 2, 3)
ORDER BY [o].[TableId]
2025-08-24 13:30:54.610 +03:00 [INF] Executed endpoint '/admin/orders (/admin/orders)'
2025-08-24 13:30:54.610 +03:00 [INF] Executed endpoint '/admin/orders (/admin/orders)'
2025-08-24 13:30:54.611 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/admin/orders - 200 null text/html; charset=utf-8 65.0305ms
2025-08-24 13:30:54.612 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/admin/orders - 200 null text/html; charset=utf-8 22.2383ms
2025-08-24 13:30:54.622 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[IsActive] = CAST(1 AS bit)
ORDER BY [t].[TableNumber]
2025-08-24 13:30:54.625 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[TableId], [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[Status] IN (0, 1, 2, 3)
ORDER BY [o].[TableId]
2025-08-24 13:30:57.111 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/admin/table-orders/1 - null null
2025-08-24 13:30:57.114 +03:00 [INF] Executing endpoint '/admin/table-orders/{tableId:int} (/admin/table-orders/{tableId:int})'
2025-08-24 13:30:57.128 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[Id] = @__p_0
2025-08-24 13:30:57.132 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice], [m].[Id], [m].[CreatedAt], [m].[Description], [m].[ImageData], [m].[ImageUrl], [m].[IsAvailable], [m].[MenuId], [m].[Name], [m].[Price], [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[IsActive], [m0].[Name], [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Orders] AS [o]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[Id]
INNER JOIN [Menus] AS [m0] ON [m].[MenuId] = [m0].[Id]
INNER JOIN [Tables] AS [t] ON [o].[TableId] = [t].[Id]
WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] IN (0, 1, 2, 3)
ORDER BY [o].[OrderDate]
2025-08-24 13:30:57.180 +03:00 [INF] Executed endpoint '/admin/table-orders/{tableId:int} (/admin/table-orders/{tableId:int})'
2025-08-24 13:30:57.181 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/admin/table-orders/1 - 200 null text/html; charset=utf-8 70.2525ms
2025-08-24 13:30:57.200 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice], [m].[Id], [m].[CreatedAt], [m].[Description], [m].[ImageData], [m].[ImageUrl], [m].[IsAvailable], [m].[MenuId], [m].[Name], [m].[Price], [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[IsActive], [m0].[Name], [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Orders] AS [o]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[Id]
INNER JOIN [Menus] AS [m0] ON [m].[MenuId] = [m0].[Id]
INNER JOIN [Tables] AS [t] ON [o].[TableId] = [t].[Id]
WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] IN (0, 1, 2, 3)
ORDER BY [o].[OrderDate]
2025-08-24 13:30:59.952 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/admin/orders - null null
2025-08-24 13:30:59.954 +03:00 [INF] Executing endpoint '/admin/orders (/admin/orders)'
2025-08-24 13:30:59.957 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[IsActive] = CAST(1 AS bit)
ORDER BY [t].[TableNumber]
2025-08-24 13:30:59.959 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[TableId], [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[Status] IN (0, 1, 2, 3)
ORDER BY [o].[TableId]
2025-08-24 13:30:59.962 +03:00 [INF] Executed endpoint '/admin/orders (/admin/orders)'
2025-08-24 13:30:59.963 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/admin/orders - 200 null text/html; charset=utf-8 10.8719ms
2025-08-24 13:30:59.980 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[IsActive] = CAST(1 AS bit)
ORDER BY [t].[TableNumber]
2025-08-24 13:30:59.983 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[TableId], [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[Status] IN (0, 1, 2, 3)
ORDER BY [o].[TableId]
2025-08-24 13:31:01.661 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/admin/table-orders/2 - null null
2025-08-24 13:31:01.663 +03:00 [INF] Executing endpoint '/admin/table-orders/{tableId:int} (/admin/table-orders/{tableId:int})'
2025-08-24 13:31:01.666 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[Id] = @__p_0
2025-08-24 13:31:01.669 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice], [m].[Id], [m].[CreatedAt], [m].[Description], [m].[ImageData], [m].[ImageUrl], [m].[IsAvailable], [m].[MenuId], [m].[Name], [m].[Price], [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[IsActive], [m0].[Name], [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Orders] AS [o]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[Id]
INNER JOIN [Menus] AS [m0] ON [m].[MenuId] = [m0].[Id]
INNER JOIN [Tables] AS [t] ON [o].[TableId] = [t].[Id]
WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] IN (0, 1, 2, 3)
ORDER BY [o].[OrderDate]
2025-08-24 13:31:01.671 +03:00 [INF] Executed endpoint '/admin/table-orders/{tableId:int} (/admin/table-orders/{tableId:int})'
2025-08-24 13:31:01.673 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/admin/table-orders/2 - 200 null text/html; charset=utf-8 11.8713ms
2025-08-24 13:31:01.689 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice], [m].[Id], [m].[CreatedAt], [m].[Description], [m].[ImageData], [m].[ImageUrl], [m].[IsAvailable], [m].[MenuId], [m].[Name], [m].[Price], [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[IsActive], [m0].[Name], [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Orders] AS [o]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[Id]
INNER JOIN [Menus] AS [m0] ON [m].[MenuId] = [m0].[Id]
INNER JOIN [Tables] AS [t] ON [o].[TableId] = [t].[Id]
WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] IN (0, 1, 2, 3)
ORDER BY [o].[OrderDate]
2025-08-24 13:31:03.201 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/admin/orders - null null
2025-08-24 13:31:03.204 +03:00 [INF] Executing endpoint '/admin/orders (/admin/orders)'
2025-08-24 13:31:03.207 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[IsActive] = CAST(1 AS bit)
ORDER BY [t].[TableNumber]
2025-08-24 13:31:03.209 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[TableId], [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[Status] IN (0, 1, 2, 3)
ORDER BY [o].[TableId]
2025-08-24 13:31:03.211 +03:00 [INF] Executed endpoint '/admin/orders (/admin/orders)'
2025-08-24 13:31:03.212 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/admin/orders - 200 null text/html; charset=utf-8 10.8656ms
2025-08-24 13:31:03.228 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[IsActive] = CAST(1 AS bit)
ORDER BY [t].[TableNumber]
2025-08-24 13:31:03.232 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[TableId], [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[Status] IN (0, 1, 2, 3)
ORDER BY [o].[TableId]
2025-08-24 13:31:04.567 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/admin/tables - null null
2025-08-24 13:31:04.570 +03:00 [INF] Executing endpoint '/admin/tables (/admin/tables)'
2025-08-24 13:31:04.578 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
ORDER BY [t].[TableNumber]
2025-08-24 13:31:04.581 +03:00 [INF] Executed endpoint '/admin/tables (/admin/tables)'
2025-08-24 13:31:04.582 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/admin/tables - 200 null text/html; charset=utf-8 14.4433ms
2025-08-24 13:31:04.609 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/admin/tables - null null
2025-08-24 13:31:04.611 +03:00 [INF] Executing endpoint '/admin/tables (/admin/tables)'
2025-08-24 13:31:04.614 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
ORDER BY [t].[TableNumber]
2025-08-24 13:31:04.616 +03:00 [INF] Executed endpoint '/admin/tables (/admin/tables)'
2025-08-24 13:31:04.617 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/admin/tables - 200 null text/html; charset=utf-8 7.7741ms
2025-08-24 13:31:04.627 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
ORDER BY [t].[TableNumber]
2025-08-24 13:31:21.670 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice], [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber], [m].[Id], [m].[CreatedAt], [m].[Description], [m].[ImageData], [m].[ImageUrl], [m].[IsAvailable], [m].[MenuId], [m].[Name], [m].[Price], [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[IsActive], [m0].[Name]
FROM [Orders] AS [o]
INNER JOIN [Tables] AS [t] ON [o].[TableId] = [t].[Id]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[Id]
INNER JOIN [Menus] AS [m0] ON [m].[MenuId] = [m0].[Id]
WHERE [o].[Status] IN (0, 1, 2)
ORDER BY [o].[OrderDate]
2025-08-24 13:31:38.021 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/admin/tables - null null
2025-08-24 13:31:38.024 +03:00 [INF] Executing endpoint '/admin/tables (/admin/tables)'
2025-08-24 13:31:38.028 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
ORDER BY [t].[TableNumber]
2025-08-24 13:31:38.030 +03:00 [INF] Executed endpoint '/admin/tables (/admin/tables)'
2025-08-24 13:31:38.031 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/admin/tables - 200 null text/html; charset=utf-8 9.6741ms
2025-08-24 13:31:51.664 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice], [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber], [m].[Id], [m].[CreatedAt], [m].[Description], [m].[ImageData], [m].[ImageUrl], [m].[IsAvailable], [m].[MenuId], [m].[Name], [m].[Price], [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[IsActive], [m0].[Name]
FROM [Orders] AS [o]
INNER JOIN [Tables] AS [t] ON [o].[TableId] = [t].[Id]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[Id]
INNER JOIN [Menus] AS [m0] ON [m].[MenuId] = [m0].[Id]
WHERE [o].[Status] IN (0, 1, 2)
ORDER BY [o].[OrderDate]
2025-08-24 13:32:21.666 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice], [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber], [m].[Id], [m].[CreatedAt], [m].[Description], [m].[ImageData], [m].[ImageUrl], [m].[IsAvailable], [m].[MenuId], [m].[Name], [m].[Price], [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[IsActive], [m0].[Name]
FROM [Orders] AS [o]
INNER JOIN [Tables] AS [t] ON [o].[TableId] = [t].[Id]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[Id]
INNER JOIN [Menus] AS [m0] ON [m].[MenuId] = [m0].[Id]
WHERE [o].[Status] IN (0, 1, 2)
ORDER BY [o].[OrderDate]
2025-08-24 13:32:51.669 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice], [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber], [m].[Id], [m].[CreatedAt], [m].[Description], [m].[ImageData], [m].[ImageUrl], [m].[IsAvailable], [m].[MenuId], [m].[Name], [m].[Price], [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[IsActive], [m0].[Name]
FROM [Orders] AS [o]
INNER JOIN [Tables] AS [t] ON [o].[TableId] = [t].[Id]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[Id]
INNER JOIN [Menus] AS [m0] ON [m].[MenuId] = [m0].[Id]
WHERE [o].[Status] IN (0, 1, 2)
ORDER BY [o].[OrderDate]
2025-08-24 13:33:21.665 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice], [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber], [m].[Id], [m].[CreatedAt], [m].[Description], [m].[ImageData], [m].[ImageUrl], [m].[IsAvailable], [m].[MenuId], [m].[Name], [m].[Price], [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[IsActive], [m0].[Name]
FROM [Orders] AS [o]
INNER JOIN [Tables] AS [t] ON [o].[TableId] = [t].[Id]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[Id]
INNER JOIN [Menus] AS [m0] ON [m].[MenuId] = [m0].[Id]
WHERE [o].[Status] IN (0, 1, 2)
ORDER BY [o].[OrderDate]
2025-08-24 13:33:22.618 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 13:33:22.618 +03:00 [INF] Application is shutting down...
2025-08-24 13:33:22.619 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/_blazor?id=oohhLtFL6Z6gZfhmKOofHA - 101 null null 151023.2456ms
2025-08-24 13:35:06.659 +03:00 [INF] User profile is available. Using 'C:\Users\fatih\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-24 13:35:07.285 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-24 13:35:07.309 +03:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-08-24 13:35:07.494 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-08-24 13:35:07.559 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 13:35:07.597 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 13:35:07.601 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 13:35:07.603 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 13:35:07.605 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 13:35:07.607 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 13:35:07.609 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 13:35:07.674 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 500), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p7='?' (DbType = Int32), @p8='?' (Size = 500), @p9='?' (DbType = DateTime2), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p14='?' (DbType = Int32), @p15='?' (Size = 500), @p16='?' (DbType = DateTime2), @p17='?' (DbType = Int32), @p18='?' (DbType = Int32), @p19='?' (DbType = Int32), @p20='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p21='?' (DbType = Int32), @p22='?' (Size = 500), @p23='?' (DbType = DateTime2), @p24='?' (DbType = Int32), @p25='?' (DbType = Int32), @p26='?' (DbType = Int32), @p27='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p28='?' (DbType = Int32), @p29='?' (Size = 500), @p30='?' (DbType = DateTime2), @p31='?' (DbType = Int32), @p32='?' (DbType = Int32), @p33='?' (DbType = Int32), @p34='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p35='?' (DbType = Int32), @p36='?' (Size = 500), @p37='?' (DbType = DateTime2), @p38='?' (DbType = Int32), @p39='?' (DbType = Int32), @p40='?' (DbType = Int32), @p41='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p42='?' (DbType = Int32), @p43='?' (Size = 500), @p44='?' (DbType = DateTime2), @p45='?' (DbType = Int32), @p46='?' (DbType = Int32), @p47='?' (DbType = Int32), @p48='?' (Precision = 18) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [Orders] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, 0),
(@p7, @p8, @p9, @p10, @p11, @p12, @p13, 1),
(@p14, @p15, @p16, @p17, @p18, @p19, @p20, 2),
(@p21, @p22, @p23, @p24, @p25, @p26, @p27, 3),
(@p28, @p29, @p30, @p31, @p32, @p33, @p34, 4),
(@p35, @p36, @p37, @p38, @p39, @p40, @p41, 5),
(@p42, @p43, @p44, @p45, @p46, @p47, @p48, 6)) AS i ([MenuItemId], [Notes], [OrderDate], [Quantity], [Status], [TableId], [TotalPrice], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([MenuItemId], [Notes], [OrderDate], [Quantity], [Status], [TableId], [TotalPrice])
VALUES (i.[MenuItemId], i.[Notes], i.[OrderDate], i.[Quantity], i.[Status], i.[TableId], i.[TotalPrice])
OUTPUT INSERTED.[Id], i._Position;
2025-08-24 13:35:07.689 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'RestaurantOrdering.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The MERGE statement conflicted with the FOREIGN KEY constraint "FK_Orders_MenuItems_MenuItemId". The conflict occurred in database "RestaurantOrderingDb", table "dbo.MenuItems", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:486ce31b-7aca-4a17-81ed-c69f2eecbaf2
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The MERGE statement conflicted with the FOREIGN KEY constraint "FK_Orders_MenuItems_MenuItemId". The conflict occurred in database "RestaurantOrderingDb", table "dbo.MenuItems", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:486ce31b-7aca-4a17-81ed-c69f2eecbaf2
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-24 13:35:07.696 +03:00 [ERR] An error occurred creating the DB.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The MERGE statement conflicted with the FOREIGN KEY constraint "FK_Orders_MenuItems_MenuItemId". The conflict occurred in database "RestaurantOrderingDb", table "dbo.MenuItems", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:486ce31b-7aca-4a17-81ed-c69f2eecbaf2
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at RestaurantOrdering.Services.TestOrderService.CreateTestOrdersAsync() in C:\Users\fatih\Desktop\AI\Restorant\Services\TestOrderService.cs:line 119
   at Program.<Main>$(String[] args) in C:\Users\fatih\Desktop\AI\Restorant\Program.cs:line 101
2025-08-24 13:35:07.766 +03:00 [INF] Now listening on: http://localhost:5010
2025-08-24 13:35:07.769 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-24 13:35:07.770 +03:00 [INF] Hosting environment: Development
2025-08-24 13:35:07.771 +03:00 [INF] Content root path: C:\Users\fatih\Desktop\AI\Restorant
2025-08-24 13:35:10.368 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/admin/tables - null null
2025-08-24 13:35:10.373 +03:00 [WRN] Failed to determine the https port for redirect.
2025-08-24 13:35:10.396 +03:00 [INF] Executing endpoint '/admin/tables (/admin/tables)'
2025-08-24 13:35:10.439 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
ORDER BY [t].[TableNumber]
2025-08-24 13:35:10.500 +03:00 [INF] Executed endpoint '/admin/tables (/admin/tables)'
2025-08-24 13:35:10.506 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/admin/tables - 200 null text/html; charset=utf-8 139.1849ms
2025-08-24 13:35:10.512 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/app.css - null null
2025-08-24 13:35:10.512 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/_framework/blazor.web.js - null null
2025-08-24 13:35:10.516 +03:00 [INF] The file /app.css was not modified
2025-08-24 13:35:10.517 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/app.css - 304 null text/css 5.045ms
2025-08-24 13:35:10.519 +03:00 [INF] Executing endpoint 'Blazor web static files'
2025-08-24 13:35:10.521 +03:00 [INF] The file /_framework/blazor.web.js was not modified
2025-08-24 13:35:10.522 +03:00 [INF] Executed endpoint 'Blazor web static files'
2025-08-24 13:35:10.522 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/_framework/blazor.web.js - 304 null text/javascript 10.4012ms
2025-08-24 13:35:10.647 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/_blazor/initializers - null null
2025-08-24 13:35:10.657 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 13:35:10.661 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 13:35:10.662 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/_blazor/initializers - 200 null application/json; charset=utf-8 14.4623ms
2025-08-24 13:35:10.665 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5010/_blazor/negotiate?negotiateVersion=1 - null 0
2025-08-24 13:35:10.667 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 13:35:10.673 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 13:35:10.674 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5010/_blazor/negotiate?negotiateVersion=1 - 200 316 application/json 8.9369ms
2025-08-24 13:35:10.676 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/_blazor?id=lichfyNv3Fog2MS84PJQyw - null null
2025-08-24 13:35:10.678 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 13:35:10.781 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
ORDER BY [t].[TableNumber]
2025-08-24 13:35:15.792 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/admin/kitchen - null null
2025-08-24 13:35:15.797 +03:00 [INF] Executing endpoint '/admin/kitchen (/admin/kitchen)'
2025-08-24 13:35:15.881 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice], [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber], [m].[Id], [m].[CreatedAt], [m].[Description], [m].[ImageData], [m].[ImageUrl], [m].[IsAvailable], [m].[MenuId], [m].[Name], [m].[Price], [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[IsActive], [m0].[Name]
FROM [Orders] AS [o]
INNER JOIN [Tables] AS [t] ON [o].[TableId] = [t].[Id]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[Id]
INNER JOIN [Menus] AS [m0] ON [m].[MenuId] = [m0].[Id]
WHERE [o].[Status] IN (0, 1, 2)
ORDER BY [o].[OrderDate]
2025-08-24 13:35:15.985 +03:00 [INF] Executed endpoint '/admin/kitchen (/admin/kitchen)'
2025-08-24 13:35:15.987 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/admin/kitchen - 200 null text/html; charset=utf-8 194.6901ms
2025-08-24 13:35:16.005 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice], [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber], [m].[Id], [m].[CreatedAt], [m].[Description], [m].[ImageData], [m].[ImageUrl], [m].[IsAvailable], [m].[MenuId], [m].[Name], [m].[Price], [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[IsActive], [m0].[Name]
FROM [Orders] AS [o]
INNER JOIN [Tables] AS [t] ON [o].[TableId] = [t].[Id]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[Id]
INNER JOIN [Menus] AS [m0] ON [m].[MenuId] = [m0].[Id]
WHERE [o].[Status] IN (0, 1, 2)
ORDER BY [o].[OrderDate]
2025-08-24 13:35:20.176 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/admin/tables - null null
2025-08-24 13:35:20.180 +03:00 [INF] Executing endpoint '/admin/tables (/admin/tables)'
2025-08-24 13:35:20.187 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
ORDER BY [t].[TableNumber]
2025-08-24 13:35:20.190 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/admin/tables - null null
2025-08-24 13:35:20.191 +03:00 [INF] Executed endpoint '/admin/tables (/admin/tables)'
2025-08-24 13:35:20.193 +03:00 [INF] Executing endpoint '/admin/tables (/admin/tables)'
2025-08-24 13:35:20.193 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/admin/tables - 200 null text/html; charset=utf-8 17.6798ms
2025-08-24 13:35:20.196 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
ORDER BY [t].[TableNumber]
2025-08-24 13:35:20.199 +03:00 [INF] Executed endpoint '/admin/tables (/admin/tables)'
2025-08-24 13:35:20.200 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/admin/tables - 200 null text/html; charset=utf-8 9.3143ms
2025-08-24 13:35:20.210 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
ORDER BY [t].[TableNumber]
2025-08-24 13:35:29.192 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/menu?table=1&category=%C4%B0%C3%A7ecekler - null null
2025-08-24 13:35:29.195 +03:00 [INF] Executing endpoint '/menu (/menu)'
2025-08-24 13:35:29.207 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__tableNumber_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[TableNumber] = @__tableNumber_0
2025-08-24 13:35:29.246 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 13:35:29.421 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 13:35:29.586 +03:00 [INF] Executed endpoint '/menu (/menu)'
2025-08-24 13:35:29.588 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/menu?table=1&category=%C4%B0%C3%A7ecekler - 200 null text/html; charset=utf-8 395.0244ms
2025-08-24 13:35:29.606 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__tableNumber_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[TableNumber] = @__tableNumber_0
2025-08-24 13:35:29.609 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 13:35:29.781 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 13:35:46.094 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice], [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber], [m].[Id], [m].[CreatedAt], [m].[Description], [m].[ImageData], [m].[ImageUrl], [m].[IsAvailable], [m].[MenuId], [m].[Name], [m].[Price], [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[IsActive], [m0].[Name]
FROM [Orders] AS [o]
INNER JOIN [Tables] AS [t] ON [o].[TableId] = [t].[Id]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[Id]
INNER JOIN [Menus] AS [m0] ON [m].[MenuId] = [m0].[Id]
WHERE [o].[Status] IN (0, 1, 2)
ORDER BY [o].[OrderDate]
2025-08-24 13:36:16.089 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice], [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber], [m].[Id], [m].[CreatedAt], [m].[Description], [m].[ImageData], [m].[ImageUrl], [m].[IsAvailable], [m].[MenuId], [m].[Name], [m].[Price], [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[IsActive], [m0].[Name]
FROM [Orders] AS [o]
INNER JOIN [Tables] AS [t] ON [o].[TableId] = [t].[Id]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[Id]
INNER JOIN [Menus] AS [m0] ON [m].[MenuId] = [m0].[Id]
WHERE [o].[Status] IN (0, 1, 2)
ORDER BY [o].[OrderDate]
2025-08-24 13:36:46.086 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice], [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber], [m].[Id], [m].[CreatedAt], [m].[Description], [m].[ImageData], [m].[ImageUrl], [m].[IsAvailable], [m].[MenuId], [m].[Name], [m].[Price], [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[IsActive], [m0].[Name]
FROM [Orders] AS [o]
INNER JOIN [Tables] AS [t] ON [o].[TableId] = [t].[Id]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[Id]
INNER JOIN [Menus] AS [m0] ON [m].[MenuId] = [m0].[Id]
WHERE [o].[Status] IN (0, 1, 2)
ORDER BY [o].[OrderDate]
2025-08-24 13:37:16.090 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice], [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber], [m].[Id], [m].[CreatedAt], [m].[Description], [m].[ImageData], [m].[ImageUrl], [m].[IsAvailable], [m].[MenuId], [m].[Name], [m].[Price], [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[IsActive], [m0].[Name]
FROM [Orders] AS [o]
INNER JOIN [Tables] AS [t] ON [o].[TableId] = [t].[Id]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[Id]
INNER JOIN [Menus] AS [m0] ON [m].[MenuId] = [m0].[Id]
WHERE [o].[Status] IN (0, 1, 2)
ORDER BY [o].[OrderDate]
2025-08-24 13:37:46.094 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice], [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber], [m].[Id], [m].[CreatedAt], [m].[Description], [m].[ImageData], [m].[ImageUrl], [m].[IsAvailable], [m].[MenuId], [m].[Name], [m].[Price], [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[IsActive], [m0].[Name]
FROM [Orders] AS [o]
INNER JOIN [Tables] AS [t] ON [o].[TableId] = [t].[Id]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[Id]
INNER JOIN [Menus] AS [m0] ON [m].[MenuId] = [m0].[Id]
WHERE [o].[Status] IN (0, 1, 2)
ORDER BY [o].[OrderDate]
2025-08-24 13:38:16.089 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice], [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber], [m].[Id], [m].[CreatedAt], [m].[Description], [m].[ImageData], [m].[ImageUrl], [m].[IsAvailable], [m].[MenuId], [m].[Name], [m].[Price], [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[IsActive], [m0].[Name]
FROM [Orders] AS [o]
INNER JOIN [Tables] AS [t] ON [o].[TableId] = [t].[Id]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[Id]
INNER JOIN [Menus] AS [m0] ON [m].[MenuId] = [m0].[Id]
WHERE [o].[Status] IN (0, 1, 2)
ORDER BY [o].[OrderDate]
2025-08-24 13:38:46.093 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice], [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber], [m].[Id], [m].[CreatedAt], [m].[Description], [m].[ImageData], [m].[ImageUrl], [m].[IsAvailable], [m].[MenuId], [m].[Name], [m].[Price], [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[IsActive], [m0].[Name]
FROM [Orders] AS [o]
INNER JOIN [Tables] AS [t] ON [o].[TableId] = [t].[Id]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[Id]
INNER JOIN [Menus] AS [m0] ON [m].[MenuId] = [m0].[Id]
WHERE [o].[Status] IN (0, 1, 2)
ORDER BY [o].[OrderDate]
2025-08-24 13:39:07.450 +03:00 [INF] Application is shutting down...
2025-08-24 13:39:07.450 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 13:39:07.452 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/_blazor?id=lichfyNv3Fog2MS84PJQyw - 101 null null 236775.6362ms
2025-08-24 13:47:33.234 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-24 13:47:33.265 +03:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-08-24 13:47:33.276 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-08-24 13:47:33.312 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-08-24 13:47:33.317 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-24 13:47:33.319 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-08-24 13:47:33.323 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-08-24 13:47:33.330 +03:00 [INF] Applying migration '20250824104651_AddStockManagement'.
2025-08-24 13:47:33.351 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Stocks] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(100) NOT NULL,
    [Description] nvarchar(500) NOT NULL,
    [Category] int NOT NULL,
    [CurrentQuantity] decimal(18,3) NOT NULL,
    [MinimumQuantity] decimal(18,3) NOT NULL,
    [Unit] nvarchar(20) NOT NULL,
    [PurchasePrice] decimal(18,2) NULL,
    [Supplier] nvarchar(100) NULL,
    [CreatedAt] datetime2 NOT NULL,
    [LastUpdated] datetime2 NULL,
    [IsActive] bit NOT NULL,
    CONSTRAINT [PK_Stocks] PRIMARY KEY ([Id])
);
2025-08-24 13:47:33.355 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [StockMovements] (
    [Id] int NOT NULL IDENTITY,
    [StockId] int NOT NULL,
    [Type] int NOT NULL,
    [Quantity] decimal(18,3) NOT NULL,
    [Notes] nvarchar(500) NULL,
    [Reference] nvarchar(100) NULL,
    [UnitPrice] decimal(18,2) NULL,
    [Supplier] nvarchar(100) NULL,
    [CreatedAt] datetime2 NOT NULL,
    [CreatedBy] nvarchar(100) NOT NULL,
    CONSTRAINT [PK_StockMovements] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_StockMovements_Stocks_StockId] FOREIGN KEY ([StockId]) REFERENCES [Stocks] ([Id]) ON DELETE CASCADE
);
2025-08-24 13:47:33.357 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_StockMovements_StockId] ON [StockMovements] ([StockId]);
2025-08-24 13:47:33.359 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20250824104651_AddStockManagement', N'9.0.8');
2025-08-24 13:47:33.362 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-08-24 13:49:17.250 +03:00 [INF] User profile is available. Using 'C:\Users\fatih\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-24 13:49:17.888 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-24 13:49:17.912 +03:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-08-24 13:49:18.112 +03:00 [INF] Executed DbCommand (17ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-08-24 13:49:18.174 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 13:49:18.210 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 13:49:18.215 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 13:49:18.220 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 13:49:18.225 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 13:49:18.230 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 13:49:18.235 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 13:49:18.308 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 500), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p7='?' (DbType = Int32), @p8='?' (Size = 500), @p9='?' (DbType = DateTime2), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p14='?' (DbType = Int32), @p15='?' (Size = 500), @p16='?' (DbType = DateTime2), @p17='?' (DbType = Int32), @p18='?' (DbType = Int32), @p19='?' (DbType = Int32), @p20='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p21='?' (DbType = Int32), @p22='?' (Size = 500), @p23='?' (DbType = DateTime2), @p24='?' (DbType = Int32), @p25='?' (DbType = Int32), @p26='?' (DbType = Int32), @p27='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p28='?' (DbType = Int32), @p29='?' (Size = 500), @p30='?' (DbType = DateTime2), @p31='?' (DbType = Int32), @p32='?' (DbType = Int32), @p33='?' (DbType = Int32), @p34='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p35='?' (DbType = Int32), @p36='?' (Size = 500), @p37='?' (DbType = DateTime2), @p38='?' (DbType = Int32), @p39='?' (DbType = Int32), @p40='?' (DbType = Int32), @p41='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p42='?' (DbType = Int32), @p43='?' (Size = 500), @p44='?' (DbType = DateTime2), @p45='?' (DbType = Int32), @p46='?' (DbType = Int32), @p47='?' (DbType = Int32), @p48='?' (Precision = 18) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [Orders] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, 0),
(@p7, @p8, @p9, @p10, @p11, @p12, @p13, 1),
(@p14, @p15, @p16, @p17, @p18, @p19, @p20, 2),
(@p21, @p22, @p23, @p24, @p25, @p26, @p27, 3),
(@p28, @p29, @p30, @p31, @p32, @p33, @p34, 4),
(@p35, @p36, @p37, @p38, @p39, @p40, @p41, 5),
(@p42, @p43, @p44, @p45, @p46, @p47, @p48, 6)) AS i ([MenuItemId], [Notes], [OrderDate], [Quantity], [Status], [TableId], [TotalPrice], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([MenuItemId], [Notes], [OrderDate], [Quantity], [Status], [TableId], [TotalPrice])
VALUES (i.[MenuItemId], i.[Notes], i.[OrderDate], i.[Quantity], i.[Status], i.[TableId], i.[TotalPrice])
OUTPUT INSERTED.[Id], i._Position;
2025-08-24 13:49:18.324 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'RestaurantOrdering.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The MERGE statement conflicted with the FOREIGN KEY constraint "FK_Orders_MenuItems_MenuItemId". The conflict occurred in database "RestaurantOrderingDb", table "dbo.MenuItems", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:55c0a4df-1eb4-4cbe-8003-7a5570f0aa73
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The MERGE statement conflicted with the FOREIGN KEY constraint "FK_Orders_MenuItems_MenuItemId". The conflict occurred in database "RestaurantOrderingDb", table "dbo.MenuItems", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:55c0a4df-1eb4-4cbe-8003-7a5570f0aa73
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-24 13:49:18.329 +03:00 [ERR] An error occurred creating the DB.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The MERGE statement conflicted with the FOREIGN KEY constraint "FK_Orders_MenuItems_MenuItemId". The conflict occurred in database "RestaurantOrderingDb", table "dbo.MenuItems", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:55c0a4df-1eb4-4cbe-8003-7a5570f0aa73
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at RestaurantOrdering.Services.TestOrderService.CreateTestOrdersAsync() in C:\Users\fatih\Desktop\AI\Restorant\Services\TestOrderService.cs:line 119
   at Program.<Main>$(String[] args) in C:\Users\fatih\Desktop\AI\Restorant\Program.cs:line 103
2025-08-24 13:49:18.408 +03:00 [INF] Now listening on: http://localhost:5010
2025-08-24 13:49:18.411 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-24 13:49:18.412 +03:00 [INF] Hosting environment: Development
2025-08-24 13:49:18.412 +03:00 [INF] Content root path: C:\Users\fatih\Desktop\AI\Restorant
2025-08-24 13:49:42.889 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/menu?table=1&category=%C4%B0%C3%A7ecekler - null null
2025-08-24 13:49:42.893 +03:00 [WRN] Failed to determine the https port for redirect.
2025-08-24 13:49:42.941 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-08-24 13:49:42.966 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-08-24 13:49:42.973 +03:00 [INF] Executing endpoint '/menu (/menu)'
2025-08-24 13:49:43.009 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__tableNumber_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[TableNumber] = @__tableNumber_0
2025-08-24 13:49:43.057 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 13:49:43.201 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 13:49:43.369 +03:00 [INF] Executed endpoint '/menu (/menu)'
2025-08-24 13:49:43.375 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/menu?table=1&category=%C4%B0%C3%A7ecekler - 200 null text/html; charset=utf-8 487.3171ms
2025-08-24 13:49:43.381 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/app.css - null null
2025-08-24 13:49:43.381 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/_framework/blazor.web.js - null null
2025-08-24 13:49:43.384 +03:00 [INF] The file /app.css was not modified
2025-08-24 13:49:43.385 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/app.css - 304 null text/css 4.127ms
2025-08-24 13:49:43.386 +03:00 [INF] Executing endpoint 'Blazor web static files'
2025-08-24 13:49:43.387 +03:00 [INF] The file /_framework/blazor.web.js was not modified
2025-08-24 13:49:43.388 +03:00 [INF] Executed endpoint 'Blazor web static files'
2025-08-24 13:49:43.389 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/_framework/blazor.web.js - 304 null text/javascript 8.152ms
2025-08-24 13:49:43.523 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/_blazor/initializers - null null
2025-08-24 13:49:43.532 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 13:49:43.536 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 13:49:43.536 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/_blazor/initializers - 200 null application/json; charset=utf-8 13.3495ms
2025-08-24 13:49:43.541 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5010/_blazor/negotiate?negotiateVersion=1 - null 0
2025-08-24 13:49:43.543 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 13:49:43.548 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 13:49:43.548 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5010/_blazor/negotiate?negotiateVersion=1 - 200 316 application/json 7.3265ms
2025-08-24 13:49:43.550 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/_blazor?id=RfKPPqRH5Yf9WRkkuleLYQ - null null
2025-08-24 13:49:43.552 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 13:49:43.651 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__tableNumber_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[TableNumber] = @__tableNumber_0
2025-08-24 13:49:43.656 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 13:49:43.767 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 13:49:44.712 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 13:49:44.715 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/admin/stok-yonetimi - null null
2025-08-24 13:49:44.720 +03:00 [INF] Executing endpoint '/admin/stok-yonetimi (/admin/stok-yonetimi)'
2025-08-24 13:49:44.747 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[Category], [s].[CreatedAt], [s].[CurrentQuantity], [s].[Description], [s].[IsActive], [s].[LastUpdated], [s].[MinimumQuantity], [s].[Name], [s].[PurchasePrice], [s].[Supplier], [s].[Unit], [s0].[Id], [s0].[CreatedAt], [s0].[CreatedBy], [s0].[Notes], [s0].[Quantity], [s0].[Reference], [s0].[StockId], [s0].[Supplier], [s0].[Type], [s0].[UnitPrice]
FROM [Stocks] AS [s]
LEFT JOIN [StockMovements] AS [s0] ON [s].[Id] = [s0].[StockId]
WHERE [s].[IsActive] = CAST(1 AS bit)
ORDER BY [s].[Name], [s].[Id]
2025-08-24 13:49:44.754 +03:00 [INF] Executed endpoint '/admin/stok-yonetimi (/admin/stok-yonetimi)'
2025-08-24 13:49:44.755 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/admin/stok-yonetimi - 200 null text/html; charset=utf-8 40.264ms
2025-08-24 13:49:46.792 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5010/_blazor/disconnect - multipart/form-data; boundary=----WebKitFormBoundaryp8iLlF3N70B4LRMp 359
2025-08-24 13:49:46.794 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 13:49:46.796 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 13:49:46.797 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/_blazor?id=RfKPPqRH5Yf9WRkkuleLYQ - 101 null null 3246.9461ms
2025-08-24 13:49:46.804 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 13:49:46.805 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5010/_blazor/disconnect - 200 0 null 13.1945ms
2025-08-24 13:50:57.446 +03:00 [INF] Application is shutting down...
2025-08-24 13:58:08.968 +03:00 [INF] User profile is available. Using 'C:\Users\fatih\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-24 13:58:09.598 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-24 13:58:09.626 +03:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-08-24 13:58:09.828 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-08-24 13:58:09.889 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 13:58:09.920 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 13:58:09.923 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 13:58:09.925 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 13:58:09.927 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 13:58:09.928 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 13:58:09.930 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 13:58:09.995 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 500), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p7='?' (DbType = Int32), @p8='?' (Size = 500), @p9='?' (DbType = DateTime2), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p14='?' (DbType = Int32), @p15='?' (Size = 500), @p16='?' (DbType = DateTime2), @p17='?' (DbType = Int32), @p18='?' (DbType = Int32), @p19='?' (DbType = Int32), @p20='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p21='?' (DbType = Int32), @p22='?' (Size = 500), @p23='?' (DbType = DateTime2), @p24='?' (DbType = Int32), @p25='?' (DbType = Int32), @p26='?' (DbType = Int32), @p27='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p28='?' (DbType = Int32), @p29='?' (Size = 500), @p30='?' (DbType = DateTime2), @p31='?' (DbType = Int32), @p32='?' (DbType = Int32), @p33='?' (DbType = Int32), @p34='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p35='?' (DbType = Int32), @p36='?' (Size = 500), @p37='?' (DbType = DateTime2), @p38='?' (DbType = Int32), @p39='?' (DbType = Int32), @p40='?' (DbType = Int32), @p41='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p42='?' (DbType = Int32), @p43='?' (Size = 500), @p44='?' (DbType = DateTime2), @p45='?' (DbType = Int32), @p46='?' (DbType = Int32), @p47='?' (DbType = Int32), @p48='?' (Precision = 18) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [Orders] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, 0),
(@p7, @p8, @p9, @p10, @p11, @p12, @p13, 1),
(@p14, @p15, @p16, @p17, @p18, @p19, @p20, 2),
(@p21, @p22, @p23, @p24, @p25, @p26, @p27, 3),
(@p28, @p29, @p30, @p31, @p32, @p33, @p34, 4),
(@p35, @p36, @p37, @p38, @p39, @p40, @p41, 5),
(@p42, @p43, @p44, @p45, @p46, @p47, @p48, 6)) AS i ([MenuItemId], [Notes], [OrderDate], [Quantity], [Status], [TableId], [TotalPrice], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([MenuItemId], [Notes], [OrderDate], [Quantity], [Status], [TableId], [TotalPrice])
VALUES (i.[MenuItemId], i.[Notes], i.[OrderDate], i.[Quantity], i.[Status], i.[TableId], i.[TotalPrice])
OUTPUT INSERTED.[Id], i._Position;
2025-08-24 13:58:10.011 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'RestaurantOrdering.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The MERGE statement conflicted with the FOREIGN KEY constraint "FK_Orders_MenuItems_MenuItemId". The conflict occurred in database "RestaurantOrderingDb", table "dbo.MenuItems", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:b54dc0fc-f6f7-47ba-ac6b-113e30e555d4
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The MERGE statement conflicted with the FOREIGN KEY constraint "FK_Orders_MenuItems_MenuItemId". The conflict occurred in database "RestaurantOrderingDb", table "dbo.MenuItems", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:b54dc0fc-f6f7-47ba-ac6b-113e30e555d4
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-24 13:58:10.016 +03:00 [ERR] An error occurred creating the DB.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The MERGE statement conflicted with the FOREIGN KEY constraint "FK_Orders_MenuItems_MenuItemId". The conflict occurred in database "RestaurantOrderingDb", table "dbo.MenuItems", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:b54dc0fc-f6f7-47ba-ac6b-113e30e555d4
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at RestaurantOrdering.Services.TestOrderService.CreateTestOrdersAsync() in C:\Users\fatih\Desktop\AI\Restorant\Services\TestOrderService.cs:line 119
   at Program.<Main>$(String[] args) in C:\Users\fatih\Desktop\AI\Restorant\Program.cs:line 103
2025-08-24 13:58:10.096 +03:00 [INF] Now listening on: http://localhost:5010
2025-08-24 13:58:10.100 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-24 13:58:10.100 +03:00 [INF] Hosting environment: Development
2025-08-24 13:58:10.101 +03:00 [INF] Content root path: C:\Users\fatih\Desktop\AI\Restorant
2025-08-24 13:58:34.633 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/admin/stok-yonetimi - null null
2025-08-24 13:58:34.638 +03:00 [WRN] Failed to determine the https port for redirect.
2025-08-24 13:58:34.665 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/admin/stok-yonetimi - 404 0 null 31.7844ms
2025-08-24 13:58:34.668 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5010/admin/stok-yonetimi, Response status code: 404
2025-08-24 13:58:36.624 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/admin/stok-yonetimi - null null
2025-08-24 13:58:36.630 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/admin/stok-yonetimi - 404 0 null 5.7272ms
2025-08-24 13:58:36.631 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5010/admin/stok-yonetimi, Response status code: 404
2025-08-24 13:58:36.640 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/menu?table=1&category=%C4%B0%C3%A7ecekler - null null
2025-08-24 13:58:36.649 +03:00 [INF] Executing endpoint '/menu (/menu)'
2025-08-24 13:58:36.692 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__tableNumber_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[TableNumber] = @__tableNumber_0
2025-08-24 13:58:36.756 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 13:58:36.894 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 13:58:37.068 +03:00 [INF] Executed endpoint '/menu (/menu)'
2025-08-24 13:58:37.072 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/menu?table=1&category=%C4%B0%C3%A7ecekler - 200 null text/html; charset=utf-8 431.3503ms
2025-08-24 13:58:37.073 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/app.css - null null
2025-08-24 13:58:37.077 +03:00 [INF] The file /app.css was not modified
2025-08-24 13:58:37.078 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/app.css - 304 null text/css 4.3921ms
2025-08-24 13:58:37.096 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5010/_blazor/negotiate?negotiateVersion=1 - null 0
2025-08-24 13:58:37.098 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 13:58:37.102 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 13:58:37.103 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5010/_blazor/negotiate?negotiateVersion=1 - 200 316 application/json 7.0429ms
2025-08-24 13:58:37.105 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/_blazor?id=vLUK2lmnEwbZ5yiTNKRv0Q - null null
2025-08-24 13:58:37.108 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 13:58:37.221 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__tableNumber_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[TableNumber] = @__tableNumber_0
2025-08-24 13:58:37.225 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 13:58:37.356 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 13:58:38.305 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 13:58:38.307 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/admin/stok-yonetimi - null null
2025-08-24 13:58:38.310 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/admin/stok-yonetimi - 404 0 null 2.7942ms
2025-08-24 13:58:38.313 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5010/admin/stok-yonetimi, Response status code: 404
2025-08-24 13:58:40.266 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/menu?table=1&category=%C4%B0%C3%A7ecekler - null null
2025-08-24 13:58:40.269 +03:00 [INF] Executing endpoint '/menu (/menu)'
2025-08-24 13:58:40.279 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__tableNumber_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[TableNumber] = @__tableNumber_0
2025-08-24 13:58:40.281 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 13:58:40.330 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5010/_blazor/disconnect - multipart/form-data; boundary=----WebKitFormBoundaryHHcBdwDQlJn5bAhO 359
2025-08-24 13:58:40.333 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 13:58:40.335 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 13:58:40.336 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/_blazor?id=vLUK2lmnEwbZ5yiTNKRv0Q - 101 null null 3230.6213ms
2025-08-24 13:58:40.342 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 13:58:40.343 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5010/_blazor/disconnect - 200 0 null 13.8689ms
2025-08-24 13:58:40.356 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 13:58:40.412 +03:00 [INF] Executed endpoint '/menu (/menu)'
2025-08-24 13:58:40.413 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/menu?table=1&category=%C4%B0%C3%A7ecekler - 200 null text/html; charset=utf-8 146.9565ms
2025-08-24 13:58:40.427 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5010/_blazor/negotiate?negotiateVersion=1 - null 0
2025-08-24 13:58:40.430 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 13:58:40.431 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 13:58:40.431 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5010/_blazor/negotiate?negotiateVersion=1 - 200 316 application/json 4.0423ms
2025-08-24 13:58:40.434 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/_blazor?id=UBwQMzsqsqGHyuhYOzQR8A - null null
2025-08-24 13:58:40.436 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 13:58:40.448 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__tableNumber_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[TableNumber] = @__tableNumber_0
2025-08-24 13:58:40.450 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 13:58:40.529 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 13:58:41.679 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 13:58:41.684 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/admin/cashier - null null
2025-08-24 13:58:41.694 +03:00 [INF] Executing endpoint '/admin/cashier (/admin/cashier)'
2025-08-24 13:58:41.713 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[IsActive] = CAST(1 AS bit)
ORDER BY [t].[TableNumber]
2025-08-24 13:58:41.741 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Orders] AS [o]
        WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
            SELECT 1
            FROM [PaymentItems] AS [p]
            WHERE [p].[OrderId] = [o].[Id])) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-24 13:58:41.766 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalPrice]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
    SELECT 1
    FROM [PaymentItems] AS [p]
    WHERE [p].[OrderId] = [o].[Id])
2025-08-24 13:58:41.771 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Orders] AS [o]
        WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
            SELECT 1
            FROM [PaymentItems] AS [p]
            WHERE [p].[OrderId] = [o].[Id])) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-24 13:58:41.774 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalPrice]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
    SELECT 1
    FROM [PaymentItems] AS [p]
    WHERE [p].[OrderId] = [o].[Id])
2025-08-24 13:58:41.776 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Orders] AS [o]
        WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
            SELECT 1
            FROM [PaymentItems] AS [p]
            WHERE [p].[OrderId] = [o].[Id])) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-24 13:58:41.779 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalPrice]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
    SELECT 1
    FROM [PaymentItems] AS [p]
    WHERE [p].[OrderId] = [o].[Id])
2025-08-24 13:58:41.781 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Orders] AS [o]
        WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
            SELECT 1
            FROM [PaymentItems] AS [p]
            WHERE [p].[OrderId] = [o].[Id])) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-24 13:58:41.784 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalPrice]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
    SELECT 1
    FROM [PaymentItems] AS [p]
    WHERE [p].[OrderId] = [o].[Id])
2025-08-24 13:58:41.786 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Orders] AS [o]
        WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
            SELECT 1
            FROM [PaymentItems] AS [p]
            WHERE [p].[OrderId] = [o].[Id])) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-24 13:58:41.789 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalPrice]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
    SELECT 1
    FROM [PaymentItems] AS [p]
    WHERE [p].[OrderId] = [o].[Id])
2025-08-24 13:58:41.800 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__startDate_0='?' (DbType = DateTime2), @__endDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([p].[TotalAmount]), 0.0)
FROM [Payments] AS [p]
WHERE [p].[Status] = 2 AND [p].[CompletedAt] >= @__startDate_0 AND [p].[CompletedAt] < @__endDate_1
2025-08-24 13:58:41.812 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__today_0='?' (DbType = DateTime2), @__tomorrow_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Payments] AS [p]
WHERE [p].[Status] = 2 AND [p].[CompletedAt] >= @__today_0 AND [p].[CompletedAt] < @__tomorrow_1
2025-08-24 13:58:41.817 +03:00 [INF] Executed endpoint '/admin/cashier (/admin/cashier)'
2025-08-24 13:58:41.818 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/admin/cashier - 200 null text/html; charset=utf-8 133.9271ms
2025-08-24 13:58:41.836 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[IsActive] = CAST(1 AS bit)
ORDER BY [t].[TableNumber]
2025-08-24 13:58:41.839 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Orders] AS [o]
        WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
            SELECT 1
            FROM [PaymentItems] AS [p]
            WHERE [p].[OrderId] = [o].[Id])) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-24 13:58:41.842 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalPrice]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
    SELECT 1
    FROM [PaymentItems] AS [p]
    WHERE [p].[OrderId] = [o].[Id])
2025-08-24 13:58:41.845 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Orders] AS [o]
        WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
            SELECT 1
            FROM [PaymentItems] AS [p]
            WHERE [p].[OrderId] = [o].[Id])) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-24 13:58:41.849 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalPrice]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
    SELECT 1
    FROM [PaymentItems] AS [p]
    WHERE [p].[OrderId] = [o].[Id])
2025-08-24 13:58:41.852 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Orders] AS [o]
        WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
            SELECT 1
            FROM [PaymentItems] AS [p]
            WHERE [p].[OrderId] = [o].[Id])) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-24 13:58:41.854 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalPrice]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
    SELECT 1
    FROM [PaymentItems] AS [p]
    WHERE [p].[OrderId] = [o].[Id])
2025-08-24 13:58:41.857 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Orders] AS [o]
        WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
            SELECT 1
            FROM [PaymentItems] AS [p]
            WHERE [p].[OrderId] = [o].[Id])) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-24 13:58:41.859 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalPrice]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
    SELECT 1
    FROM [PaymentItems] AS [p]
    WHERE [p].[OrderId] = [o].[Id])
2025-08-24 13:58:41.862 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Orders] AS [o]
        WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
            SELECT 1
            FROM [PaymentItems] AS [p]
            WHERE [p].[OrderId] = [o].[Id])) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-24 13:58:41.864 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalPrice]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
    SELECT 1
    FROM [PaymentItems] AS [p]
    WHERE [p].[OrderId] = [o].[Id])
2025-08-24 13:58:41.866 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__startDate_0='?' (DbType = DateTime2), @__endDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([p].[TotalAmount]), 0.0)
FROM [Payments] AS [p]
WHERE [p].[Status] = 2 AND [p].[CompletedAt] >= @__startDate_0 AND [p].[CompletedAt] < @__endDate_1
2025-08-24 13:58:41.868 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__today_0='?' (DbType = DateTime2), @__tomorrow_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Payments] AS [p]
WHERE [p].[Status] = 2 AND [p].[CompletedAt] >= @__today_0 AND [p].[CompletedAt] < @__tomorrow_1
2025-08-24 13:58:42.767 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/admin/stok-yonetimi - null null
2025-08-24 13:58:42.769 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/admin/stok-yonetimi - 404 0 null 2.3188ms
2025-08-24 13:58:42.772 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5010/admin/stok-yonetimi, Response status code: 404
2025-08-24 13:58:44.776 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 13:58:44.776 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5010/admin/_blazor/disconnect - multipart/form-data; boundary=----WebKitFormBoundaryknq7bcE5CgRPWuKb 359
2025-08-24 13:58:44.777 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/_blazor?id=UBwQMzsqsqGHyuhYOzQR8A - 101 null null 4343.0306ms
2025-08-24 13:58:44.779 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5010/admin/_blazor/disconnect - 404 0 null 2.7406ms
2025-08-24 13:58:44.783 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: POST http://localhost:5010/admin/_blazor/disconnect, Response status code: 404
2025-08-24 13:58:45.442 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/admin/cashier - null null
2025-08-24 13:58:45.446 +03:00 [INF] Executing endpoint '/admin/cashier (/admin/cashier)'
2025-08-24 13:58:45.449 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[IsActive] = CAST(1 AS bit)
ORDER BY [t].[TableNumber]
2025-08-24 13:58:45.452 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Orders] AS [o]
        WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
            SELECT 1
            FROM [PaymentItems] AS [p]
            WHERE [p].[OrderId] = [o].[Id])) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-24 13:58:45.455 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalPrice]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
    SELECT 1
    FROM [PaymentItems] AS [p]
    WHERE [p].[OrderId] = [o].[Id])
2025-08-24 13:58:45.458 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Orders] AS [o]
        WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
            SELECT 1
            FROM [PaymentItems] AS [p]
            WHERE [p].[OrderId] = [o].[Id])) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-24 13:58:45.461 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalPrice]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
    SELECT 1
    FROM [PaymentItems] AS [p]
    WHERE [p].[OrderId] = [o].[Id])
2025-08-24 13:58:45.463 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Orders] AS [o]
        WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
            SELECT 1
            FROM [PaymentItems] AS [p]
            WHERE [p].[OrderId] = [o].[Id])) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-24 13:58:45.465 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalPrice]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
    SELECT 1
    FROM [PaymentItems] AS [p]
    WHERE [p].[OrderId] = [o].[Id])
2025-08-24 13:58:45.467 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Orders] AS [o]
        WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
            SELECT 1
            FROM [PaymentItems] AS [p]
            WHERE [p].[OrderId] = [o].[Id])) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-24 13:58:45.469 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalPrice]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
    SELECT 1
    FROM [PaymentItems] AS [p]
    WHERE [p].[OrderId] = [o].[Id])
2025-08-24 13:58:45.471 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Orders] AS [o]
        WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
            SELECT 1
            FROM [PaymentItems] AS [p]
            WHERE [p].[OrderId] = [o].[Id])) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-24 13:58:45.474 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalPrice]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
    SELECT 1
    FROM [PaymentItems] AS [p]
    WHERE [p].[OrderId] = [o].[Id])
2025-08-24 13:58:45.476 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__startDate_0='?' (DbType = DateTime2), @__endDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([p].[TotalAmount]), 0.0)
FROM [Payments] AS [p]
WHERE [p].[Status] = 2 AND [p].[CompletedAt] >= @__startDate_0 AND [p].[CompletedAt] < @__endDate_1
2025-08-24 13:58:45.479 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__today_0='?' (DbType = DateTime2), @__tomorrow_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Payments] AS [p]
WHERE [p].[Status] = 2 AND [p].[CompletedAt] >= @__today_0 AND [p].[CompletedAt] < @__tomorrow_1
2025-08-24 13:58:45.481 +03:00 [INF] Executed endpoint '/admin/cashier (/admin/cashier)'
2025-08-24 13:58:45.482 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/admin/cashier - 200 null text/html; charset=utf-8 40.0626ms
2025-08-24 13:58:45.492 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5010/_blazor/negotiate?negotiateVersion=1 - null 0
2025-08-24 13:58:45.494 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 13:58:45.496 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 13:58:45.496 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5010/_blazor/negotiate?negotiateVersion=1 - 200 316 application/json 4.3021ms
2025-08-24 13:58:45.498 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/_blazor?id=GSxLeHBIYigvh9bT2z6bCg - null null
2025-08-24 13:58:45.501 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 13:58:45.509 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[IsActive] = CAST(1 AS bit)
ORDER BY [t].[TableNumber]
2025-08-24 13:58:45.511 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Orders] AS [o]
        WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
            SELECT 1
            FROM [PaymentItems] AS [p]
            WHERE [p].[OrderId] = [o].[Id])) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-24 13:58:45.514 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalPrice]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
    SELECT 1
    FROM [PaymentItems] AS [p]
    WHERE [p].[OrderId] = [o].[Id])
2025-08-24 13:58:45.517 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Orders] AS [o]
        WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
            SELECT 1
            FROM [PaymentItems] AS [p]
            WHERE [p].[OrderId] = [o].[Id])) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-24 13:58:45.519 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalPrice]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
    SELECT 1
    FROM [PaymentItems] AS [p]
    WHERE [p].[OrderId] = [o].[Id])
2025-08-24 13:58:45.522 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Orders] AS [o]
        WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
            SELECT 1
            FROM [PaymentItems] AS [p]
            WHERE [p].[OrderId] = [o].[Id])) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-24 13:58:45.525 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalPrice]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
    SELECT 1
    FROM [PaymentItems] AS [p]
    WHERE [p].[OrderId] = [o].[Id])
2025-08-24 13:58:45.527 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Orders] AS [o]
        WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
            SELECT 1
            FROM [PaymentItems] AS [p]
            WHERE [p].[OrderId] = [o].[Id])) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-24 13:58:45.529 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalPrice]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
    SELECT 1
    FROM [PaymentItems] AS [p]
    WHERE [p].[OrderId] = [o].[Id])
2025-08-24 13:58:45.531 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Orders] AS [o]
        WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
            SELECT 1
            FROM [PaymentItems] AS [p]
            WHERE [p].[OrderId] = [o].[Id])) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-24 13:58:45.534 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalPrice]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
    SELECT 1
    FROM [PaymentItems] AS [p]
    WHERE [p].[OrderId] = [o].[Id])
2025-08-24 13:58:45.537 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__startDate_0='?' (DbType = DateTime2), @__endDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([p].[TotalAmount]), 0.0)
FROM [Payments] AS [p]
WHERE [p].[Status] = 2 AND [p].[CompletedAt] >= @__startDate_0 AND [p].[CompletedAt] < @__endDate_1
2025-08-24 13:58:45.540 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__today_0='?' (DbType = DateTime2), @__tomorrow_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Payments] AS [p]
WHERE [p].[Status] = 2 AND [p].[CompletedAt] >= @__today_0 AND [p].[CompletedAt] < @__tomorrow_1
2025-08-24 13:58:47.932 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/admin/stok-yonetimi - null null
2025-08-24 13:58:47.935 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/admin/stok-yonetimi - 404 0 null 2.3998ms
2025-08-24 13:58:47.937 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5010/admin/stok-yonetimi, Response status code: 404
2025-08-24 13:58:49.942 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5010/admin/_blazor/disconnect - multipart/form-data; boundary=----WebKitFormBoundary7V911dORoF6QygpM 359
2025-08-24 13:58:49.942 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 13:58:49.944 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5010/admin/_blazor/disconnect - 404 0 null 2.3458ms
2025-08-24 13:58:49.944 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/_blazor?id=GSxLeHBIYigvh9bT2z6bCg - 101 null null 4446.3954ms
2025-08-24 13:58:49.946 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: POST http://localhost:5010/admin/_blazor/disconnect, Response status code: 404
2025-08-24 13:58:58.386 +03:00 [INF] Application is shutting down...
2025-08-24 14:00:52.028 +03:00 [INF] User profile is available. Using 'C:\Users\fatih\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-24 14:00:52.644 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-24 14:00:52.668 +03:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-08-24 14:00:52.857 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-08-24 14:00:52.914 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 14:00:52.949 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 14:00:52.952 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 14:00:52.954 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 14:00:52.957 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 14:00:52.960 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 14:00:52.962 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 14:00:53.028 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 500), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p7='?' (DbType = Int32), @p8='?' (Size = 500), @p9='?' (DbType = DateTime2), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p14='?' (DbType = Int32), @p15='?' (Size = 500), @p16='?' (DbType = DateTime2), @p17='?' (DbType = Int32), @p18='?' (DbType = Int32), @p19='?' (DbType = Int32), @p20='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p21='?' (DbType = Int32), @p22='?' (Size = 500), @p23='?' (DbType = DateTime2), @p24='?' (DbType = Int32), @p25='?' (DbType = Int32), @p26='?' (DbType = Int32), @p27='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p28='?' (DbType = Int32), @p29='?' (Size = 500), @p30='?' (DbType = DateTime2), @p31='?' (DbType = Int32), @p32='?' (DbType = Int32), @p33='?' (DbType = Int32), @p34='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p35='?' (DbType = Int32), @p36='?' (Size = 500), @p37='?' (DbType = DateTime2), @p38='?' (DbType = Int32), @p39='?' (DbType = Int32), @p40='?' (DbType = Int32), @p41='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p42='?' (DbType = Int32), @p43='?' (Size = 500), @p44='?' (DbType = DateTime2), @p45='?' (DbType = Int32), @p46='?' (DbType = Int32), @p47='?' (DbType = Int32), @p48='?' (Precision = 18) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [Orders] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, 0),
(@p7, @p8, @p9, @p10, @p11, @p12, @p13, 1),
(@p14, @p15, @p16, @p17, @p18, @p19, @p20, 2),
(@p21, @p22, @p23, @p24, @p25, @p26, @p27, 3),
(@p28, @p29, @p30, @p31, @p32, @p33, @p34, 4),
(@p35, @p36, @p37, @p38, @p39, @p40, @p41, 5),
(@p42, @p43, @p44, @p45, @p46, @p47, @p48, 6)) AS i ([MenuItemId], [Notes], [OrderDate], [Quantity], [Status], [TableId], [TotalPrice], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([MenuItemId], [Notes], [OrderDate], [Quantity], [Status], [TableId], [TotalPrice])
VALUES (i.[MenuItemId], i.[Notes], i.[OrderDate], i.[Quantity], i.[Status], i.[TableId], i.[TotalPrice])
OUTPUT INSERTED.[Id], i._Position;
2025-08-24 14:00:53.042 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'RestaurantOrdering.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The MERGE statement conflicted with the FOREIGN KEY constraint "FK_Orders_MenuItems_MenuItemId". The conflict occurred in database "RestaurantOrderingDb", table "dbo.MenuItems", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:9155a164-1d7b-420a-b522-a9bd196b2bfb
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The MERGE statement conflicted with the FOREIGN KEY constraint "FK_Orders_MenuItems_MenuItemId". The conflict occurred in database "RestaurantOrderingDb", table "dbo.MenuItems", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:9155a164-1d7b-420a-b522-a9bd196b2bfb
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-24 14:00:53.047 +03:00 [ERR] An error occurred creating the DB.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The MERGE statement conflicted with the FOREIGN KEY constraint "FK_Orders_MenuItems_MenuItemId". The conflict occurred in database "RestaurantOrderingDb", table "dbo.MenuItems", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:9155a164-1d7b-420a-b522-a9bd196b2bfb
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at RestaurantOrdering.Services.TestOrderService.CreateTestOrdersAsync() in C:\Users\fatih\Desktop\AI\Restorant\Services\TestOrderService.cs:line 119
   at Program.<Main>$(String[] args) in C:\Users\fatih\Desktop\AI\Restorant\Program.cs:line 103
2025-08-24 14:00:53.124 +03:00 [INF] Now listening on: http://localhost:5010
2025-08-24 14:00:53.127 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-24 14:00:53.128 +03:00 [INF] Hosting environment: Development
2025-08-24 14:00:53.128 +03:00 [INF] Content root path: C:\Users\fatih\Desktop\AI\Restorant
2025-08-24 14:01:16.238 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/admin/cashier - null null
2025-08-24 14:01:16.242 +03:00 [WRN] Failed to determine the https port for redirect.
2025-08-24 14:01:16.266 +03:00 [INF] Executing endpoint '/admin/cashier (/admin/cashier)'
2025-08-24 14:01:16.315 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[IsActive] = CAST(1 AS bit)
ORDER BY [t].[TableNumber]
2025-08-24 14:01:16.352 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Orders] AS [o]
        WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
            SELECT 1
            FROM [PaymentItems] AS [p]
            WHERE [p].[OrderId] = [o].[Id])) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-24 14:01:16.372 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalPrice]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
    SELECT 1
    FROM [PaymentItems] AS [p]
    WHERE [p].[OrderId] = [o].[Id])
2025-08-24 14:01:16.377 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Orders] AS [o]
        WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
            SELECT 1
            FROM [PaymentItems] AS [p]
            WHERE [p].[OrderId] = [o].[Id])) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-24 14:01:16.380 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalPrice]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
    SELECT 1
    FROM [PaymentItems] AS [p]
    WHERE [p].[OrderId] = [o].[Id])
2025-08-24 14:01:16.381 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Orders] AS [o]
        WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
            SELECT 1
            FROM [PaymentItems] AS [p]
            WHERE [p].[OrderId] = [o].[Id])) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-24 14:01:16.384 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalPrice]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
    SELECT 1
    FROM [PaymentItems] AS [p]
    WHERE [p].[OrderId] = [o].[Id])
2025-08-24 14:01:16.385 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Orders] AS [o]
        WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
            SELECT 1
            FROM [PaymentItems] AS [p]
            WHERE [p].[OrderId] = [o].[Id])) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-24 14:01:16.388 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalPrice]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
    SELECT 1
    FROM [PaymentItems] AS [p]
    WHERE [p].[OrderId] = [o].[Id])
2025-08-24 14:01:16.390 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Orders] AS [o]
        WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
            SELECT 1
            FROM [PaymentItems] AS [p]
            WHERE [p].[OrderId] = [o].[Id])) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-24 14:01:16.393 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalPrice]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
    SELECT 1
    FROM [PaymentItems] AS [p]
    WHERE [p].[OrderId] = [o].[Id])
2025-08-24 14:01:16.402 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__startDate_0='?' (DbType = DateTime2), @__endDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([p].[TotalAmount]), 0.0)
FROM [Payments] AS [p]
WHERE [p].[Status] = 2 AND [p].[CompletedAt] >= @__startDate_0 AND [p].[CompletedAt] < @__endDate_1
2025-08-24 14:01:16.413 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__today_0='?' (DbType = DateTime2), @__tomorrow_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Payments] AS [p]
WHERE [p].[Status] = 2 AND [p].[CompletedAt] >= @__today_0 AND [p].[CompletedAt] < @__tomorrow_1
2025-08-24 14:01:16.472 +03:00 [INF] Executed endpoint '/admin/cashier (/admin/cashier)'
2025-08-24 14:01:16.477 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/admin/cashier - 200 null text/html; charset=utf-8 240.4812ms
2025-08-24 14:01:16.487 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5010/_blazor/negotiate?negotiateVersion=1 - null 0
2025-08-24 14:01:16.493 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 14:01:16.498 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 14:01:16.499 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5010/_blazor/negotiate?negotiateVersion=1 - 200 316 application/json 11.3979ms
2025-08-24 14:01:16.501 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/_blazor?id=LIDYHWXPWNPAM6tXwRHF6A - null null
2025-08-24 14:01:16.510 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 14:01:16.621 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[IsActive] = CAST(1 AS bit)
ORDER BY [t].[TableNumber]
2025-08-24 14:01:16.625 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Orders] AS [o]
        WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
            SELECT 1
            FROM [PaymentItems] AS [p]
            WHERE [p].[OrderId] = [o].[Id])) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-24 14:01:16.628 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalPrice]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
    SELECT 1
    FROM [PaymentItems] AS [p]
    WHERE [p].[OrderId] = [o].[Id])
2025-08-24 14:01:16.630 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Orders] AS [o]
        WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
            SELECT 1
            FROM [PaymentItems] AS [p]
            WHERE [p].[OrderId] = [o].[Id])) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-24 14:01:16.632 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalPrice]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
    SELECT 1
    FROM [PaymentItems] AS [p]
    WHERE [p].[OrderId] = [o].[Id])
2025-08-24 14:01:16.634 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Orders] AS [o]
        WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
            SELECT 1
            FROM [PaymentItems] AS [p]
            WHERE [p].[OrderId] = [o].[Id])) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-24 14:01:16.635 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalPrice]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
    SELECT 1
    FROM [PaymentItems] AS [p]
    WHERE [p].[OrderId] = [o].[Id])
2025-08-24 14:01:16.637 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Orders] AS [o]
        WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
            SELECT 1
            FROM [PaymentItems] AS [p]
            WHERE [p].[OrderId] = [o].[Id])) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-24 14:01:16.640 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalPrice]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
    SELECT 1
    FROM [PaymentItems] AS [p]
    WHERE [p].[OrderId] = [o].[Id])
2025-08-24 14:01:16.643 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Orders] AS [o]
        WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
            SELECT 1
            FROM [PaymentItems] AS [p]
            WHERE [p].[OrderId] = [o].[Id])) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-24 14:01:16.646 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalPrice]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
    SELECT 1
    FROM [PaymentItems] AS [p]
    WHERE [p].[OrderId] = [o].[Id])
2025-08-24 14:01:16.648 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__startDate_0='?' (DbType = DateTime2), @__endDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([p].[TotalAmount]), 0.0)
FROM [Payments] AS [p]
WHERE [p].[Status] = 2 AND [p].[CompletedAt] >= @__startDate_0 AND [p].[CompletedAt] < @__endDate_1
2025-08-24 14:01:16.652 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__today_0='?' (DbType = DateTime2), @__tomorrow_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Payments] AS [p]
WHERE [p].[Status] = 2 AND [p].[CompletedAt] >= @__today_0 AND [p].[CompletedAt] < @__tomorrow_1
2025-08-24 14:01:17.479 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/admin/stok-yonetimi - null null
2025-08-24 14:01:17.483 +03:00 [INF] Executing endpoint '/admin/stok-yonetimi (/admin/stok-yonetimi)'
2025-08-24 14:01:17.533 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[Category], [s].[CreatedAt], [s].[CurrentQuantity], [s].[Description], [s].[IsActive], [s].[LastUpdated], [s].[MinimumQuantity], [s].[Name], [s].[PurchasePrice], [s].[Supplier], [s].[Unit], [s0].[Id], [s0].[CreatedAt], [s0].[CreatedBy], [s0].[Notes], [s0].[Quantity], [s0].[Reference], [s0].[StockId], [s0].[Supplier], [s0].[Type], [s0].[UnitPrice]
FROM [Stocks] AS [s]
LEFT JOIN [StockMovements] AS [s0] ON [s].[Id] = [s0].[StockId]
WHERE [s].[IsActive] = CAST(1 AS bit)
ORDER BY [s].[Name], [s].[Id]
2025-08-24 14:01:17.542 +03:00 [INF] Executed endpoint '/admin/stok-yonetimi (/admin/stok-yonetimi)'
2025-08-24 14:01:17.543 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/admin/stok-yonetimi - 200 null text/html; charset=utf-8 64.0773ms
2025-08-24 14:01:19.588 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5010/_blazor/disconnect - multipart/form-data; boundary=----WebKitFormBoundaryBF4FMn5MKPfYRRQ0 359
2025-08-24 14:01:19.590 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 14:01:19.590 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 14:01:19.591 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/_blazor?id=LIDYHWXPWNPAM6tXwRHF6A - 101 null null 3090.1341ms
2025-08-24 14:01:19.596 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 14:01:19.597 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5010/_blazor/disconnect - 200 0 null 9.0137ms
2025-08-24 14:01:46.593 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/admin/stok-yonetimi - null null
2025-08-24 14:01:46.596 +03:00 [INF] Executing endpoint '/admin/stok-yonetimi (/admin/stok-yonetimi)'
2025-08-24 14:01:46.603 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[Category], [s].[CreatedAt], [s].[CurrentQuantity], [s].[Description], [s].[IsActive], [s].[LastUpdated], [s].[MinimumQuantity], [s].[Name], [s].[PurchasePrice], [s].[Supplier], [s].[Unit], [s0].[Id], [s0].[CreatedAt], [s0].[CreatedBy], [s0].[Notes], [s0].[Quantity], [s0].[Reference], [s0].[StockId], [s0].[Supplier], [s0].[Type], [s0].[UnitPrice]
FROM [Stocks] AS [s]
LEFT JOIN [StockMovements] AS [s0] ON [s].[Id] = [s0].[StockId]
WHERE [s].[IsActive] = CAST(1 AS bit)
ORDER BY [s].[Name], [s].[Id]
2025-08-24 14:01:46.606 +03:00 [INF] Executed endpoint '/admin/stok-yonetimi (/admin/stok-yonetimi)'
2025-08-24 14:01:46.607 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/admin/stok-yonetimi - 200 null text/html; charset=utf-8 14.0704ms
2025-08-24 14:01:47.867 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/admin/stok-yonetimi - null null
2025-08-24 14:01:47.869 +03:00 [INF] Executing endpoint '/admin/stok-yonetimi (/admin/stok-yonetimi)'
2025-08-24 14:01:47.873 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[Category], [s].[CreatedAt], [s].[CurrentQuantity], [s].[Description], [s].[IsActive], [s].[LastUpdated], [s].[MinimumQuantity], [s].[Name], [s].[PurchasePrice], [s].[Supplier], [s].[Unit], [s0].[Id], [s0].[CreatedAt], [s0].[CreatedBy], [s0].[Notes], [s0].[Quantity], [s0].[Reference], [s0].[StockId], [s0].[Supplier], [s0].[Type], [s0].[UnitPrice]
FROM [Stocks] AS [s]
LEFT JOIN [StockMovements] AS [s0] ON [s].[Id] = [s0].[StockId]
WHERE [s].[IsActive] = CAST(1 AS bit)
ORDER BY [s].[Name], [s].[Id]
2025-08-24 14:01:47.875 +03:00 [INF] Executed endpoint '/admin/stok-yonetimi (/admin/stok-yonetimi)'
2025-08-24 14:01:47.875 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/admin/stok-yonetimi - 200 null text/html; charset=utf-8 8.0014ms
2025-08-24 14:01:48.868 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/admin/stok-yonetimi - null null
2025-08-24 14:01:48.870 +03:00 [INF] Executing endpoint '/admin/stok-yonetimi (/admin/stok-yonetimi)'
2025-08-24 14:01:48.873 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[Category], [s].[CreatedAt], [s].[CurrentQuantity], [s].[Description], [s].[IsActive], [s].[LastUpdated], [s].[MinimumQuantity], [s].[Name], [s].[PurchasePrice], [s].[Supplier], [s].[Unit], [s0].[Id], [s0].[CreatedAt], [s0].[CreatedBy], [s0].[Notes], [s0].[Quantity], [s0].[Reference], [s0].[StockId], [s0].[Supplier], [s0].[Type], [s0].[UnitPrice]
FROM [Stocks] AS [s]
LEFT JOIN [StockMovements] AS [s0] ON [s].[Id] = [s0].[StockId]
WHERE [s].[IsActive] = CAST(1 AS bit)
ORDER BY [s].[Name], [s].[Id]
2025-08-24 14:01:48.875 +03:00 [INF] Executed endpoint '/admin/stok-yonetimi (/admin/stok-yonetimi)'
2025-08-24 14:01:48.875 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/admin/stok-yonetimi - 200 null text/html; charset=utf-8 7.3877ms
2025-08-24 14:01:49.884 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/admin - null null
2025-08-24 14:01:49.885 +03:00 [INF] Executing endpoint '/admin (/admin)'
2025-08-24 14:01:49.915 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice], [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber], [m].[Id], [m].[CreatedAt], [m].[Description], [m].[ImageData], [m].[ImageUrl], [m].[IsAvailable], [m].[MenuId], [m].[Name], [m].[Price], [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[IsActive], [m0].[Name]
FROM [Orders] AS [o]
INNER JOIN [Tables] AS [t] ON [o].[TableId] = [t].[Id]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[Id]
INNER JOIN [Menus] AS [m0] ON [m].[MenuId] = [m0].[Id]
WHERE [o].[Status] IN (0, 1, 2)
ORDER BY [o].[OrderDate]
2025-08-24 14:01:49.985 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__startDate_0='?' (DbType = DateTime2), @__endDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalPrice]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[Status] = 4 AND [o].[OrderDate] >= @__startDate_0 AND [o].[OrderDate] <= @__endDate_1
2025-08-24 14:01:49.988 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[IsActive] = CAST(1 AS bit)
ORDER BY [t].[TableNumber]
2025-08-24 14:01:50.006 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 14:01:50.141 +03:00 [INF] Executed endpoint '/admin (/admin)'
2025-08-24 14:01:50.142 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/admin - 200 null text/html; charset=utf-8 258.6826ms
2025-08-24 14:01:50.156 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5010/_blazor/negotiate?negotiateVersion=1 - null 0
2025-08-24 14:01:50.157 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 14:01:50.158 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 14:01:50.159 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5010/_blazor/negotiate?negotiateVersion=1 - 200 316 application/json 3.1664ms
2025-08-24 14:01:50.160 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/_blazor?id=0vMrKFqkKU77Ii5ZTYYlQw - null null
2025-08-24 14:01:50.162 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 14:01:50.173 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice], [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber], [m].[Id], [m].[CreatedAt], [m].[Description], [m].[ImageData], [m].[ImageUrl], [m].[IsAvailable], [m].[MenuId], [m].[Name], [m].[Price], [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[IsActive], [m0].[Name]
FROM [Orders] AS [o]
INNER JOIN [Tables] AS [t] ON [o].[TableId] = [t].[Id]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[Id]
INNER JOIN [Menus] AS [m0] ON [m].[MenuId] = [m0].[Id]
WHERE [o].[Status] IN (0, 1, 2)
ORDER BY [o].[OrderDate]
2025-08-24 14:01:50.248 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__startDate_0='?' (DbType = DateTime2), @__endDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalPrice]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[Status] = 4 AND [o].[OrderDate] >= @__startDate_0 AND [o].[OrderDate] <= @__endDate_1
2025-08-24 14:01:50.251 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[IsActive] = CAST(1 AS bit)
ORDER BY [t].[TableNumber]
2025-08-24 14:01:50.252 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 14:01:53.675 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/admin - null null
2025-08-24 14:01:53.677 +03:00 [INF] Executing endpoint '/admin (/admin)'
2025-08-24 14:01:53.680 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice], [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber], [m].[Id], [m].[CreatedAt], [m].[Description], [m].[ImageData], [m].[ImageUrl], [m].[IsAvailable], [m].[MenuId], [m].[Name], [m].[Price], [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[IsActive], [m0].[Name]
FROM [Orders] AS [o]
INNER JOIN [Tables] AS [t] ON [o].[TableId] = [t].[Id]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[Id]
INNER JOIN [Menus] AS [m0] ON [m].[MenuId] = [m0].[Id]
WHERE [o].[Status] IN (0, 1, 2)
ORDER BY [o].[OrderDate]
2025-08-24 14:01:53.746 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__startDate_0='?' (DbType = DateTime2), @__endDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalPrice]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[Status] = 4 AND [o].[OrderDate] >= @__startDate_0 AND [o].[OrderDate] <= @__endDate_1
2025-08-24 14:01:53.748 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[IsActive] = CAST(1 AS bit)
ORDER BY [t].[TableNumber]
2025-08-24 14:01:53.750 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 14:01:53.893 +03:00 [INF] Executed endpoint '/admin (/admin)'
2025-08-24 14:01:53.894 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/admin - 200 null text/html; charset=utf-8 218.5692ms
2025-08-24 14:01:53.897 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 14:01:53.897 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/_blazor?id=0vMrKFqkKU77Ii5ZTYYlQw - 101 null null 3737.0621ms
2025-08-24 14:01:53.901 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/_framework/blazor.web.js - null null
2025-08-24 14:01:53.903 +03:00 [INF] Executing endpoint 'Blazor web static files'
2025-08-24 14:01:53.907 +03:00 [INF] The file /_framework/blazor.web.js was not modified
2025-08-24 14:01:53.908 +03:00 [INF] Executed endpoint 'Blazor web static files'
2025-08-24 14:01:53.908 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/_framework/blazor.web.js - 304 null text/javascript 7.0963ms
2025-08-24 14:01:54.017 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/_blazor/initializers - null null
2025-08-24 14:01:54.019 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 14:01:54.024 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 14:01:54.025 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/_blazor/initializers - 200 null application/json; charset=utf-8 7.3637ms
2025-08-24 14:01:54.028 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5010/_blazor/negotiate?negotiateVersion=1 - null 0
2025-08-24 14:01:54.030 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 14:01:54.031 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 14:01:54.031 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5010/_blazor/negotiate?negotiateVersion=1 - 200 316 application/json 2.9514ms
2025-08-24 14:01:54.033 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/_blazor?id=Bn-E6vEudZlolG-xsUp1yw - null null
2025-08-24 14:01:54.034 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 14:01:54.044 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice], [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber], [m].[Id], [m].[CreatedAt], [m].[Description], [m].[ImageData], [m].[ImageUrl], [m].[IsAvailable], [m].[MenuId], [m].[Name], [m].[Price], [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[IsActive], [m0].[Name]
FROM [Orders] AS [o]
INNER JOIN [Tables] AS [t] ON [o].[TableId] = [t].[Id]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[Id]
INNER JOIN [Menus] AS [m0] ON [m].[MenuId] = [m0].[Id]
WHERE [o].[Status] IN (0, 1, 2)
ORDER BY [o].[OrderDate]
2025-08-24 14:01:54.102 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__startDate_0='?' (DbType = DateTime2), @__endDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalPrice]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[Status] = 4 AND [o].[OrderDate] >= @__startDate_0 AND [o].[OrderDate] <= @__endDate_1
2025-08-24 14:01:54.103 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[IsActive] = CAST(1 AS bit)
ORDER BY [t].[TableNumber]
2025-08-24 14:01:54.105 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 14:01:58.109 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/admin/stok-yonetimi - null null
2025-08-24 14:01:58.110 +03:00 [INF] Executing endpoint '/admin/stok-yonetimi (/admin/stok-yonetimi)'
2025-08-24 14:01:58.113 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[Category], [s].[CreatedAt], [s].[CurrentQuantity], [s].[Description], [s].[IsActive], [s].[LastUpdated], [s].[MinimumQuantity], [s].[Name], [s].[PurchasePrice], [s].[Supplier], [s].[Unit], [s0].[Id], [s0].[CreatedAt], [s0].[CreatedBy], [s0].[Notes], [s0].[Quantity], [s0].[Reference], [s0].[StockId], [s0].[Supplier], [s0].[Type], [s0].[UnitPrice]
FROM [Stocks] AS [s]
LEFT JOIN [StockMovements] AS [s0] ON [s].[Id] = [s0].[StockId]
WHERE [s].[IsActive] = CAST(1 AS bit)
ORDER BY [s].[Name], [s].[Id]
2025-08-24 14:01:58.114 +03:00 [INF] Executed endpoint '/admin/stok-yonetimi (/admin/stok-yonetimi)'
2025-08-24 14:01:58.115 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/admin/stok-yonetimi - 200 null text/html; charset=utf-8 6.0822ms
2025-08-24 14:02:00.139 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 14:02:00.140 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/_blazor?id=Bn-E6vEudZlolG-xsUp1yw - 101 null null 6106.5856ms
2025-08-24 14:02:00.140 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5010/_blazor/disconnect - multipart/form-data; boundary=----WebKitFormBoundary8yqSLSdSL3kvHw5o 359
2025-08-24 14:02:00.142 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 14:02:00.143 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 14:02:00.144 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5010/_blazor/disconnect - 200 0 null 3.8982ms
2025-08-24 14:02:01.132 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/admin/orders - null null
2025-08-24 14:02:01.134 +03:00 [INF] Executing endpoint '/admin/orders (/admin/orders)'
2025-08-24 14:02:01.136 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[IsActive] = CAST(1 AS bit)
ORDER BY [t].[TableNumber]
2025-08-24 14:02:01.157 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[TableId], [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[Status] IN (0, 1, 2, 3)
ORDER BY [o].[TableId]
2025-08-24 14:02:01.162 +03:00 [INF] Executed endpoint '/admin/orders (/admin/orders)'
2025-08-24 14:02:01.162 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/admin/orders - 200 null text/html; charset=utf-8 30.5439ms
2025-08-24 14:02:01.182 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5010/_blazor/negotiate?negotiateVersion=1 - null 0
2025-08-24 14:02:01.184 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 14:02:01.184 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 14:02:01.185 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5010/_blazor/negotiate?negotiateVersion=1 - 200 316 application/json 2.5177ms
2025-08-24 14:02:01.187 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/_blazor?id=-bPKwcfOS7fwilbUti9rTw - null null
2025-08-24 14:02:01.189 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 14:02:01.198 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[IsActive] = CAST(1 AS bit)
ORDER BY [t].[TableNumber]
2025-08-24 14:02:01.200 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[TableId], [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[Status] IN (0, 1, 2, 3)
ORDER BY [o].[TableId]
2025-08-24 14:02:02.796 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/admin/stok-yonetimi - null null
2025-08-24 14:02:02.798 +03:00 [INF] Executing endpoint '/admin/stok-yonetimi (/admin/stok-yonetimi)'
2025-08-24 14:02:02.800 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[Category], [s].[CreatedAt], [s].[CurrentQuantity], [s].[Description], [s].[IsActive], [s].[LastUpdated], [s].[MinimumQuantity], [s].[Name], [s].[PurchasePrice], [s].[Supplier], [s].[Unit], [s0].[Id], [s0].[CreatedAt], [s0].[CreatedBy], [s0].[Notes], [s0].[Quantity], [s0].[Reference], [s0].[StockId], [s0].[Supplier], [s0].[Type], [s0].[UnitPrice]
FROM [Stocks] AS [s]
LEFT JOIN [StockMovements] AS [s0] ON [s].[Id] = [s0].[StockId]
WHERE [s].[IsActive] = CAST(1 AS bit)
ORDER BY [s].[Name], [s].[Id]
2025-08-24 14:02:02.802 +03:00 [INF] Executed endpoint '/admin/stok-yonetimi (/admin/stok-yonetimi)'
2025-08-24 14:02:02.803 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/admin/stok-yonetimi - 200 null text/html; charset=utf-8 5.9926ms
2025-08-24 14:02:02.824 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/admin/stok-yonetimi - null null
2025-08-24 14:02:02.826 +03:00 [INF] Executing endpoint '/admin/stok-yonetimi (/admin/stok-yonetimi)'
2025-08-24 14:02:02.828 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[Category], [s].[CreatedAt], [s].[CurrentQuantity], [s].[Description], [s].[IsActive], [s].[LastUpdated], [s].[MinimumQuantity], [s].[Name], [s].[PurchasePrice], [s].[Supplier], [s].[Unit], [s0].[Id], [s0].[CreatedAt], [s0].[CreatedBy], [s0].[Notes], [s0].[Quantity], [s0].[Reference], [s0].[StockId], [s0].[Supplier], [s0].[Type], [s0].[UnitPrice]
FROM [Stocks] AS [s]
LEFT JOIN [StockMovements] AS [s0] ON [s].[Id] = [s0].[StockId]
WHERE [s].[IsActive] = CAST(1 AS bit)
ORDER BY [s].[Name], [s].[Id]
2025-08-24 14:02:02.830 +03:00 [INF] Executed endpoint '/admin/stok-yonetimi (/admin/stok-yonetimi)'
2025-08-24 14:02:02.831 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/admin/stok-yonetimi - 200 null text/html; charset=utf-8 6.0744ms
2025-08-24 14:02:04.156 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/admin/tables - null null
2025-08-24 14:02:04.158 +03:00 [INF] Executing endpoint '/admin/tables (/admin/tables)'
2025-08-24 14:02:04.165 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
ORDER BY [t].[TableNumber]
2025-08-24 14:02:04.167 +03:00 [INF] Executed endpoint '/admin/tables (/admin/tables)'
2025-08-24 14:02:04.168 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/admin/tables - 200 null text/html; charset=utf-8 12.1498ms
2025-08-24 14:02:04.181 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
ORDER BY [t].[TableNumber]
2025-08-24 14:02:05.133 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/admin/stok-yonetimi - null null
2025-08-24 14:02:05.134 +03:00 [INF] Executing endpoint '/admin/stok-yonetimi (/admin/stok-yonetimi)'
2025-08-24 14:02:05.136 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[Category], [s].[CreatedAt], [s].[CurrentQuantity], [s].[Description], [s].[IsActive], [s].[LastUpdated], [s].[MinimumQuantity], [s].[Name], [s].[PurchasePrice], [s].[Supplier], [s].[Unit], [s0].[Id], [s0].[CreatedAt], [s0].[CreatedBy], [s0].[Notes], [s0].[Quantity], [s0].[Reference], [s0].[StockId], [s0].[Supplier], [s0].[Type], [s0].[UnitPrice]
FROM [Stocks] AS [s]
LEFT JOIN [StockMovements] AS [s0] ON [s].[Id] = [s0].[StockId]
WHERE [s].[IsActive] = CAST(1 AS bit)
ORDER BY [s].[Name], [s].[Id]
2025-08-24 14:02:05.137 +03:00 [INF] Executed endpoint '/admin/stok-yonetimi (/admin/stok-yonetimi)'
2025-08-24 14:02:05.138 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/admin/stok-yonetimi - 200 null text/html; charset=utf-8 5.2331ms
2025-08-24 14:02:07.152 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 14:02:07.152 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5010/_blazor/disconnect - multipart/form-data; boundary=----WebKitFormBoundary624ztdRVTiXZgtkZ 359
2025-08-24 14:02:07.152 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/_blazor?id=-bPKwcfOS7fwilbUti9rTw - 101 null null 5965.5886ms
2025-08-24 14:02:07.153 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 14:02:07.156 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 14:02:07.156 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5010/_blazor/disconnect - 200 0 null 3.9176ms
2025-08-24 14:02:07.696 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/ - null null
2025-08-24 14:02:07.697 +03:00 [INF] Executing endpoint '/ (/)'
2025-08-24 14:02:07.699 +03:00 [INF] Executed endpoint '/ (/)'
2025-08-24 14:02:07.699 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/ - 200 null text/html; charset=utf-8 3.7344ms
2025-08-24 14:03:14.125 +03:00 [INF] Application is shutting down...
2025-08-24 14:04:37.427 +03:00 [INF] User profile is available. Using 'C:\Users\fatih\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-24 14:04:38.068 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-24 14:04:38.093 +03:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-08-24 14:04:38.277 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-08-24 14:04:38.340 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 14:04:38.372 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 14:04:38.375 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 14:04:38.376 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 14:04:38.378 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 14:04:38.379 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 14:04:38.380 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 14:04:38.441 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 500), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p7='?' (DbType = Int32), @p8='?' (Size = 500), @p9='?' (DbType = DateTime2), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p14='?' (DbType = Int32), @p15='?' (Size = 500), @p16='?' (DbType = DateTime2), @p17='?' (DbType = Int32), @p18='?' (DbType = Int32), @p19='?' (DbType = Int32), @p20='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p21='?' (DbType = Int32), @p22='?' (Size = 500), @p23='?' (DbType = DateTime2), @p24='?' (DbType = Int32), @p25='?' (DbType = Int32), @p26='?' (DbType = Int32), @p27='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p28='?' (DbType = Int32), @p29='?' (Size = 500), @p30='?' (DbType = DateTime2), @p31='?' (DbType = Int32), @p32='?' (DbType = Int32), @p33='?' (DbType = Int32), @p34='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p35='?' (DbType = Int32), @p36='?' (Size = 500), @p37='?' (DbType = DateTime2), @p38='?' (DbType = Int32), @p39='?' (DbType = Int32), @p40='?' (DbType = Int32), @p41='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p42='?' (DbType = Int32), @p43='?' (Size = 500), @p44='?' (DbType = DateTime2), @p45='?' (DbType = Int32), @p46='?' (DbType = Int32), @p47='?' (DbType = Int32), @p48='?' (Precision = 18) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [Orders] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, 0),
(@p7, @p8, @p9, @p10, @p11, @p12, @p13, 1),
(@p14, @p15, @p16, @p17, @p18, @p19, @p20, 2),
(@p21, @p22, @p23, @p24, @p25, @p26, @p27, 3),
(@p28, @p29, @p30, @p31, @p32, @p33, @p34, 4),
(@p35, @p36, @p37, @p38, @p39, @p40, @p41, 5),
(@p42, @p43, @p44, @p45, @p46, @p47, @p48, 6)) AS i ([MenuItemId], [Notes], [OrderDate], [Quantity], [Status], [TableId], [TotalPrice], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([MenuItemId], [Notes], [OrderDate], [Quantity], [Status], [TableId], [TotalPrice])
VALUES (i.[MenuItemId], i.[Notes], i.[OrderDate], i.[Quantity], i.[Status], i.[TableId], i.[TotalPrice])
OUTPUT INSERTED.[Id], i._Position;
2025-08-24 14:04:38.457 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'RestaurantOrdering.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The MERGE statement conflicted with the FOREIGN KEY constraint "FK_Orders_MenuItems_MenuItemId". The conflict occurred in database "RestaurantOrderingDb", table "dbo.MenuItems", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:10c09f54-3388-4cec-836d-edd38cc7194d
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The MERGE statement conflicted with the FOREIGN KEY constraint "FK_Orders_MenuItems_MenuItemId". The conflict occurred in database "RestaurantOrderingDb", table "dbo.MenuItems", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:10c09f54-3388-4cec-836d-edd38cc7194d
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-24 14:04:38.462 +03:00 [ERR] An error occurred creating the DB.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The MERGE statement conflicted with the FOREIGN KEY constraint "FK_Orders_MenuItems_MenuItemId". The conflict occurred in database "RestaurantOrderingDb", table "dbo.MenuItems", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:10c09f54-3388-4cec-836d-edd38cc7194d
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at RestaurantOrdering.Services.TestOrderService.CreateTestOrdersAsync() in C:\Users\fatih\Desktop\AI\Restorant\Services\TestOrderService.cs:line 119
   at Program.<Main>$(String[] args) in C:\Users\fatih\Desktop\AI\Restorant\Program.cs:line 103
2025-08-24 14:04:38.535 +03:00 [INF] Now listening on: http://localhost:5010
2025-08-24 14:04:38.537 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-24 14:04:38.538 +03:00 [INF] Hosting environment: Development
2025-08-24 14:04:38.539 +03:00 [INF] Content root path: C:\Users\fatih\Desktop\AI\Restorant
2025-08-24 14:04:38.644 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/ - null null
2025-08-24 14:04:38.648 +03:00 [WRN] Failed to determine the https port for redirect.
2025-08-24 14:04:38.671 +03:00 [INF] Executing endpoint '/ (/)'
2025-08-24 14:04:38.722 +03:00 [INF] Executed endpoint '/ (/)'
2025-08-24 14:04:38.725 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/ - 200 null text/html; charset=utf-8 81.8003ms
2025-08-24 14:04:38.734 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/app.css - null null
2025-08-24 14:04:38.737 +03:00 [INF] The file /app.css was not modified
2025-08-24 14:04:38.738 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/app.css - 304 null text/css 4.3042ms
2025-08-24 14:04:38.791 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/_framework/blazor.web.js - null null
2025-08-24 14:04:38.795 +03:00 [INF] Executing endpoint 'Blazor web static files'
2025-08-24 14:04:38.796 +03:00 [INF] The file /_framework/blazor.web.js was not modified
2025-08-24 14:04:38.797 +03:00 [INF] Executed endpoint 'Blazor web static files'
2025-08-24 14:04:38.797 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/_framework/blazor.web.js - 304 null text/javascript 6.6136ms
2025-08-24 14:04:46.029 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/admin/stok-yonetimi - null null
2025-08-24 14:04:46.040 +03:00 [INF] Executing endpoint '/admin/stok-yonetimi (/admin/stok-yonetimi)'
2025-08-24 14:04:46.108 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[Category], [s].[CreatedAt], [s].[CurrentQuantity], [s].[Description], [s].[IsActive], [s].[LastUpdated], [s].[MinimumQuantity], [s].[Name], [s].[PurchasePrice], [s].[Supplier], [s].[Unit], [s0].[Id], [s0].[CreatedAt], [s0].[CreatedBy], [s0].[Notes], [s0].[Quantity], [s0].[Reference], [s0].[StockId], [s0].[Supplier], [s0].[Type], [s0].[UnitPrice]
FROM [Stocks] AS [s]
LEFT JOIN [StockMovements] AS [s0] ON [s].[Id] = [s0].[StockId]
WHERE [s].[IsActive] = CAST(1 AS bit)
ORDER BY [s].[Name], [s].[Id]
2025-08-24 14:04:46.121 +03:00 [INF] Executed endpoint '/admin/stok-yonetimi (/admin/stok-yonetimi)'
2025-08-24 14:04:46.123 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/admin/stok-yonetimi - 200 null text/html; charset=utf-8 93.7558ms
2025-08-24 14:05:27.535 +03:00 [INF] Application is shutting down...
2025-08-24 14:06:50.654 +03:00 [INF] User profile is available. Using 'C:\Users\fatih\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-24 14:06:51.282 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-24 14:06:51.306 +03:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-08-24 14:06:51.493 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-08-24 14:06:51.553 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 14:06:51.585 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 14:06:51.587 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 14:06:51.589 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 14:06:51.591 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 14:06:51.593 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 14:06:51.594 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 14:06:51.659 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 500), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p7='?' (DbType = Int32), @p8='?' (Size = 500), @p9='?' (DbType = DateTime2), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p14='?' (DbType = Int32), @p15='?' (Size = 500), @p16='?' (DbType = DateTime2), @p17='?' (DbType = Int32), @p18='?' (DbType = Int32), @p19='?' (DbType = Int32), @p20='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p21='?' (DbType = Int32), @p22='?' (Size = 500), @p23='?' (DbType = DateTime2), @p24='?' (DbType = Int32), @p25='?' (DbType = Int32), @p26='?' (DbType = Int32), @p27='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p28='?' (DbType = Int32), @p29='?' (Size = 500), @p30='?' (DbType = DateTime2), @p31='?' (DbType = Int32), @p32='?' (DbType = Int32), @p33='?' (DbType = Int32), @p34='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p35='?' (DbType = Int32), @p36='?' (Size = 500), @p37='?' (DbType = DateTime2), @p38='?' (DbType = Int32), @p39='?' (DbType = Int32), @p40='?' (DbType = Int32), @p41='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p42='?' (DbType = Int32), @p43='?' (Size = 500), @p44='?' (DbType = DateTime2), @p45='?' (DbType = Int32), @p46='?' (DbType = Int32), @p47='?' (DbType = Int32), @p48='?' (Precision = 18) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [Orders] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, 0),
(@p7, @p8, @p9, @p10, @p11, @p12, @p13, 1),
(@p14, @p15, @p16, @p17, @p18, @p19, @p20, 2),
(@p21, @p22, @p23, @p24, @p25, @p26, @p27, 3),
(@p28, @p29, @p30, @p31, @p32, @p33, @p34, 4),
(@p35, @p36, @p37, @p38, @p39, @p40, @p41, 5),
(@p42, @p43, @p44, @p45, @p46, @p47, @p48, 6)) AS i ([MenuItemId], [Notes], [OrderDate], [Quantity], [Status], [TableId], [TotalPrice], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([MenuItemId], [Notes], [OrderDate], [Quantity], [Status], [TableId], [TotalPrice])
VALUES (i.[MenuItemId], i.[Notes], i.[OrderDate], i.[Quantity], i.[Status], i.[TableId], i.[TotalPrice])
OUTPUT INSERTED.[Id], i._Position;
2025-08-24 14:06:51.674 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'RestaurantOrdering.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The MERGE statement conflicted with the FOREIGN KEY constraint "FK_Orders_MenuItems_MenuItemId". The conflict occurred in database "RestaurantOrderingDb", table "dbo.MenuItems", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:432d5be0-e46d-4f2e-9ce9-3fb825996b11
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The MERGE statement conflicted with the FOREIGN KEY constraint "FK_Orders_MenuItems_MenuItemId". The conflict occurred in database "RestaurantOrderingDb", table "dbo.MenuItems", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:432d5be0-e46d-4f2e-9ce9-3fb825996b11
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-24 14:06:51.680 +03:00 [ERR] An error occurred creating the DB.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The MERGE statement conflicted with the FOREIGN KEY constraint "FK_Orders_MenuItems_MenuItemId". The conflict occurred in database "RestaurantOrderingDb", table "dbo.MenuItems", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:432d5be0-e46d-4f2e-9ce9-3fb825996b11
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at RestaurantOrdering.Services.TestOrderService.CreateTestOrdersAsync() in C:\Users\fatih\Desktop\AI\Restorant\Services\TestOrderService.cs:line 119
   at Program.<Main>$(String[] args) in C:\Users\fatih\Desktop\AI\Restorant\Program.cs:line 103
2025-08-24 14:06:51.745 +03:00 [INF] Now listening on: http://localhost:5010
2025-08-24 14:06:51.748 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-24 14:06:51.749 +03:00 [INF] Hosting environment: Development
2025-08-24 14:06:51.749 +03:00 [INF] Content root path: C:\Users\fatih\Desktop\AI\Restorant
2025-08-24 14:07:57.797 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/admin/stok-yonetimi?id=895c99fa-2946-4dc5-91d2-bd81f4df3cd7&vscodeBrowserReqId=1756033677772 - null null
2025-08-24 14:07:57.801 +03:00 [WRN] Failed to determine the https port for redirect.
2025-08-24 14:07:57.823 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-24 14:07:57.828 +03:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2025-08-24 14:07:57.830 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/admin/stok-yonetimi?id=895c99fa-2946-4dc5-91d2-bd81f4df3cd7&vscodeBrowserReqId=1756033677772 - 302 0 null 34.0513ms
2025-08-24 14:07:57.834 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/Identity/Account/Login?ReturnUrl=%2Fadmin%2Fstok-yonetimi%3Fid%3D895c99fa-2946-4dc5-91d2-bd81f4df3cd7%26vscodeBrowserReqId%3D1756033677772 - null null
2025-08-24 14:07:57.838 +03:00 [INF] Executing endpoint '/Account/Login'
2025-08-24 14:07:57.853 +03:00 [INF] Route matched with {page = "/Account/Login", area = "Identity"}. Executing page /Account/Login
2025-08-24 14:07:57.863 +03:00 [INF] Executing handler method Microsoft.AspNetCore.Identity.UI.V5.Pages.Account.Internal.LoginModel.OnGetAsync - ModelState is "Valid"
2025-08-24 14:07:57.866 +03:00 [INF] AuthenticationScheme: Identity.External signed out.
2025-08-24 14:07:57.867 +03:00 [INF] Executed handler method OnGetAsync, returned result .
2025-08-24 14:07:57.869 +03:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2025-08-24 14:07:57.870 +03:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2025-08-24 14:07:57.927 +03:00 [INF] Executed page /Account/Login in 72.4536ms
2025-08-24 14:07:57.928 +03:00 [INF] Executed endpoint '/Account/Login'
2025-08-24 14:07:57.930 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/Identity/Account/Login?ReturnUrl=%2Fadmin%2Fstok-yonetimi%3Fid%3D895c99fa-2946-4dc5-91d2-bd81f4df3cd7%26vscodeBrowserReqId%3D1756033677772 - 200 null text/html; charset=utf-8 96.2741ms
2025-08-24 14:08:02.639 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/ - null null
2025-08-24 14:08:02.644 +03:00 [INF] Executing endpoint '/ (/)'
2025-08-24 14:08:02.677 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/ - null null
2025-08-24 14:08:02.679 +03:00 [INF] Executing endpoint '/ (/)'
2025-08-24 14:08:02.698 +03:00 [INF] Executed endpoint '/ (/)'
2025-08-24 14:08:02.698 +03:00 [INF] Executed endpoint '/ (/)'
2025-08-24 14:08:02.700 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/ - 200 null text/html; charset=utf-8 61.5546ms
2025-08-24 14:08:02.700 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/ - 200 null text/html; charset=utf-8 23.3613ms
2025-08-24 14:08:04.613 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/admin/stok-yonetimi - null null
2025-08-24 14:08:04.621 +03:00 [INF] Executing endpoint '/admin/stok-yonetimi (/admin/stok-yonetimi)'
2025-08-24 14:08:04.690 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[Category], [s].[CreatedAt], [s].[CurrentQuantity], [s].[Description], [s].[IsActive], [s].[LastUpdated], [s].[MinimumQuantity], [s].[Name], [s].[PurchasePrice], [s].[Supplier], [s].[Unit], [s0].[Id], [s0].[CreatedAt], [s0].[CreatedBy], [s0].[Notes], [s0].[Quantity], [s0].[Reference], [s0].[StockId], [s0].[Supplier], [s0].[Type], [s0].[UnitPrice]
FROM [Stocks] AS [s]
LEFT JOIN [StockMovements] AS [s0] ON [s].[Id] = [s0].[StockId]
WHERE [s].[IsActive] = CAST(1 AS bit)
ORDER BY [s].[Name], [s].[Id]
2025-08-24 14:08:04.702 +03:00 [INF] Executed endpoint '/admin/stok-yonetimi (/admin/stok-yonetimi)'
2025-08-24 14:08:04.705 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/admin/stok-yonetimi - 200 null text/html; charset=utf-8 91.9415ms
2025-08-24 14:08:12.797 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/.well-known/appspecific/com.chrome.devtools.json - null null
2025-08-24 14:08:12.801 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/.well-known/appspecific/com.chrome.devtools.json - 404 0 null 3.6605ms
2025-08-24 14:08:12.803 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5010/.well-known/appspecific/com.chrome.devtools.json, Response status code: 404
2025-08-24 14:08:44.003 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/.well-known/appspecific/com.chrome.devtools.json - null null
2025-08-24 14:08:44.005 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/.well-known/appspecific/com.chrome.devtools.json - 404 0 null 2.8656ms
2025-08-24 14:08:44.007 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5010/.well-known/appspecific/com.chrome.devtools.json, Response status code: 404
2025-08-24 14:09:16.936 +03:00 [INF] User profile is available. Using 'C:\Users\fatih\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-24 14:09:17.602 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-24 14:09:17.629 +03:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-08-24 14:09:17.823 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-08-24 14:09:17.886 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 14:09:17.921 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 14:09:17.924 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 14:09:17.926 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 14:09:17.927 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 14:09:17.929 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 14:09:17.930 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 14:09:17.995 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 500), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p7='?' (DbType = Int32), @p8='?' (Size = 500), @p9='?' (DbType = DateTime2), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p14='?' (DbType = Int32), @p15='?' (Size = 500), @p16='?' (DbType = DateTime2), @p17='?' (DbType = Int32), @p18='?' (DbType = Int32), @p19='?' (DbType = Int32), @p20='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p21='?' (DbType = Int32), @p22='?' (Size = 500), @p23='?' (DbType = DateTime2), @p24='?' (DbType = Int32), @p25='?' (DbType = Int32), @p26='?' (DbType = Int32), @p27='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p28='?' (DbType = Int32), @p29='?' (Size = 500), @p30='?' (DbType = DateTime2), @p31='?' (DbType = Int32), @p32='?' (DbType = Int32), @p33='?' (DbType = Int32), @p34='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p35='?' (DbType = Int32), @p36='?' (Size = 500), @p37='?' (DbType = DateTime2), @p38='?' (DbType = Int32), @p39='?' (DbType = Int32), @p40='?' (DbType = Int32), @p41='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p42='?' (DbType = Int32), @p43='?' (Size = 500), @p44='?' (DbType = DateTime2), @p45='?' (DbType = Int32), @p46='?' (DbType = Int32), @p47='?' (DbType = Int32), @p48='?' (Precision = 18) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [Orders] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, 0),
(@p7, @p8, @p9, @p10, @p11, @p12, @p13, 1),
(@p14, @p15, @p16, @p17, @p18, @p19, @p20, 2),
(@p21, @p22, @p23, @p24, @p25, @p26, @p27, 3),
(@p28, @p29, @p30, @p31, @p32, @p33, @p34, 4),
(@p35, @p36, @p37, @p38, @p39, @p40, @p41, 5),
(@p42, @p43, @p44, @p45, @p46, @p47, @p48, 6)) AS i ([MenuItemId], [Notes], [OrderDate], [Quantity], [Status], [TableId], [TotalPrice], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([MenuItemId], [Notes], [OrderDate], [Quantity], [Status], [TableId], [TotalPrice])
VALUES (i.[MenuItemId], i.[Notes], i.[OrderDate], i.[Quantity], i.[Status], i.[TableId], i.[TotalPrice])
OUTPUT INSERTED.[Id], i._Position;
2025-08-24 14:09:18.010 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'RestaurantOrdering.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The MERGE statement conflicted with the FOREIGN KEY constraint "FK_Orders_MenuItems_MenuItemId". The conflict occurred in database "RestaurantOrderingDb", table "dbo.MenuItems", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:3c078276-0000-4fc8-85bf-67046fd60df0
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The MERGE statement conflicted with the FOREIGN KEY constraint "FK_Orders_MenuItems_MenuItemId". The conflict occurred in database "RestaurantOrderingDb", table "dbo.MenuItems", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:3c078276-0000-4fc8-85bf-67046fd60df0
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-24 14:09:18.016 +03:00 [ERR] An error occurred creating the DB.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The MERGE statement conflicted with the FOREIGN KEY constraint "FK_Orders_MenuItems_MenuItemId". The conflict occurred in database "RestaurantOrderingDb", table "dbo.MenuItems", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:3c078276-0000-4fc8-85bf-67046fd60df0
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at RestaurantOrdering.Services.TestOrderService.CreateTestOrdersAsync() in C:\Users\fatih\Desktop\AI\Restorant\Services\TestOrderService.cs:line 119
   at Program.<Main>$(String[] args) in C:\Users\fatih\Desktop\AI\Restorant\Program.cs:line 103
2025-08-24 14:09:18.095 +03:00 [INF] Now listening on: http://localhost:5010
2025-08-24 14:09:18.098 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-24 14:09:18.098 +03:00 [INF] Hosting environment: Development
2025-08-24 14:09:18.099 +03:00 [INF] Content root path: C:\Users\fatih\Desktop\AI\Restorant
2025-08-24 14:09:25.409 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/ - null null
2025-08-24 14:09:25.413 +03:00 [WRN] Failed to determine the https port for redirect.
2025-08-24 14:09:25.435 +03:00 [INF] Executing endpoint '/ (/)'
2025-08-24 14:09:25.492 +03:00 [INF] Executed endpoint '/ (/)'
2025-08-24 14:09:25.495 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/ - 200 null text/html; charset=utf-8 86.1854ms
2025-08-24 14:09:27.741 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/admin/stok-yonetimi - null null
2025-08-24 14:09:27.751 +03:00 [INF] Executing endpoint '/admin/stok-yonetimi (/admin/stok-yonetimi)'
2025-08-24 14:09:27.845 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[Category], [s].[CreatedAt], [s].[CurrentQuantity], [s].[Description], [s].[IsActive], [s].[LastUpdated], [s].[MinimumQuantity], [s].[Name], [s].[PurchasePrice], [s].[Supplier], [s].[Unit], [s0].[Id], [s0].[CreatedAt], [s0].[CreatedBy], [s0].[Notes], [s0].[Quantity], [s0].[Reference], [s0].[StockId], [s0].[Supplier], [s0].[Type], [s0].[UnitPrice]
FROM [Stocks] AS [s]
LEFT JOIN [StockMovements] AS [s0] ON [s].[Id] = [s0].[StockId]
WHERE [s].[IsActive] = CAST(1 AS bit)
ORDER BY [s].[Name], [s].[Id]
2025-08-24 14:09:27.866 +03:00 [INF] Executed endpoint '/admin/stok-yonetimi (/admin/stok-yonetimi)'
2025-08-24 14:09:27.869 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/admin/stok-yonetimi - 200 null text/html; charset=utf-8 128.3369ms
2025-08-24 14:09:31.609 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/admin/stok-yonetimi?id=895c99fa-2946-4dc5-91d2-bd81f4df3cd7&vscodeBrowserReqId=1756033771603 - null null
2025-08-24 14:09:31.615 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-24 14:09:31.620 +03:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2025-08-24 14:09:31.621 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/admin/stok-yonetimi?id=895c99fa-2946-4dc5-91d2-bd81f4df3cd7&vscodeBrowserReqId=1756033771603 - 302 0 null 12.206ms
2025-08-24 14:09:31.625 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/Identity/Account/Login?ReturnUrl=%2Fadmin%2Fstok-yonetimi%3Fid%3D895c99fa-2946-4dc5-91d2-bd81f4df3cd7%26vscodeBrowserReqId%3D1756033771603 - null null
2025-08-24 14:09:31.627 +03:00 [INF] Executing endpoint '/Account/Login'
2025-08-24 14:09:31.650 +03:00 [INF] Route matched with {page = "/Account/Login", area = "Identity"}. Executing page /Account/Login
2025-08-24 14:09:31.662 +03:00 [INF] Executing handler method Microsoft.AspNetCore.Identity.UI.V5.Pages.Account.Internal.LoginModel.OnGetAsync - ModelState is "Valid"
2025-08-24 14:09:31.666 +03:00 [INF] AuthenticationScheme: Identity.External signed out.
2025-08-24 14:09:31.667 +03:00 [INF] Executed handler method OnGetAsync, returned result .
2025-08-24 14:09:31.669 +03:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2025-08-24 14:09:31.670 +03:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2025-08-24 14:09:31.744 +03:00 [INF] Executed page /Account/Login in 90.0033ms
2025-08-24 14:09:31.745 +03:00 [INF] Executed endpoint '/Account/Login'
2025-08-24 14:09:31.747 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/Identity/Account/Login?ReturnUrl=%2Fadmin%2Fstok-yonetimi%3Fid%3D895c99fa-2946-4dc5-91d2-bd81f4df3cd7%26vscodeBrowserReqId%3D1756033771603 - 200 null text/html; charset=utf-8 122.5637ms
2025-08-24 14:09:57.879 +03:00 [INF] Application is shutting down...
2025-08-24 14:13:15.234 +03:00 [INF] User profile is available. Using 'C:\Users\fatih\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-24 14:13:15.880 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-24 14:13:15.901 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-08-24 14:13:16.091 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-08-24 14:13:16.155 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 14:13:16.190 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 14:13:16.193 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 14:13:16.194 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 14:13:16.196 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 14:13:16.198 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 14:13:16.199 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 14:13:16.268 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 500), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p7='?' (DbType = Int32), @p8='?' (Size = 500), @p9='?' (DbType = DateTime2), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p14='?' (DbType = Int32), @p15='?' (Size = 500), @p16='?' (DbType = DateTime2), @p17='?' (DbType = Int32), @p18='?' (DbType = Int32), @p19='?' (DbType = Int32), @p20='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p21='?' (DbType = Int32), @p22='?' (Size = 500), @p23='?' (DbType = DateTime2), @p24='?' (DbType = Int32), @p25='?' (DbType = Int32), @p26='?' (DbType = Int32), @p27='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p28='?' (DbType = Int32), @p29='?' (Size = 500), @p30='?' (DbType = DateTime2), @p31='?' (DbType = Int32), @p32='?' (DbType = Int32), @p33='?' (DbType = Int32), @p34='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p35='?' (DbType = Int32), @p36='?' (Size = 500), @p37='?' (DbType = DateTime2), @p38='?' (DbType = Int32), @p39='?' (DbType = Int32), @p40='?' (DbType = Int32), @p41='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p42='?' (DbType = Int32), @p43='?' (Size = 500), @p44='?' (DbType = DateTime2), @p45='?' (DbType = Int32), @p46='?' (DbType = Int32), @p47='?' (DbType = Int32), @p48='?' (Precision = 18) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [Orders] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, 0),
(@p7, @p8, @p9, @p10, @p11, @p12, @p13, 1),
(@p14, @p15, @p16, @p17, @p18, @p19, @p20, 2),
(@p21, @p22, @p23, @p24, @p25, @p26, @p27, 3),
(@p28, @p29, @p30, @p31, @p32, @p33, @p34, 4),
(@p35, @p36, @p37, @p38, @p39, @p40, @p41, 5),
(@p42, @p43, @p44, @p45, @p46, @p47, @p48, 6)) AS i ([MenuItemId], [Notes], [OrderDate], [Quantity], [Status], [TableId], [TotalPrice], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([MenuItemId], [Notes], [OrderDate], [Quantity], [Status], [TableId], [TotalPrice])
VALUES (i.[MenuItemId], i.[Notes], i.[OrderDate], i.[Quantity], i.[Status], i.[TableId], i.[TotalPrice])
OUTPUT INSERTED.[Id], i._Position;
2025-08-24 14:13:16.282 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'RestaurantOrdering.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The MERGE statement conflicted with the FOREIGN KEY constraint "FK_Orders_MenuItems_MenuItemId". The conflict occurred in database "RestaurantOrderingDb", table "dbo.MenuItems", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:b90a61b4-42f1-48c2-9b15-6ba74740e4cd
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The MERGE statement conflicted with the FOREIGN KEY constraint "FK_Orders_MenuItems_MenuItemId". The conflict occurred in database "RestaurantOrderingDb", table "dbo.MenuItems", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:b90a61b4-42f1-48c2-9b15-6ba74740e4cd
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-24 14:13:16.287 +03:00 [ERR] An error occurred creating the DB.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The MERGE statement conflicted with the FOREIGN KEY constraint "FK_Orders_MenuItems_MenuItemId". The conflict occurred in database "RestaurantOrderingDb", table "dbo.MenuItems", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:b90a61b4-42f1-48c2-9b15-6ba74740e4cd
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at RestaurantOrdering.Services.TestOrderService.CreateTestOrdersAsync() in C:\Users\fatih\Desktop\AI\Restorant\Services\TestOrderService.cs:line 119
   at Program.<Main>$(String[] args) in C:\Users\fatih\Desktop\AI\Restorant\Program.cs:line 103
2025-08-24 14:13:16.363 +03:00 [INF] Now listening on: http://localhost:5010
2025-08-24 14:13:16.366 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-24 14:13:16.367 +03:00 [INF] Hosting environment: Development
2025-08-24 14:13:16.367 +03:00 [INF] Content root path: C:\Users\fatih\Desktop\AI\Restorant
2025-08-24 14:13:29.806 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/Identity/Account/Login?id=895c99fa-2946-4dc5-91d2-bd81f4df3cd7&vscodeBrowserReqId=1756034009778 - null null
2025-08-24 14:13:29.810 +03:00 [WRN] Failed to determine the https port for redirect.
2025-08-24 14:13:29.830 +03:00 [INF] Executing endpoint '/Account/Login'
2025-08-24 14:13:29.843 +03:00 [INF] Route matched with {page = "/Account/Login", area = "Identity"}. Executing page /Account/Login
2025-08-24 14:13:29.855 +03:00 [INF] Executing handler method Microsoft.AspNetCore.Identity.UI.V5.Pages.Account.Internal.LoginModel.OnGetAsync - ModelState is "Valid"
2025-08-24 14:13:29.859 +03:00 [INF] AuthenticationScheme: Identity.External signed out.
2025-08-24 14:13:29.860 +03:00 [INF] Executed handler method OnGetAsync, returned result .
2025-08-24 14:13:29.863 +03:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2025-08-24 14:13:29.864 +03:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2025-08-24 14:13:29.928 +03:00 [INF] Executed page /Account/Login in 81.953ms
2025-08-24 14:13:29.930 +03:00 [INF] Executed endpoint '/Account/Login'
2025-08-24 14:13:29.933 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/Identity/Account/Login?id=895c99fa-2946-4dc5-91d2-bd81f4df3cd7&vscodeBrowserReqId=1756034009778 - 200 null text/html; charset=utf-8 128.0637ms
2025-08-24 14:13:48.403 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/admin - null null
2025-08-24 14:13:48.413 +03:00 [INF] Executing endpoint '/admin (/admin)'
2025-08-24 14:13:48.504 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice], [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber], [m].[Id], [m].[CreatedAt], [m].[Description], [m].[ImageData], [m].[ImageUrl], [m].[IsAvailable], [m].[MenuId], [m].[Name], [m].[Price], [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[IsActive], [m0].[Name]
FROM [Orders] AS [o]
INNER JOIN [Tables] AS [t] ON [o].[TableId] = [t].[Id]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[Id]
INNER JOIN [Menus] AS [m0] ON [m].[MenuId] = [m0].[Id]
WHERE [o].[Status] IN (0, 1, 2)
ORDER BY [o].[OrderDate]
2025-08-24 14:13:48.597 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__startDate_0='?' (DbType = DateTime2), @__endDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalPrice]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[Status] = 4 AND [o].[OrderDate] >= @__startDate_0 AND [o].[OrderDate] <= @__endDate_1
2025-08-24 14:13:48.608 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[IsActive] = CAST(1 AS bit)
ORDER BY [t].[TableNumber]
2025-08-24 14:13:48.637 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 14:13:48.805 +03:00 [INF] Executed endpoint '/admin (/admin)'
2025-08-24 14:13:48.810 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/admin - 200 null text/html; charset=utf-8 406.3016ms
2025-08-24 14:13:48.830 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/_blazor/initializers - null null
2025-08-24 14:13:48.832 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 14:13:48.836 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 14:13:48.837 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/_blazor/initializers - 200 null application/json; charset=utf-8 7.0787ms
2025-08-24 14:13:48.841 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5010/_blazor/negotiate?negotiateVersion=1 - null 0
2025-08-24 14:13:48.848 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 14:13:48.852 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 14:13:48.852 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5010/_blazor/negotiate?negotiateVersion=1 - 200 316 application/json 11.198ms
2025-08-24 14:13:48.854 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/_blazor?id=K2wpAd7HIP3LCDhkLY5gqA - null null
2025-08-24 14:13:48.857 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 14:13:48.961 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice], [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber], [m].[Id], [m].[CreatedAt], [m].[Description], [m].[ImageData], [m].[ImageUrl], [m].[IsAvailable], [m].[MenuId], [m].[Name], [m].[Price], [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[IsActive], [m0].[Name]
FROM [Orders] AS [o]
INNER JOIN [Tables] AS [t] ON [o].[TableId] = [t].[Id]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[Id]
INNER JOIN [Menus] AS [m0] ON [m].[MenuId] = [m0].[Id]
WHERE [o].[Status] IN (0, 1, 2)
ORDER BY [o].[OrderDate]
2025-08-24 14:13:49.010 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__startDate_0='?' (DbType = DateTime2), @__endDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalPrice]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[Status] = 4 AND [o].[OrderDate] >= @__startDate_0 AND [o].[OrderDate] <= @__endDate_1
2025-08-24 14:13:49.012 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[IsActive] = CAST(1 AS bit)
ORDER BY [t].[TableNumber]
2025-08-24 14:13:49.014 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 14:13:50.419 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/admin/stok-yonetimi - null null
2025-08-24 14:13:50.422 +03:00 [INF] Executing endpoint '/admin/stok-yonetimi (/admin/stok-yonetimi)'
2025-08-24 14:13:50.444 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[Category], [s].[CreatedAt], [s].[CurrentQuantity], [s].[Description], [s].[IsActive], [s].[LastUpdated], [s].[MinimumQuantity], [s].[Name], [s].[PurchasePrice], [s].[Supplier], [s].[Unit], [s0].[Id], [s0].[CreatedAt], [s0].[CreatedBy], [s0].[Notes], [s0].[Quantity], [s0].[Reference], [s0].[StockId], [s0].[Supplier], [s0].[Type], [s0].[UnitPrice]
FROM [Stocks] AS [s]
LEFT JOIN [StockMovements] AS [s0] ON [s].[Id] = [s0].[StockId]
WHERE [s].[IsActive] = CAST(1 AS bit)
ORDER BY [s].[Name], [s].[Id]
2025-08-24 14:13:50.451 +03:00 [INF] Executed endpoint '/admin/stok-yonetimi (/admin/stok-yonetimi)'
2025-08-24 14:13:50.452 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/admin/stok-yonetimi - 200 null text/html; charset=utf-8 33.0211ms
2025-08-24 14:13:50.469 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[Category], [s].[CreatedAt], [s].[CurrentQuantity], [s].[Description], [s].[IsActive], [s].[LastUpdated], [s].[MinimumQuantity], [s].[Name], [s].[PurchasePrice], [s].[Supplier], [s].[Unit], [s0].[Id], [s0].[CreatedAt], [s0].[CreatedBy], [s0].[Notes], [s0].[Quantity], [s0].[Reference], [s0].[StockId], [s0].[Supplier], [s0].[Type], [s0].[UnitPrice]
FROM [Stocks] AS [s]
LEFT JOIN [StockMovements] AS [s0] ON [s].[Id] = [s0].[StockId]
WHERE [s].[IsActive] = CAST(1 AS bit)
ORDER BY [s].[Name], [s].[Id]
2025-08-24 14:13:53.515 +03:00 [WRN] Unhandled exception rendering component: Object reference not set to an instance of an object.
System.NullReferenceException: Object reference not set to an instance of an object.
   at RestaurantOrdering.Components.Pages.Admin.StockManagement.BuildRenderTree(RenderTreeBuilder __builder) in C:\Users\fatih\Desktop\AI\Restorant\Components\Pages\Admin\StockManagement.razor:line 305
   at Microsoft.AspNetCore.Components.Rendering.ComponentState.RenderIntoBatch(RenderBatchBuilder batchBuilder, RenderFragment renderFragment, Exception& renderFragmentException)
2025-08-24 14:13:53.520 +03:00 [ERR] Unhandled exception in circuit 'M0KMa1c4ugynIt4RdSatKfw8QiD8NSPnhVicznhvaxY'.
System.NullReferenceException: Object reference not set to an instance of an object.
   at RestaurantOrdering.Components.Pages.Admin.StockManagement.BuildRenderTree(RenderTreeBuilder __builder) in C:\Users\fatih\Desktop\AI\Restorant\Components\Pages\Admin\StockManagement.razor:line 305
   at Microsoft.AspNetCore.Components.Rendering.ComponentState.RenderIntoBatch(RenderBatchBuilder batchBuilder, RenderFragment renderFragment, Exception& renderFragmentException)
2025-08-24 14:13:53.528 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 14:13:53.529 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/_blazor?id=K2wpAd7HIP3LCDhkLY5gqA - 101 null null 4674.8453ms
2025-08-24 14:13:57.778 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/admin - null null
2025-08-24 14:13:57.781 +03:00 [INF] Executing endpoint '/admin (/admin)'
2025-08-24 14:13:57.787 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice], [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber], [m].[Id], [m].[CreatedAt], [m].[Description], [m].[ImageData], [m].[ImageUrl], [m].[IsAvailable], [m].[MenuId], [m].[Name], [m].[Price], [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[IsActive], [m0].[Name]
FROM [Orders] AS [o]
INNER JOIN [Tables] AS [t] ON [o].[TableId] = [t].[Id]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[Id]
INNER JOIN [Menus] AS [m0] ON [m].[MenuId] = [m0].[Id]
WHERE [o].[Status] IN (0, 1, 2)
ORDER BY [o].[OrderDate]
2025-08-24 14:13:57.883 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__startDate_0='?' (DbType = DateTime2), @__endDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalPrice]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[Status] = 4 AND [o].[OrderDate] >= @__startDate_0 AND [o].[OrderDate] <= @__endDate_1
2025-08-24 14:13:57.885 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[IsActive] = CAST(1 AS bit)
ORDER BY [t].[TableNumber]
2025-08-24 14:13:57.888 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 14:13:58.048 +03:00 [INF] Executed endpoint '/admin (/admin)'
2025-08-24 14:13:58.049 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/admin - 200 null text/html; charset=utf-8 271.2818ms
2025-08-24 14:13:58.831 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/admin/stok-yonetimi - null null
2025-08-24 14:13:58.835 +03:00 [INF] Executing endpoint '/admin/stok-yonetimi (/admin/stok-yonetimi)'
2025-08-24 14:13:58.839 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[Category], [s].[CreatedAt], [s].[CurrentQuantity], [s].[Description], [s].[IsActive], [s].[LastUpdated], [s].[MinimumQuantity], [s].[Name], [s].[PurchasePrice], [s].[Supplier], [s].[Unit], [s0].[Id], [s0].[CreatedAt], [s0].[CreatedBy], [s0].[Notes], [s0].[Quantity], [s0].[Reference], [s0].[StockId], [s0].[Supplier], [s0].[Type], [s0].[UnitPrice]
FROM [Stocks] AS [s]
LEFT JOIN [StockMovements] AS [s0] ON [s].[Id] = [s0].[StockId]
WHERE [s].[IsActive] = CAST(1 AS bit)
ORDER BY [s].[Name], [s].[Id]
2025-08-24 14:13:58.842 +03:00 [INF] Executed endpoint '/admin/stok-yonetimi (/admin/stok-yonetimi)'
2025-08-24 14:13:58.843 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/admin/stok-yonetimi - 200 null text/html; charset=utf-8 12.0724ms
2025-08-24 14:14:00.230 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/admin/stok-yonetimi - null null
2025-08-24 14:14:00.232 +03:00 [INF] Executing endpoint '/admin/stok-yonetimi (/admin/stok-yonetimi)'
2025-08-24 14:14:00.235 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[Category], [s].[CreatedAt], [s].[CurrentQuantity], [s].[Description], [s].[IsActive], [s].[LastUpdated], [s].[MinimumQuantity], [s].[Name], [s].[PurchasePrice], [s].[Supplier], [s].[Unit], [s0].[Id], [s0].[CreatedAt], [s0].[CreatedBy], [s0].[Notes], [s0].[Quantity], [s0].[Reference], [s0].[StockId], [s0].[Supplier], [s0].[Type], [s0].[UnitPrice]
FROM [Stocks] AS [s]
LEFT JOIN [StockMovements] AS [s0] ON [s].[Id] = [s0].[StockId]
WHERE [s].[IsActive] = CAST(1 AS bit)
ORDER BY [s].[Name], [s].[Id]
2025-08-24 14:14:00.237 +03:00 [INF] Executed endpoint '/admin/stok-yonetimi (/admin/stok-yonetimi)'
2025-08-24 14:14:00.238 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/admin/stok-yonetimi - 200 null text/html; charset=utf-8 7.7486ms
2025-08-24 14:14:02.386 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/admin/kitchen - null null
2025-08-24 14:14:02.388 +03:00 [INF] Executing endpoint '/admin/kitchen (/admin/kitchen)'
2025-08-24 14:14:02.395 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice], [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber], [m].[Id], [m].[CreatedAt], [m].[Description], [m].[ImageData], [m].[ImageUrl], [m].[IsAvailable], [m].[MenuId], [m].[Name], [m].[Price], [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[IsActive], [m0].[Name]
FROM [Orders] AS [o]
INNER JOIN [Tables] AS [t] ON [o].[TableId] = [t].[Id]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[Id]
INNER JOIN [Menus] AS [m0] ON [m].[MenuId] = [m0].[Id]
WHERE [o].[Status] IN (0, 1, 2)
ORDER BY [o].[OrderDate]
2025-08-24 14:14:02.441 +03:00 [INF] Executed endpoint '/admin/kitchen (/admin/kitchen)'
2025-08-24 14:14:02.442 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/admin/kitchen - 200 null text/html; charset=utf-8 56.4234ms
2025-08-24 14:14:04.818 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/admin/stok-yonetimi - null null
2025-08-24 14:14:04.821 +03:00 [INF] Executing endpoint '/admin/stok-yonetimi (/admin/stok-yonetimi)'
2025-08-24 14:14:04.823 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[Category], [s].[CreatedAt], [s].[CurrentQuantity], [s].[Description], [s].[IsActive], [s].[LastUpdated], [s].[MinimumQuantity], [s].[Name], [s].[PurchasePrice], [s].[Supplier], [s].[Unit], [s0].[Id], [s0].[CreatedAt], [s0].[CreatedBy], [s0].[Notes], [s0].[Quantity], [s0].[Reference], [s0].[StockId], [s0].[Supplier], [s0].[Type], [s0].[UnitPrice]
FROM [Stocks] AS [s]
LEFT JOIN [StockMovements] AS [s0] ON [s].[Id] = [s0].[StockId]
WHERE [s].[IsActive] = CAST(1 AS bit)
ORDER BY [s].[Name], [s].[Id]
2025-08-24 14:14:04.826 +03:00 [INF] Executed endpoint '/admin/stok-yonetimi (/admin/stok-yonetimi)'
2025-08-24 14:14:04.827 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/admin/stok-yonetimi - 200 null text/html; charset=utf-8 8.1662ms
2025-08-24 14:14:08.082 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/menu?table=1&category=Tatl%C4%B1lar - null null
2025-08-24 14:14:08.084 +03:00 [INF] Executing endpoint '/menu (/menu)'
2025-08-24 14:14:08.094 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__tableNumber_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[TableNumber] = @__tableNumber_0
2025-08-24 14:14:08.098 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 14:14:08.177 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 14:14:08.235 +03:00 [INF] Executed endpoint '/menu (/menu)'
2025-08-24 14:14:08.236 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/menu?table=1&category=Tatl%C4%B1lar - 200 null text/html; charset=utf-8 154.0791ms
2025-08-24 14:14:14.095 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/admin/stok-yonetimi - null null
2025-08-24 14:14:14.097 +03:00 [INF] Executing endpoint '/admin/stok-yonetimi (/admin/stok-yonetimi)'
2025-08-24 14:14:14.100 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[Category], [s].[CreatedAt], [s].[CurrentQuantity], [s].[Description], [s].[IsActive], [s].[LastUpdated], [s].[MinimumQuantity], [s].[Name], [s].[PurchasePrice], [s].[Supplier], [s].[Unit], [s0].[Id], [s0].[CreatedAt], [s0].[CreatedBy], [s0].[Notes], [s0].[Quantity], [s0].[Reference], [s0].[StockId], [s0].[Supplier], [s0].[Type], [s0].[UnitPrice]
FROM [Stocks] AS [s]
LEFT JOIN [StockMovements] AS [s0] ON [s].[Id] = [s0].[StockId]
WHERE [s].[IsActive] = CAST(1 AS bit)
ORDER BY [s].[Name], [s].[Id]
2025-08-24 14:14:14.102 +03:00 [INF] Executed endpoint '/admin/stok-yonetimi (/admin/stok-yonetimi)'
2025-08-24 14:14:14.103 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/admin/stok-yonetimi - 200 null text/html; charset=utf-8 8.4453ms
2025-08-24 14:14:24.108 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/admin/orders - null null
2025-08-24 14:14:24.110 +03:00 [INF] Executing endpoint '/admin/orders (/admin/orders)'
2025-08-24 14:14:24.114 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[IsActive] = CAST(1 AS bit)
ORDER BY [t].[TableNumber]
2025-08-24 14:14:24.142 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[TableId], [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[Status] IN (0, 1, 2, 3)
ORDER BY [o].[TableId]
2025-08-24 14:14:24.148 +03:00 [INF] Executed endpoint '/admin/orders (/admin/orders)'
2025-08-24 14:14:24.148 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/admin/orders - 200 null text/html; charset=utf-8 40.828ms
2025-08-24 14:14:24.722 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/admin/stok-yonetimi - null null
2025-08-24 14:14:24.724 +03:00 [INF] Executing endpoint '/admin/stok-yonetimi (/admin/stok-yonetimi)'
2025-08-24 14:14:24.726 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[Category], [s].[CreatedAt], [s].[CurrentQuantity], [s].[Description], [s].[IsActive], [s].[LastUpdated], [s].[MinimumQuantity], [s].[Name], [s].[PurchasePrice], [s].[Supplier], [s].[Unit], [s0].[Id], [s0].[CreatedAt], [s0].[CreatedBy], [s0].[Notes], [s0].[Quantity], [s0].[Reference], [s0].[StockId], [s0].[Supplier], [s0].[Type], [s0].[UnitPrice]
FROM [Stocks] AS [s]
LEFT JOIN [StockMovements] AS [s0] ON [s].[Id] = [s0].[StockId]
WHERE [s].[IsActive] = CAST(1 AS bit)
ORDER BY [s].[Name], [s].[Id]
2025-08-24 14:14:24.728 +03:00 [INF] Executed endpoint '/admin/stok-yonetimi (/admin/stok-yonetimi)'
2025-08-24 14:14:24.729 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/admin/stok-yonetimi - 200 null text/html; charset=utf-8 7.1771ms
2025-08-24 14:14:49.790 +03:00 [INF] Application is shutting down...
2025-08-24 14:23:20.599 +03:00 [INF] User profile is available. Using 'C:\Users\fatih\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-24 14:23:21.221 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-24 14:23:21.243 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-08-24 14:23:21.426 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-08-24 14:23:21.484 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 14:23:21.515 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 14:23:21.517 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 14:23:21.519 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 14:23:21.520 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 14:23:21.522 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 14:23:21.524 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 14:23:21.584 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 500), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p7='?' (DbType = Int32), @p8='?' (Size = 500), @p9='?' (DbType = DateTime2), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p14='?' (DbType = Int32), @p15='?' (Size = 500), @p16='?' (DbType = DateTime2), @p17='?' (DbType = Int32), @p18='?' (DbType = Int32), @p19='?' (DbType = Int32), @p20='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p21='?' (DbType = Int32), @p22='?' (Size = 500), @p23='?' (DbType = DateTime2), @p24='?' (DbType = Int32), @p25='?' (DbType = Int32), @p26='?' (DbType = Int32), @p27='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p28='?' (DbType = Int32), @p29='?' (Size = 500), @p30='?' (DbType = DateTime2), @p31='?' (DbType = Int32), @p32='?' (DbType = Int32), @p33='?' (DbType = Int32), @p34='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p35='?' (DbType = Int32), @p36='?' (Size = 500), @p37='?' (DbType = DateTime2), @p38='?' (DbType = Int32), @p39='?' (DbType = Int32), @p40='?' (DbType = Int32), @p41='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p42='?' (DbType = Int32), @p43='?' (Size = 500), @p44='?' (DbType = DateTime2), @p45='?' (DbType = Int32), @p46='?' (DbType = Int32), @p47='?' (DbType = Int32), @p48='?' (Precision = 18) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [Orders] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, 0),
(@p7, @p8, @p9, @p10, @p11, @p12, @p13, 1),
(@p14, @p15, @p16, @p17, @p18, @p19, @p20, 2),
(@p21, @p22, @p23, @p24, @p25, @p26, @p27, 3),
(@p28, @p29, @p30, @p31, @p32, @p33, @p34, 4),
(@p35, @p36, @p37, @p38, @p39, @p40, @p41, 5),
(@p42, @p43, @p44, @p45, @p46, @p47, @p48, 6)) AS i ([MenuItemId], [Notes], [OrderDate], [Quantity], [Status], [TableId], [TotalPrice], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([MenuItemId], [Notes], [OrderDate], [Quantity], [Status], [TableId], [TotalPrice])
VALUES (i.[MenuItemId], i.[Notes], i.[OrderDate], i.[Quantity], i.[Status], i.[TableId], i.[TotalPrice])
OUTPUT INSERTED.[Id], i._Position;
2025-08-24 14:23:21.600 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'RestaurantOrdering.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The MERGE statement conflicted with the FOREIGN KEY constraint "FK_Orders_MenuItems_MenuItemId". The conflict occurred in database "RestaurantOrderingDb", table "dbo.MenuItems", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:185290cb-ba99-4fbc-8f92-02abace99ec5
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The MERGE statement conflicted with the FOREIGN KEY constraint "FK_Orders_MenuItems_MenuItemId". The conflict occurred in database "RestaurantOrderingDb", table "dbo.MenuItems", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:185290cb-ba99-4fbc-8f92-02abace99ec5
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-24 14:23:21.605 +03:00 [ERR] An error occurred creating the DB.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The MERGE statement conflicted with the FOREIGN KEY constraint "FK_Orders_MenuItems_MenuItemId". The conflict occurred in database "RestaurantOrderingDb", table "dbo.MenuItems", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:185290cb-ba99-4fbc-8f92-02abace99ec5
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at RestaurantOrdering.Services.TestOrderService.CreateTestOrdersAsync() in C:\Users\fatih\Desktop\AI\Restorant\Services\TestOrderService.cs:line 119
   at Program.<Main>$(String[] args) in C:\Users\fatih\Desktop\AI\Restorant\Program.cs:line 103
2025-08-24 14:23:21.693 +03:00 [INF] Now listening on: http://localhost:5010
2025-08-24 14:23:21.696 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-24 14:23:21.697 +03:00 [INF] Hosting environment: Development
2025-08-24 14:23:21.697 +03:00 [INF] Content root path: C:\Users\fatih\Desktop\AI\Restorant
2025-08-24 14:23:49.490 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/admin/stok-yonetimi?id=895c99fa-2946-4dc5-91d2-bd81f4df3cd7&vscodeBrowserReqId=1756034629463 - null null
2025-08-24 14:23:49.494 +03:00 [WRN] Failed to determine the https port for redirect.
2025-08-24 14:23:49.513 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-24 14:23:49.518 +03:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2025-08-24 14:23:49.521 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/admin/stok-yonetimi?id=895c99fa-2946-4dc5-91d2-bd81f4df3cd7&vscodeBrowserReqId=1756034629463 - 302 0 null 32.123ms
2025-08-24 14:23:49.525 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/Identity/Account/Login?ReturnUrl=%2Fadmin%2Fstok-yonetimi%3Fid%3D895c99fa-2946-4dc5-91d2-bd81f4df3cd7%26vscodeBrowserReqId%3D1756034629463 - null null
2025-08-24 14:23:49.529 +03:00 [INF] Executing endpoint '/Account/Login'
2025-08-24 14:23:49.542 +03:00 [INF] Route matched with {page = "/Account/Login", area = "Identity"}. Executing page /Account/Login
2025-08-24 14:23:49.553 +03:00 [INF] Executing handler method Microsoft.AspNetCore.Identity.UI.V5.Pages.Account.Internal.LoginModel.OnGetAsync - ModelState is "Valid"
2025-08-24 14:23:49.557 +03:00 [INF] AuthenticationScheme: Identity.External signed out.
2025-08-24 14:23:49.558 +03:00 [INF] Executed handler method OnGetAsync, returned result .
2025-08-24 14:23:49.560 +03:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2025-08-24 14:23:49.561 +03:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2025-08-24 14:23:49.636 +03:00 [INF] Executed page /Account/Login in 91.3331ms
2025-08-24 14:23:49.637 +03:00 [INF] Executed endpoint '/Account/Login'
2025-08-24 14:23:49.639 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/Identity/Account/Login?ReturnUrl=%2Fadmin%2Fstok-yonetimi%3Fid%3D895c99fa-2946-4dc5-91d2-bd81f4df3cd7%26vscodeBrowserReqId%3D1756034629463 - 200 null text/html; charset=utf-8 114.1587ms
2025-08-24 14:24:18.342 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/ - null null
2025-08-24 14:24:18.376 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-08-24 14:24:18.401 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-08-24 14:24:18.405 +03:00 [INF] Executing endpoint '/ (/)'
2025-08-24 14:24:18.456 +03:00 [INF] Executed endpoint '/ (/)'
2025-08-24 14:24:18.460 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/ - 200 null text/html; charset=utf-8 118.0705ms
2025-08-24 14:24:20.142 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/admin - null null
2025-08-24 14:24:20.145 +03:00 [INF] Executing endpoint '/admin (/admin)'
2025-08-24 14:24:20.218 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice], [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber], [m].[Id], [m].[CreatedAt], [m].[Description], [m].[ImageData], [m].[ImageUrl], [m].[IsAvailable], [m].[MenuId], [m].[Name], [m].[Price], [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[IsActive], [m0].[Name]
FROM [Orders] AS [o]
INNER JOIN [Tables] AS [t] ON [o].[TableId] = [t].[Id]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[Id]
INNER JOIN [Menus] AS [m0] ON [m].[MenuId] = [m0].[Id]
WHERE [o].[Status] IN (0, 1, 2)
ORDER BY [o].[OrderDate]
2025-08-24 14:24:20.318 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__startDate_0='?' (DbType = DateTime2), @__endDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalPrice]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[Status] = 4 AND [o].[OrderDate] >= @__startDate_0 AND [o].[OrderDate] <= @__endDate_1
2025-08-24 14:24:20.327 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[IsActive] = CAST(1 AS bit)
ORDER BY [t].[TableNumber]
2025-08-24 14:24:20.357 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 14:24:20.526 +03:00 [INF] Executed endpoint '/admin (/admin)'
2025-08-24 14:24:20.527 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/admin - 200 null text/html; charset=utf-8 384.6603ms
2025-08-24 14:24:22.246 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/admin/stok-yonetimi - null null
2025-08-24 14:24:22.257 +03:00 [INF] Executing endpoint '/admin/stok-yonetimi (/admin/stok-yonetimi)'
2025-08-24 14:24:22.284 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[Category], [s].[CreatedAt], [s].[CurrentQuantity], [s].[Description], [s].[IsActive], [s].[LastUpdated], [s].[MinimumQuantity], [s].[Name], [s].[PurchasePrice], [s].[Supplier], [s].[Unit], [s0].[Id], [s0].[CreatedAt], [s0].[CreatedBy], [s0].[Notes], [s0].[Quantity], [s0].[Reference], [s0].[StockId], [s0].[Supplier], [s0].[Type], [s0].[UnitPrice]
FROM [Stocks] AS [s]
LEFT JOIN [StockMovements] AS [s0] ON [s].[Id] = [s0].[StockId]
WHERE [s].[IsActive] = CAST(1 AS bit)
ORDER BY [s].[Name], [s].[Id]
2025-08-24 14:24:22.292 +03:00 [INF] Executed endpoint '/admin/stok-yonetimi (/admin/stok-yonetimi)'
2025-08-24 14:24:22.293 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/admin/stok-yonetimi - 200 null text/html; charset=utf-8 46.7001ms
2025-08-24 14:25:11.130 +03:00 [INF] Application is shutting down...
2025-08-24 14:27:35.820 +03:00 [INF] User profile is available. Using 'C:\Users\fatih\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-24 14:27:36.376 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-24 14:27:36.397 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-08-24 14:27:36.560 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-08-24 14:27:36.614 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 14:27:36.644 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 14:27:36.646 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 14:27:36.648 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 14:27:36.649 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 14:27:36.651 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 14:27:36.653 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 14:27:36.710 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 500), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p7='?' (DbType = Int32), @p8='?' (Size = 500), @p9='?' (DbType = DateTime2), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p14='?' (DbType = Int32), @p15='?' (Size = 500), @p16='?' (DbType = DateTime2), @p17='?' (DbType = Int32), @p18='?' (DbType = Int32), @p19='?' (DbType = Int32), @p20='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p21='?' (DbType = Int32), @p22='?' (Size = 500), @p23='?' (DbType = DateTime2), @p24='?' (DbType = Int32), @p25='?' (DbType = Int32), @p26='?' (DbType = Int32), @p27='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p28='?' (DbType = Int32), @p29='?' (Size = 500), @p30='?' (DbType = DateTime2), @p31='?' (DbType = Int32), @p32='?' (DbType = Int32), @p33='?' (DbType = Int32), @p34='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p35='?' (DbType = Int32), @p36='?' (Size = 500), @p37='?' (DbType = DateTime2), @p38='?' (DbType = Int32), @p39='?' (DbType = Int32), @p40='?' (DbType = Int32), @p41='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p42='?' (DbType = Int32), @p43='?' (Size = 500), @p44='?' (DbType = DateTime2), @p45='?' (DbType = Int32), @p46='?' (DbType = Int32), @p47='?' (DbType = Int32), @p48='?' (Precision = 18) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [Orders] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, 0),
(@p7, @p8, @p9, @p10, @p11, @p12, @p13, 1),
(@p14, @p15, @p16, @p17, @p18, @p19, @p20, 2),
(@p21, @p22, @p23, @p24, @p25, @p26, @p27, 3),
(@p28, @p29, @p30, @p31, @p32, @p33, @p34, 4),
(@p35, @p36, @p37, @p38, @p39, @p40, @p41, 5),
(@p42, @p43, @p44, @p45, @p46, @p47, @p48, 6)) AS i ([MenuItemId], [Notes], [OrderDate], [Quantity], [Status], [TableId], [TotalPrice], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([MenuItemId], [Notes], [OrderDate], [Quantity], [Status], [TableId], [TotalPrice])
VALUES (i.[MenuItemId], i.[Notes], i.[OrderDate], i.[Quantity], i.[Status], i.[TableId], i.[TotalPrice])
OUTPUT INSERTED.[Id], i._Position;
2025-08-24 14:27:36.723 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'RestaurantOrdering.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The MERGE statement conflicted with the FOREIGN KEY constraint "FK_Orders_MenuItems_MenuItemId". The conflict occurred in database "RestaurantOrderingDb", table "dbo.MenuItems", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:0f45e6c1-b23b-491c-a7cb-1a82d9c405ae
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The MERGE statement conflicted with the FOREIGN KEY constraint "FK_Orders_MenuItems_MenuItemId". The conflict occurred in database "RestaurantOrderingDb", table "dbo.MenuItems", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:0f45e6c1-b23b-491c-a7cb-1a82d9c405ae
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-24 14:27:36.728 +03:00 [ERR] An error occurred creating the DB.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The MERGE statement conflicted with the FOREIGN KEY constraint "FK_Orders_MenuItems_MenuItemId". The conflict occurred in database "RestaurantOrderingDb", table "dbo.MenuItems", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:0f45e6c1-b23b-491c-a7cb-1a82d9c405ae
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at RestaurantOrdering.Services.TestOrderService.CreateTestOrdersAsync() in C:\Users\fatih\Desktop\AI\Restorant\Services\TestOrderService.cs:line 119
   at Program.<Main>$(String[] args) in C:\Users\fatih\Desktop\AI\Restorant\Program.cs:line 103
2025-08-24 14:27:36.795 +03:00 [INF] Now listening on: http://localhost:5010
2025-08-24 14:27:36.798 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-24 14:27:36.799 +03:00 [INF] Hosting environment: Development
2025-08-24 14:27:36.799 +03:00 [INF] Content root path: C:\Users\fatih\Desktop\AI\Restorant
2025-08-24 14:28:43.307 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/admin/stok-yonetimi?id=895c99fa-2946-4dc5-91d2-bd81f4df3cd7&vscodeBrowserReqId=1756034923283 - null null
2025-08-24 14:28:43.311 +03:00 [WRN] Failed to determine the https port for redirect.
2025-08-24 14:28:43.331 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-24 14:28:43.335 +03:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2025-08-24 14:28:43.338 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/admin/stok-yonetimi?id=895c99fa-2946-4dc5-91d2-bd81f4df3cd7&vscodeBrowserReqId=1756034923283 - 302 0 null 31.5814ms
2025-08-24 14:28:43.342 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/Identity/Account/Login?ReturnUrl=%2Fadmin%2Fstok-yonetimi%3Fid%3D895c99fa-2946-4dc5-91d2-bd81f4df3cd7%26vscodeBrowserReqId%3D1756034923283 - null null
2025-08-24 14:28:43.345 +03:00 [INF] Executing endpoint '/Account/Login'
2025-08-24 14:28:43.358 +03:00 [INF] Route matched with {page = "/Account/Login", area = "Identity"}. Executing page /Account/Login
2025-08-24 14:28:43.368 +03:00 [INF] Executing handler method Microsoft.AspNetCore.Identity.UI.V5.Pages.Account.Internal.LoginModel.OnGetAsync - ModelState is "Valid"
2025-08-24 14:28:43.372 +03:00 [INF] AuthenticationScheme: Identity.External signed out.
2025-08-24 14:28:43.374 +03:00 [INF] Executed handler method OnGetAsync, returned result .
2025-08-24 14:28:43.376 +03:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2025-08-24 14:28:43.376 +03:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2025-08-24 14:28:43.427 +03:00 [INF] Executed page /Account/Login in 66.2439ms
2025-08-24 14:28:43.428 +03:00 [INF] Executed endpoint '/Account/Login'
2025-08-24 14:28:43.431 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/Identity/Account/Login?ReturnUrl=%2Fadmin%2Fstok-yonetimi%3Fid%3D895c99fa-2946-4dc5-91d2-bd81f4df3cd7%26vscodeBrowserReqId%3D1756034923283 - 200 null text/html; charset=utf-8 89.8231ms
2025-08-24 14:31:48.014 +03:00 [INF] User profile is available. Using 'C:\Users\fatih\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-24 14:31:48.647 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-24 14:31:48.670 +03:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-08-24 14:31:48.858 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-08-24 14:31:48.916 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 14:31:48.949 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 14:31:48.953 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 14:31:48.955 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 14:31:48.957 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 14:31:48.958 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 14:31:48.961 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 14:31:49.024 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 500), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p7='?' (DbType = Int32), @p8='?' (Size = 500), @p9='?' (DbType = DateTime2), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p14='?' (DbType = Int32), @p15='?' (Size = 500), @p16='?' (DbType = DateTime2), @p17='?' (DbType = Int32), @p18='?' (DbType = Int32), @p19='?' (DbType = Int32), @p20='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p21='?' (DbType = Int32), @p22='?' (Size = 500), @p23='?' (DbType = DateTime2), @p24='?' (DbType = Int32), @p25='?' (DbType = Int32), @p26='?' (DbType = Int32), @p27='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p28='?' (DbType = Int32), @p29='?' (Size = 500), @p30='?' (DbType = DateTime2), @p31='?' (DbType = Int32), @p32='?' (DbType = Int32), @p33='?' (DbType = Int32), @p34='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p35='?' (DbType = Int32), @p36='?' (Size = 500), @p37='?' (DbType = DateTime2), @p38='?' (DbType = Int32), @p39='?' (DbType = Int32), @p40='?' (DbType = Int32), @p41='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p42='?' (DbType = Int32), @p43='?' (Size = 500), @p44='?' (DbType = DateTime2), @p45='?' (DbType = Int32), @p46='?' (DbType = Int32), @p47='?' (DbType = Int32), @p48='?' (Precision = 18) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [Orders] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, 0),
(@p7, @p8, @p9, @p10, @p11, @p12, @p13, 1),
(@p14, @p15, @p16, @p17, @p18, @p19, @p20, 2),
(@p21, @p22, @p23, @p24, @p25, @p26, @p27, 3),
(@p28, @p29, @p30, @p31, @p32, @p33, @p34, 4),
(@p35, @p36, @p37, @p38, @p39, @p40, @p41, 5),
(@p42, @p43, @p44, @p45, @p46, @p47, @p48, 6)) AS i ([MenuItemId], [Notes], [OrderDate], [Quantity], [Status], [TableId], [TotalPrice], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([MenuItemId], [Notes], [OrderDate], [Quantity], [Status], [TableId], [TotalPrice])
VALUES (i.[MenuItemId], i.[Notes], i.[OrderDate], i.[Quantity], i.[Status], i.[TableId], i.[TotalPrice])
OUTPUT INSERTED.[Id], i._Position;
2025-08-24 14:31:49.040 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'RestaurantOrdering.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The MERGE statement conflicted with the FOREIGN KEY constraint "FK_Orders_MenuItems_MenuItemId". The conflict occurred in database "RestaurantOrderingDb", table "dbo.MenuItems", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:61963094-d0b1-4b2f-ad53-f5a82fa2815c
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The MERGE statement conflicted with the FOREIGN KEY constraint "FK_Orders_MenuItems_MenuItemId". The conflict occurred in database "RestaurantOrderingDb", table "dbo.MenuItems", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:61963094-d0b1-4b2f-ad53-f5a82fa2815c
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-24 14:31:49.045 +03:00 [ERR] An error occurred creating the DB.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The MERGE statement conflicted with the FOREIGN KEY constraint "FK_Orders_MenuItems_MenuItemId". The conflict occurred in database "RestaurantOrderingDb", table "dbo.MenuItems", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:61963094-d0b1-4b2f-ad53-f5a82fa2815c
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at RestaurantOrdering.Services.TestOrderService.CreateTestOrdersAsync() in C:\Users\fatih\Desktop\AI\Restorant\Services\TestOrderService.cs:line 119
   at Program.<Main>$(String[] args) in C:\Users\fatih\Desktop\AI\Restorant\Program.cs:line 103
2025-08-24 14:31:49.115 +03:00 [INF] Now listening on: http://localhost:5010
2025-08-24 14:31:49.119 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-24 14:31:49.119 +03:00 [INF] Hosting environment: Development
2025-08-24 14:31:49.120 +03:00 [INF] Content root path: C:\Users\fatih\Desktop\AI\Restorant
2025-08-24 14:32:03.957 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/admin?id=895c99fa-2946-4dc5-91d2-bd81f4df3cd7&vscodeBrowserReqId=1756035123930 - null null
2025-08-24 14:32:03.962 +03:00 [WRN] Failed to determine the https port for redirect.
2025-08-24 14:32:03.981 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-24 14:32:03.985 +03:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2025-08-24 14:32:03.987 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/admin?id=895c99fa-2946-4dc5-91d2-bd81f4df3cd7&vscodeBrowserReqId=1756035123930 - 302 0 null 31.8158ms
2025-08-24 14:32:03.991 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/Identity/Account/Login?ReturnUrl=%2Fadmin%3Fid%3D895c99fa-2946-4dc5-91d2-bd81f4df3cd7%26vscodeBrowserReqId%3D1756035123930 - null null
2025-08-24 14:32:03.995 +03:00 [INF] Executing endpoint '/Account/Login'
2025-08-24 14:32:04.010 +03:00 [INF] Route matched with {page = "/Account/Login", area = "Identity"}. Executing page /Account/Login
2025-08-24 14:32:04.020 +03:00 [INF] Executing handler method Microsoft.AspNetCore.Identity.UI.V5.Pages.Account.Internal.LoginModel.OnGetAsync - ModelState is "Valid"
2025-08-24 14:32:04.025 +03:00 [INF] AuthenticationScheme: Identity.External signed out.
2025-08-24 14:32:04.026 +03:00 [INF] Executed handler method OnGetAsync, returned result .
2025-08-24 14:32:04.028 +03:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2025-08-24 14:32:04.028 +03:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2025-08-24 14:32:04.085 +03:00 [INF] Executed page /Account/Login in 72.1114ms
2025-08-24 14:32:04.086 +03:00 [INF] Executed endpoint '/Account/Login'
2025-08-24 14:32:04.088 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/Identity/Account/Login?ReturnUrl=%2Fadmin%3Fid%3D895c99fa-2946-4dc5-91d2-bd81f4df3cd7%26vscodeBrowserReqId%3D1756035123930 - 200 null text/html; charset=utf-8 96.8518ms
2025-08-24 14:32:25.664 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/ - null null
2025-08-24 14:32:25.670 +03:00 [INF] Executing endpoint '/ (/)'
2025-08-24 14:32:25.707 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/ - null null
2025-08-24 14:32:25.709 +03:00 [INF] Executing endpoint '/ (/)'
2025-08-24 14:32:25.724 +03:00 [INF] Executed endpoint '/ (/)'
2025-08-24 14:32:25.724 +03:00 [INF] Executed endpoint '/ (/)'
2025-08-24 14:32:25.726 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/ - 200 null text/html; charset=utf-8 62.1121ms
2025-08-24 14:32:25.726 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/ - 200 null text/html; charset=utf-8 19.3242ms
2025-08-24 14:32:27.896 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/admin/stok-yonetimi - null null
2025-08-24 14:32:27.904 +03:00 [INF] Executing endpoint '/admin/stok-yonetimi (/admin/stok-yonetimi)'
2025-08-24 14:32:27.970 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[Category], [s].[CreatedAt], [s].[CurrentQuantity], [s].[Description], [s].[IsActive], [s].[LastUpdated], [s].[MinimumQuantity], [s].[Name], [s].[PurchasePrice], [s].[Supplier], [s].[Unit], [s0].[Id], [s0].[CreatedAt], [s0].[CreatedBy], [s0].[Notes], [s0].[Quantity], [s0].[Reference], [s0].[StockId], [s0].[Supplier], [s0].[Type], [s0].[UnitPrice]
FROM [Stocks] AS [s]
LEFT JOIN [StockMovements] AS [s0] ON [s].[Id] = [s0].[StockId]
WHERE [s].[IsActive] = CAST(1 AS bit)
ORDER BY [s].[Name], [s].[Id]
2025-08-24 14:32:28.002 +03:00 [INF] Executed endpoint '/admin/stok-yonetimi (/admin/stok-yonetimi)'
2025-08-24 14:32:28.005 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/admin/stok-yonetimi - 200 null text/html; charset=utf-8 108.3959ms
2025-08-24 14:32:52.644 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/.well-known/appspecific/com.chrome.devtools.json - null null
2025-08-24 14:32:52.648 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/.well-known/appspecific/com.chrome.devtools.json - 404 0 null 3.2343ms
2025-08-24 14:32:52.650 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5010/.well-known/appspecific/com.chrome.devtools.json, Response status code: 404
2025-08-24 14:33:03.054 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/.well-known/appspecific/com.chrome.devtools.json - null null
2025-08-24 14:33:03.057 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/.well-known/appspecific/com.chrome.devtools.json - 404 0 null 2.9472ms
2025-08-24 14:33:03.059 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5010/.well-known/appspecific/com.chrome.devtools.json, Response status code: 404
2025-08-24 14:33:08.403 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/.well-known/appspecific/com.chrome.devtools.json - null null
2025-08-24 14:33:08.405 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/.well-known/appspecific/com.chrome.devtools.json - 404 0 null 2.7173ms
2025-08-24 14:33:08.408 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5010/.well-known/appspecific/com.chrome.devtools.json, Response status code: 404
2025-08-24 14:33:21.262 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/admin/cashier - null null
2025-08-24 14:33:21.267 +03:00 [INF] Executing endpoint '/admin/cashier (/admin/cashier)'
2025-08-24 14:33:21.326 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[IsActive] = CAST(1 AS bit)
ORDER BY [t].[TableNumber]
2025-08-24 14:33:21.360 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Orders] AS [o]
        WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
            SELECT 1
            FROM [PaymentItems] AS [p]
            WHERE [p].[OrderId] = [o].[Id])) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-24 14:33:21.380 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalPrice]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
    SELECT 1
    FROM [PaymentItems] AS [p]
    WHERE [p].[OrderId] = [o].[Id])
2025-08-24 14:33:21.385 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Orders] AS [o]
        WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
            SELECT 1
            FROM [PaymentItems] AS [p]
            WHERE [p].[OrderId] = [o].[Id])) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-24 14:33:21.387 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalPrice]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
    SELECT 1
    FROM [PaymentItems] AS [p]
    WHERE [p].[OrderId] = [o].[Id])
2025-08-24 14:33:21.391 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Orders] AS [o]
        WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
            SELECT 1
            FROM [PaymentItems] AS [p]
            WHERE [p].[OrderId] = [o].[Id])) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-24 14:33:21.394 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalPrice]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
    SELECT 1
    FROM [PaymentItems] AS [p]
    WHERE [p].[OrderId] = [o].[Id])
2025-08-24 14:33:21.397 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Orders] AS [o]
        WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
            SELECT 1
            FROM [PaymentItems] AS [p]
            WHERE [p].[OrderId] = [o].[Id])) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-24 14:33:21.400 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalPrice]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
    SELECT 1
    FROM [PaymentItems] AS [p]
    WHERE [p].[OrderId] = [o].[Id])
2025-08-24 14:33:21.403 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Orders] AS [o]
        WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
            SELECT 1
            FROM [PaymentItems] AS [p]
            WHERE [p].[OrderId] = [o].[Id])) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-24 14:33:21.406 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalPrice]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
    SELECT 1
    FROM [PaymentItems] AS [p]
    WHERE [p].[OrderId] = [o].[Id])
2025-08-24 14:33:21.415 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__startDate_0='?' (DbType = DateTime2), @__endDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([p].[TotalAmount]), 0.0)
FROM [Payments] AS [p]
WHERE [p].[Status] = 2 AND [p].[CompletedAt] >= @__startDate_0 AND [p].[CompletedAt] < @__endDate_1
2025-08-24 14:33:21.427 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__today_0='?' (DbType = DateTime2), @__tomorrow_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Payments] AS [p]
WHERE [p].[Status] = 2 AND [p].[CompletedAt] >= @__today_0 AND [p].[CompletedAt] < @__tomorrow_1
2025-08-24 14:33:21.431 +03:00 [INF] Executed endpoint '/admin/cashier (/admin/cashier)'
2025-08-24 14:33:21.433 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/admin/cashier - 200 null text/html; charset=utf-8 170.6191ms
2025-08-24 14:33:41.355 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/admin/cashier - null null
2025-08-24 14:33:41.357 +03:00 [INF] Executing endpoint '/admin/cashier (/admin/cashier)'
2025-08-24 14:33:41.362 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[IsActive] = CAST(1 AS bit)
ORDER BY [t].[TableNumber]
2025-08-24 14:33:41.367 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Orders] AS [o]
        WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
            SELECT 1
            FROM [PaymentItems] AS [p]
            WHERE [p].[OrderId] = [o].[Id])) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-24 14:33:41.373 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalPrice]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
    SELECT 1
    FROM [PaymentItems] AS [p]
    WHERE [p].[OrderId] = [o].[Id])
2025-08-24 14:33:41.375 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Orders] AS [o]
        WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
            SELECT 1
            FROM [PaymentItems] AS [p]
            WHERE [p].[OrderId] = [o].[Id])) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-24 14:33:41.378 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalPrice]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
    SELECT 1
    FROM [PaymentItems] AS [p]
    WHERE [p].[OrderId] = [o].[Id])
2025-08-24 14:33:41.380 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Orders] AS [o]
        WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
            SELECT 1
            FROM [PaymentItems] AS [p]
            WHERE [p].[OrderId] = [o].[Id])) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-24 14:33:41.383 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalPrice]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
    SELECT 1
    FROM [PaymentItems] AS [p]
    WHERE [p].[OrderId] = [o].[Id])
2025-08-24 14:33:41.386 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Orders] AS [o]
        WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
            SELECT 1
            FROM [PaymentItems] AS [p]
            WHERE [p].[OrderId] = [o].[Id])) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-24 14:33:41.388 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalPrice]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
    SELECT 1
    FROM [PaymentItems] AS [p]
    WHERE [p].[OrderId] = [o].[Id])
2025-08-24 14:33:41.391 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Orders] AS [o]
        WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
            SELECT 1
            FROM [PaymentItems] AS [p]
            WHERE [p].[OrderId] = [o].[Id])) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-24 14:33:41.394 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalPrice]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
    SELECT 1
    FROM [PaymentItems] AS [p]
    WHERE [p].[OrderId] = [o].[Id])
2025-08-24 14:33:41.397 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__startDate_0='?' (DbType = DateTime2), @__endDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([p].[TotalAmount]), 0.0)
FROM [Payments] AS [p]
WHERE [p].[Status] = 2 AND [p].[CompletedAt] >= @__startDate_0 AND [p].[CompletedAt] < @__endDate_1
2025-08-24 14:33:41.401 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__today_0='?' (DbType = DateTime2), @__tomorrow_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Payments] AS [p]
WHERE [p].[Status] = 2 AND [p].[CompletedAt] >= @__today_0 AND [p].[CompletedAt] < @__tomorrow_1
2025-08-24 14:33:41.405 +03:00 [INF] Executed endpoint '/admin/cashier (/admin/cashier)'
2025-08-24 14:33:41.406 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/admin/cashier - 200 null text/html; charset=utf-8 51.0625ms
2025-08-24 14:33:46.334 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/admin/stok-yonetimi - null null
2025-08-24 14:33:46.336 +03:00 [INF] Executing endpoint '/admin/stok-yonetimi (/admin/stok-yonetimi)'
2025-08-24 14:33:46.342 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[Category], [s].[CreatedAt], [s].[CurrentQuantity], [s].[Description], [s].[IsActive], [s].[LastUpdated], [s].[MinimumQuantity], [s].[Name], [s].[PurchasePrice], [s].[Supplier], [s].[Unit], [s0].[Id], [s0].[CreatedAt], [s0].[CreatedBy], [s0].[Notes], [s0].[Quantity], [s0].[Reference], [s0].[StockId], [s0].[Supplier], [s0].[Type], [s0].[UnitPrice]
FROM [Stocks] AS [s]
LEFT JOIN [StockMovements] AS [s0] ON [s].[Id] = [s0].[StockId]
WHERE [s].[IsActive] = CAST(1 AS bit)
ORDER BY [s].[Name], [s].[Id]
2025-08-24 14:33:46.345 +03:00 [INF] Executed endpoint '/admin/stok-yonetimi (/admin/stok-yonetimi)'
2025-08-24 14:33:46.346 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/admin/stok-yonetimi - 200 null text/html; charset=utf-8 12.3558ms
2025-08-24 14:33:52.805 +03:00 [INF] Application is shutting down...
2025-08-24 14:35:34.532 +03:00 [INF] User profile is available. Using 'C:\Users\fatih\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-24 14:35:35.162 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-24 14:35:35.184 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-08-24 14:35:35.376 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-08-24 14:35:35.437 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 14:35:35.472 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 14:35:35.475 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 14:35:35.477 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 14:35:35.479 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 14:35:35.480 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 14:35:35.482 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 14:35:35.543 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 500), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p7='?' (DbType = Int32), @p8='?' (Size = 500), @p9='?' (DbType = DateTime2), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p14='?' (DbType = Int32), @p15='?' (Size = 500), @p16='?' (DbType = DateTime2), @p17='?' (DbType = Int32), @p18='?' (DbType = Int32), @p19='?' (DbType = Int32), @p20='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p21='?' (DbType = Int32), @p22='?' (Size = 500), @p23='?' (DbType = DateTime2), @p24='?' (DbType = Int32), @p25='?' (DbType = Int32), @p26='?' (DbType = Int32), @p27='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p28='?' (DbType = Int32), @p29='?' (Size = 500), @p30='?' (DbType = DateTime2), @p31='?' (DbType = Int32), @p32='?' (DbType = Int32), @p33='?' (DbType = Int32), @p34='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p35='?' (DbType = Int32), @p36='?' (Size = 500), @p37='?' (DbType = DateTime2), @p38='?' (DbType = Int32), @p39='?' (DbType = Int32), @p40='?' (DbType = Int32), @p41='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p42='?' (DbType = Int32), @p43='?' (Size = 500), @p44='?' (DbType = DateTime2), @p45='?' (DbType = Int32), @p46='?' (DbType = Int32), @p47='?' (DbType = Int32), @p48='?' (Precision = 18) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [Orders] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, 0),
(@p7, @p8, @p9, @p10, @p11, @p12, @p13, 1),
(@p14, @p15, @p16, @p17, @p18, @p19, @p20, 2),
(@p21, @p22, @p23, @p24, @p25, @p26, @p27, 3),
(@p28, @p29, @p30, @p31, @p32, @p33, @p34, 4),
(@p35, @p36, @p37, @p38, @p39, @p40, @p41, 5),
(@p42, @p43, @p44, @p45, @p46, @p47, @p48, 6)) AS i ([MenuItemId], [Notes], [OrderDate], [Quantity], [Status], [TableId], [TotalPrice], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([MenuItemId], [Notes], [OrderDate], [Quantity], [Status], [TableId], [TotalPrice])
VALUES (i.[MenuItemId], i.[Notes], i.[OrderDate], i.[Quantity], i.[Status], i.[TableId], i.[TotalPrice])
OUTPUT INSERTED.[Id], i._Position;
2025-08-24 14:35:35.558 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'RestaurantOrdering.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The MERGE statement conflicted with the FOREIGN KEY constraint "FK_Orders_MenuItems_MenuItemId". The conflict occurred in database "RestaurantOrderingDb", table "dbo.MenuItems", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:05302874-07cb-4f1d-aa9e-47b9174b48a2
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The MERGE statement conflicted with the FOREIGN KEY constraint "FK_Orders_MenuItems_MenuItemId". The conflict occurred in database "RestaurantOrderingDb", table "dbo.MenuItems", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:05302874-07cb-4f1d-aa9e-47b9174b48a2
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-24 14:35:35.563 +03:00 [ERR] An error occurred creating the DB.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The MERGE statement conflicted with the FOREIGN KEY constraint "FK_Orders_MenuItems_MenuItemId". The conflict occurred in database "RestaurantOrderingDb", table "dbo.MenuItems", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:05302874-07cb-4f1d-aa9e-47b9174b48a2
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at RestaurantOrdering.Services.TestOrderService.CreateTestOrdersAsync() in C:\Users\fatih\Desktop\AI\Restorant\Services\TestOrderService.cs:line 119
   at Program.<Main>$(String[] args) in C:\Users\fatih\Desktop\AI\Restorant\Program.cs:line 103
2025-08-24 14:35:35.636 +03:00 [INF] Now listening on: http://localhost:5010
2025-08-24 14:35:35.639 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-24 14:35:35.640 +03:00 [INF] Hosting environment: Development
2025-08-24 14:35:35.640 +03:00 [INF] Content root path: C:\Users\fatih\Desktop\AI\Restorant
2025-08-24 14:35:49.335 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/admin/stok-yonetimi?id=895c99fa-2946-4dc5-91d2-bd81f4df3cd7&vscodeBrowserReqId=1756035349308 - null null
2025-08-24 14:35:49.339 +03:00 [WRN] Failed to determine the https port for redirect.
2025-08-24 14:35:49.359 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-24 14:35:49.363 +03:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2025-08-24 14:35:49.365 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/admin/stok-yonetimi?id=895c99fa-2946-4dc5-91d2-bd81f4df3cd7&vscodeBrowserReqId=1756035349308 - 302 0 null 31.4711ms
2025-08-24 14:35:49.369 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/Identity/Account/Login?ReturnUrl=%2Fadmin%2Fstok-yonetimi%3Fid%3D895c99fa-2946-4dc5-91d2-bd81f4df3cd7%26vscodeBrowserReqId%3D1756035349308 - null null
2025-08-24 14:35:49.374 +03:00 [INF] Executing endpoint '/Account/Login'
2025-08-24 14:35:49.387 +03:00 [INF] Route matched with {page = "/Account/Login", area = "Identity"}. Executing page /Account/Login
2025-08-24 14:35:49.396 +03:00 [INF] Executing handler method Microsoft.AspNetCore.Identity.UI.V5.Pages.Account.Internal.LoginModel.OnGetAsync - ModelState is "Valid"
2025-08-24 14:35:49.401 +03:00 [INF] AuthenticationScheme: Identity.External signed out.
2025-08-24 14:35:49.402 +03:00 [INF] Executed handler method OnGetAsync, returned result .
2025-08-24 14:35:49.405 +03:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2025-08-24 14:35:49.406 +03:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2025-08-24 14:35:49.462 +03:00 [INF] Executed page /Account/Login in 72.7877ms
2025-08-24 14:35:49.462 +03:00 [INF] Executed endpoint '/Account/Login'
2025-08-24 14:35:49.465 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/Identity/Account/Login?ReturnUrl=%2Fadmin%2Fstok-yonetimi%3Fid%3D895c99fa-2946-4dc5-91d2-bd81f4df3cd7%26vscodeBrowserReqId%3D1756035349308 - 200 null text/html; charset=utf-8 95.7719ms
2025-08-24 14:35:58.689 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/admin - null null
2025-08-24 14:35:58.695 +03:00 [INF] Executing endpoint '/admin (/admin)'
2025-08-24 14:35:58.787 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice], [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber], [m].[Id], [m].[CreatedAt], [m].[Description], [m].[ImageData], [m].[ImageUrl], [m].[IsAvailable], [m].[MenuId], [m].[Name], [m].[Price], [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[IsActive], [m0].[Name]
FROM [Orders] AS [o]
INNER JOIN [Tables] AS [t] ON [o].[TableId] = [t].[Id]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[Id]
INNER JOIN [Menus] AS [m0] ON [m].[MenuId] = [m0].[Id]
WHERE [o].[Status] IN (0, 1, 2)
ORDER BY [o].[OrderDate]
2025-08-24 14:35:58.878 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__startDate_0='?' (DbType = DateTime2), @__endDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalPrice]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[Status] = 4 AND [o].[OrderDate] >= @__startDate_0 AND [o].[OrderDate] <= @__endDate_1
2025-08-24 14:35:58.888 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[IsActive] = CAST(1 AS bit)
ORDER BY [t].[TableNumber]
2025-08-24 14:35:58.917 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 14:35:59.091 +03:00 [INF] Executed endpoint '/admin (/admin)'
2025-08-24 14:35:59.095 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/admin - 200 null text/html; charset=utf-8 405.5767ms
2025-08-24 14:35:59.168 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/admin/tables - null null
2025-08-24 14:35:59.172 +03:00 [INF] Executing endpoint '/admin/tables (/admin/tables)'
2025-08-24 14:35:59.215 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
ORDER BY [t].[TableNumber]
2025-08-24 14:35:59.217 +03:00 [INF] Executed endpoint '/admin/tables (/admin/tables)'
2025-08-24 14:35:59.218 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/admin/tables - 200 null text/html; charset=utf-8 50.0198ms
2025-08-24 14:36:00.125 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/admin/stok-yonetimi - null null
2025-08-24 14:36:00.132 +03:00 [INF] Executing endpoint '/admin/stok-yonetimi (/admin/stok-yonetimi)'
2025-08-24 14:36:00.154 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[Category], [s].[CreatedAt], [s].[CurrentQuantity], [s].[Description], [s].[IsActive], [s].[LastUpdated], [s].[MinimumQuantity], [s].[Name], [s].[PurchasePrice], [s].[Supplier], [s].[Unit], [s0].[Id], [s0].[CreatedAt], [s0].[CreatedBy], [s0].[Notes], [s0].[Quantity], [s0].[Reference], [s0].[StockId], [s0].[Supplier], [s0].[Type], [s0].[UnitPrice]
FROM [Stocks] AS [s]
LEFT JOIN [StockMovements] AS [s0] ON [s].[Id] = [s0].[StockId]
WHERE [s].[IsActive] = CAST(1 AS bit)
ORDER BY [s].[Name], [s].[Id]
2025-08-24 14:36:00.160 +03:00 [INF] Executed endpoint '/admin/stok-yonetimi (/admin/stok-yonetimi)'
2025-08-24 14:36:00.161 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/admin/stok-yonetimi - 200 null text/html; charset=utf-8 35.3657ms
2025-08-24 14:36:09.327 +03:00 [INF] Application is shutting down...
2025-08-24 14:36:55.048 +03:00 [INF] User profile is available. Using 'C:\Users\fatih\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-24 14:36:55.690 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-24 14:36:55.712 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-08-24 14:36:55.897 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-08-24 14:36:55.957 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 14:36:55.987 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 14:36:55.990 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 14:36:55.992 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 14:36:55.993 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 14:36:55.995 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 14:36:55.997 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 14:36:56.060 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 500), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p7='?' (DbType = Int32), @p8='?' (Size = 500), @p9='?' (DbType = DateTime2), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p14='?' (DbType = Int32), @p15='?' (Size = 500), @p16='?' (DbType = DateTime2), @p17='?' (DbType = Int32), @p18='?' (DbType = Int32), @p19='?' (DbType = Int32), @p20='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p21='?' (DbType = Int32), @p22='?' (Size = 500), @p23='?' (DbType = DateTime2), @p24='?' (DbType = Int32), @p25='?' (DbType = Int32), @p26='?' (DbType = Int32), @p27='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p28='?' (DbType = Int32), @p29='?' (Size = 500), @p30='?' (DbType = DateTime2), @p31='?' (DbType = Int32), @p32='?' (DbType = Int32), @p33='?' (DbType = Int32), @p34='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p35='?' (DbType = Int32), @p36='?' (Size = 500), @p37='?' (DbType = DateTime2), @p38='?' (DbType = Int32), @p39='?' (DbType = Int32), @p40='?' (DbType = Int32), @p41='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p42='?' (DbType = Int32), @p43='?' (Size = 500), @p44='?' (DbType = DateTime2), @p45='?' (DbType = Int32), @p46='?' (DbType = Int32), @p47='?' (DbType = Int32), @p48='?' (Precision = 18) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [Orders] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, 0),
(@p7, @p8, @p9, @p10, @p11, @p12, @p13, 1),
(@p14, @p15, @p16, @p17, @p18, @p19, @p20, 2),
(@p21, @p22, @p23, @p24, @p25, @p26, @p27, 3),
(@p28, @p29, @p30, @p31, @p32, @p33, @p34, 4),
(@p35, @p36, @p37, @p38, @p39, @p40, @p41, 5),
(@p42, @p43, @p44, @p45, @p46, @p47, @p48, 6)) AS i ([MenuItemId], [Notes], [OrderDate], [Quantity], [Status], [TableId], [TotalPrice], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([MenuItemId], [Notes], [OrderDate], [Quantity], [Status], [TableId], [TotalPrice])
VALUES (i.[MenuItemId], i.[Notes], i.[OrderDate], i.[Quantity], i.[Status], i.[TableId], i.[TotalPrice])
OUTPUT INSERTED.[Id], i._Position;
2025-08-24 14:36:56.076 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'RestaurantOrdering.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The MERGE statement conflicted with the FOREIGN KEY constraint "FK_Orders_MenuItems_MenuItemId". The conflict occurred in database "RestaurantOrderingDb", table "dbo.MenuItems", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:12b6a56b-a58f-4aff-a092-a49ea514b164
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The MERGE statement conflicted with the FOREIGN KEY constraint "FK_Orders_MenuItems_MenuItemId". The conflict occurred in database "RestaurantOrderingDb", table "dbo.MenuItems", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:12b6a56b-a58f-4aff-a092-a49ea514b164
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-24 14:36:56.081 +03:00 [ERR] An error occurred creating the DB.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The MERGE statement conflicted with the FOREIGN KEY constraint "FK_Orders_MenuItems_MenuItemId". The conflict occurred in database "RestaurantOrderingDb", table "dbo.MenuItems", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:12b6a56b-a58f-4aff-a092-a49ea514b164
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at RestaurantOrdering.Services.TestOrderService.CreateTestOrdersAsync() in C:\Users\fatih\Desktop\AI\Restorant\Services\TestOrderService.cs:line 119
   at Program.<Main>$(String[] args) in C:\Users\fatih\Desktop\AI\Restorant\Program.cs:line 103
2025-08-24 14:36:56.157 +03:00 [INF] Now listening on: http://localhost:5010
2025-08-24 14:36:56.159 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-24 14:36:56.160 +03:00 [INF] Hosting environment: Development
2025-08-24 14:36:56.160 +03:00 [INF] Content root path: C:\Users\fatih\Desktop\AI\Restorant
2025-08-24 14:37:03.085 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/admin/orders - null null
2025-08-24 14:37:03.089 +03:00 [WRN] Failed to determine the https port for redirect.
2025-08-24 14:37:03.114 +03:00 [INF] Executing endpoint '/admin/orders (/admin/orders)'
2025-08-24 14:37:03.157 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[IsActive] = CAST(1 AS bit)
ORDER BY [t].[TableNumber]
2025-08-24 14:37:03.195 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[TableId], [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[Status] IN (0, 1, 2, 3)
ORDER BY [o].[TableId]
2025-08-24 14:37:03.258 +03:00 [INF] Executed endpoint '/admin/orders (/admin/orders)'
2025-08-24 14:37:03.264 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/admin/orders - 200 null text/html; charset=utf-8 179.6052ms
2025-08-24 14:37:03.753 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/admin/tables - null null
2025-08-24 14:37:03.759 +03:00 [INF] Executing endpoint '/admin/tables (/admin/tables)'
2025-08-24 14:37:03.803 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
ORDER BY [t].[TableNumber]
2025-08-24 14:37:03.807 +03:00 [INF] Executed endpoint '/admin/tables (/admin/tables)'
2025-08-24 14:37:03.808 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/admin/tables - 200 null text/html; charset=utf-8 55.2812ms
2025-08-24 14:37:04.280 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/admin - null null
2025-08-24 14:37:04.289 +03:00 [INF] Executing endpoint '/admin (/admin)'
2025-08-24 14:37:04.343 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice], [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber], [m].[Id], [m].[CreatedAt], [m].[Description], [m].[ImageData], [m].[ImageUrl], [m].[IsAvailable], [m].[MenuId], [m].[Name], [m].[Price], [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[IsActive], [m0].[Name]
FROM [Orders] AS [o]
INNER JOIN [Tables] AS [t] ON [o].[TableId] = [t].[Id]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[Id]
INNER JOIN [Menus] AS [m0] ON [m].[MenuId] = [m0].[Id]
WHERE [o].[Status] IN (0, 1, 2)
ORDER BY [o].[OrderDate]
2025-08-24 14:37:04.422 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__startDate_0='?' (DbType = DateTime2), @__endDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalPrice]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[Status] = 4 AND [o].[OrderDate] >= @__startDate_0 AND [o].[OrderDate] <= @__endDate_1
2025-08-24 14:37:04.426 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[IsActive] = CAST(1 AS bit)
ORDER BY [t].[TableNumber]
2025-08-24 14:37:04.454 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 14:37:04.587 +03:00 [INF] Executed endpoint '/admin (/admin)'
2025-08-24 14:37:04.589 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/admin - 200 null text/html; charset=utf-8 308.914ms
2025-08-24 14:37:06.008 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/admin/stok-yonetimi - null null
2025-08-24 14:37:06.010 +03:00 [INF] Executing endpoint '/admin/stok-yonetimi (/admin/stok-yonetimi)'
2025-08-24 14:37:06.026 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[Category], [s].[CreatedAt], [s].[CurrentQuantity], [s].[Description], [s].[IsActive], [s].[LastUpdated], [s].[MinimumQuantity], [s].[Name], [s].[PurchasePrice], [s].[Supplier], [s].[Unit], [s0].[Id], [s0].[CreatedAt], [s0].[CreatedBy], [s0].[Notes], [s0].[Quantity], [s0].[Reference], [s0].[StockId], [s0].[Supplier], [s0].[Type], [s0].[UnitPrice]
FROM [Stocks] AS [s]
LEFT JOIN [StockMovements] AS [s0] ON [s].[Id] = [s0].[StockId]
WHERE [s].[IsActive] = CAST(1 AS bit)
ORDER BY [s].[Name], [s].[Id]
2025-08-24 14:37:06.030 +03:00 [INF] Executed endpoint '/admin/stok-yonetimi (/admin/stok-yonetimi)'
2025-08-24 14:37:06.031 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/admin/stok-yonetimi - 200 null text/html; charset=utf-8 23.0639ms
2025-08-24 14:37:08.532 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/admin/stok-yonetimi?id=895c99fa-2946-4dc5-91d2-bd81f4df3cd7&vscodeBrowserReqId=1756035428528 - null null
2025-08-24 14:37:08.535 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-24 14:37:08.540 +03:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2025-08-24 14:37:08.541 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/admin/stok-yonetimi?id=895c99fa-2946-4dc5-91d2-bd81f4df3cd7&vscodeBrowserReqId=1756035428528 - 302 0 null 9.0716ms
2025-08-24 14:37:08.545 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/Identity/Account/Login?ReturnUrl=%2Fadmin%2Fstok-yonetimi%3Fid%3D895c99fa-2946-4dc5-91d2-bd81f4df3cd7%26vscodeBrowserReqId%3D1756035428528 - null null
2025-08-24 14:37:08.548 +03:00 [INF] Executing endpoint '/Account/Login'
2025-08-24 14:37:08.567 +03:00 [INF] Route matched with {page = "/Account/Login", area = "Identity"}. Executing page /Account/Login
2025-08-24 14:37:08.578 +03:00 [INF] Executing handler method Microsoft.AspNetCore.Identity.UI.V5.Pages.Account.Internal.LoginModel.OnGetAsync - ModelState is "Valid"
2025-08-24 14:37:08.582 +03:00 [INF] AuthenticationScheme: Identity.External signed out.
2025-08-24 14:37:08.583 +03:00 [INF] Executed handler method OnGetAsync, returned result .
2025-08-24 14:37:08.586 +03:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2025-08-24 14:37:08.586 +03:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2025-08-24 14:37:08.660 +03:00 [INF] Executed page /Account/Login in 89.9321ms
2025-08-24 14:37:08.662 +03:00 [INF] Executed endpoint '/Account/Login'
2025-08-24 14:37:08.665 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/Identity/Account/Login?ReturnUrl=%2Fadmin%2Fstok-yonetimi%3Fid%3D895c99fa-2946-4dc5-91d2-bd81f4df3cd7%26vscodeBrowserReqId%3D1756035428528 - 200 null text/html; charset=utf-8 119.9987ms
2025-08-24 14:37:25.640 +03:00 [INF] Application is shutting down...
2025-08-24 14:41:38.895 +03:00 [INF] User profile is available. Using 'C:\Users\fatih\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-24 14:41:39.513 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-24 14:41:39.537 +03:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-08-24 14:41:39.726 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-08-24 14:41:39.782 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 14:41:39.817 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 14:41:39.820 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 14:41:39.821 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 14:41:39.823 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 14:41:39.825 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 14:41:39.826 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 14:41:39.892 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 500), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p7='?' (DbType = Int32), @p8='?' (Size = 500), @p9='?' (DbType = DateTime2), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p14='?' (DbType = Int32), @p15='?' (Size = 500), @p16='?' (DbType = DateTime2), @p17='?' (DbType = Int32), @p18='?' (DbType = Int32), @p19='?' (DbType = Int32), @p20='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p21='?' (DbType = Int32), @p22='?' (Size = 500), @p23='?' (DbType = DateTime2), @p24='?' (DbType = Int32), @p25='?' (DbType = Int32), @p26='?' (DbType = Int32), @p27='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p28='?' (DbType = Int32), @p29='?' (Size = 500), @p30='?' (DbType = DateTime2), @p31='?' (DbType = Int32), @p32='?' (DbType = Int32), @p33='?' (DbType = Int32), @p34='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p35='?' (DbType = Int32), @p36='?' (Size = 500), @p37='?' (DbType = DateTime2), @p38='?' (DbType = Int32), @p39='?' (DbType = Int32), @p40='?' (DbType = Int32), @p41='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p42='?' (DbType = Int32), @p43='?' (Size = 500), @p44='?' (DbType = DateTime2), @p45='?' (DbType = Int32), @p46='?' (DbType = Int32), @p47='?' (DbType = Int32), @p48='?' (Precision = 18) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [Orders] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, 0),
(@p7, @p8, @p9, @p10, @p11, @p12, @p13, 1),
(@p14, @p15, @p16, @p17, @p18, @p19, @p20, 2),
(@p21, @p22, @p23, @p24, @p25, @p26, @p27, 3),
(@p28, @p29, @p30, @p31, @p32, @p33, @p34, 4),
(@p35, @p36, @p37, @p38, @p39, @p40, @p41, 5),
(@p42, @p43, @p44, @p45, @p46, @p47, @p48, 6)) AS i ([MenuItemId], [Notes], [OrderDate], [Quantity], [Status], [TableId], [TotalPrice], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([MenuItemId], [Notes], [OrderDate], [Quantity], [Status], [TableId], [TotalPrice])
VALUES (i.[MenuItemId], i.[Notes], i.[OrderDate], i.[Quantity], i.[Status], i.[TableId], i.[TotalPrice])
OUTPUT INSERTED.[Id], i._Position;
2025-08-24 14:41:39.905 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'RestaurantOrdering.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The MERGE statement conflicted with the FOREIGN KEY constraint "FK_Orders_MenuItems_MenuItemId". The conflict occurred in database "RestaurantOrderingDb", table "dbo.MenuItems", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:b0f17f00-85d7-444c-96af-492e897e78c4
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The MERGE statement conflicted with the FOREIGN KEY constraint "FK_Orders_MenuItems_MenuItemId". The conflict occurred in database "RestaurantOrderingDb", table "dbo.MenuItems", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:b0f17f00-85d7-444c-96af-492e897e78c4
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-24 14:41:39.911 +03:00 [ERR] An error occurred creating the DB.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The MERGE statement conflicted with the FOREIGN KEY constraint "FK_Orders_MenuItems_MenuItemId". The conflict occurred in database "RestaurantOrderingDb", table "dbo.MenuItems", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:b0f17f00-85d7-444c-96af-492e897e78c4
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at RestaurantOrdering.Services.TestOrderService.CreateTestOrdersAsync() in C:\Users\fatih\Desktop\AI\Restorant\Services\TestOrderService.cs:line 119
   at Program.<Main>$(String[] args) in C:\Users\fatih\Desktop\AI\Restorant\Program.cs:line 103
2025-08-24 14:41:39.983 +03:00 [INF] Now listening on: http://localhost:5010
2025-08-24 14:41:39.985 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-24 14:41:39.986 +03:00 [INF] Hosting environment: Development
2025-08-24 14:41:39.987 +03:00 [INF] Content root path: C:\Users\fatih\Desktop\AI\Restorant
2025-08-24 14:41:52.363 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/admin/stok-yonetimi?id=895c99fa-2946-4dc5-91d2-bd81f4df3cd7&vscodeBrowserReqId=1756035712336 - null null
2025-08-24 14:41:52.367 +03:00 [WRN] Failed to determine the https port for redirect.
2025-08-24 14:41:52.385 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-24 14:41:52.390 +03:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2025-08-24 14:41:52.392 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/admin/stok-yonetimi?id=895c99fa-2946-4dc5-91d2-bd81f4df3cd7&vscodeBrowserReqId=1756035712336 - 302 0 null 30.291ms
2025-08-24 14:41:52.396 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/Identity/Account/Login?ReturnUrl=%2Fadmin%2Fstok-yonetimi%3Fid%3D895c99fa-2946-4dc5-91d2-bd81f4df3cd7%26vscodeBrowserReqId%3D1756035712336 - null null
2025-08-24 14:41:52.401 +03:00 [INF] Executing endpoint '/Account/Login'
2025-08-24 14:41:52.415 +03:00 [INF] Route matched with {page = "/Account/Login", area = "Identity"}. Executing page /Account/Login
2025-08-24 14:41:52.424 +03:00 [INF] Executing handler method Microsoft.AspNetCore.Identity.UI.V5.Pages.Account.Internal.LoginModel.OnGetAsync - ModelState is "Valid"
2025-08-24 14:41:52.428 +03:00 [INF] AuthenticationScheme: Identity.External signed out.
2025-08-24 14:41:52.429 +03:00 [INF] Executed handler method OnGetAsync, returned result .
2025-08-24 14:41:52.431 +03:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2025-08-24 14:41:52.432 +03:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2025-08-24 14:41:52.489 +03:00 [INF] Executed page /Account/Login in 71.705ms
2025-08-24 14:41:52.490 +03:00 [INF] Executed endpoint '/Account/Login'
2025-08-24 14:41:52.492 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/Identity/Account/Login?ReturnUrl=%2Fadmin%2Fstok-yonetimi%3Fid%3D895c99fa-2946-4dc5-91d2-bd81f4df3cd7%26vscodeBrowserReqId%3D1756035712336 - 200 null text/html; charset=utf-8 96.573ms
2025-08-24 14:42:30.926 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/admin/stok-yonetimi - null null
2025-08-24 14:42:30.933 +03:00 [INF] Executing endpoint '/admin/stok-yonetimi (/admin/stok-yonetimi)'
2025-08-24 14:42:31.019 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[Category], [s].[CreatedAt], [s].[CurrentQuantity], [s].[Description], [s].[IsActive], [s].[LastUpdated], [s].[MinimumQuantity], [s].[Name], [s].[PurchasePrice], [s].[Supplier], [s].[Unit], [s0].[Id], [s0].[CreatedAt], [s0].[CreatedBy], [s0].[Notes], [s0].[Quantity], [s0].[Reference], [s0].[StockId], [s0].[Supplier], [s0].[Type], [s0].[UnitPrice]
FROM [Stocks] AS [s]
LEFT JOIN [StockMovements] AS [s0] ON [s].[Id] = [s0].[StockId]
WHERE [s].[IsActive] = CAST(1 AS bit)
ORDER BY [s].[Name], [s].[Id]
2025-08-24 14:42:31.076 +03:00 [INF] Executed endpoint '/admin/stok-yonetimi (/admin/stok-yonetimi)'
2025-08-24 14:42:31.079 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/admin/stok-yonetimi - 200 null text/html; charset=utf-8 152.5619ms
2025-08-24 14:42:31.086 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/app.css - null null
2025-08-24 14:42:31.086 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/RestaurantOrdering.styles.css - null null
2025-08-24 14:42:31.086 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/_framework/blazor.web.js - null null
2025-08-24 14:42:31.090 +03:00 [INF] The file /app.css was not modified
2025-08-24 14:42:31.090 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/app.css - 304 null text/css 4.0629ms
2025-08-24 14:42:31.090 +03:00 [INF] Executing endpoint 'Blazor web static files'
2025-08-24 14:42:31.093 +03:00 [INF] The file /_framework/blazor.web.js was not modified
2025-08-24 14:42:31.094 +03:00 [INF] Executed endpoint 'Blazor web static files'
2025-08-24 14:42:31.095 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/_framework/blazor.web.js - 304 null text/javascript 8.352ms
2025-08-24 14:42:31.106 +03:00 [INF] Sending file. Request path: '/RestaurantOrdering.styles.css'. Physical path: 'C:\Users\fatih\Desktop\AI\Restorant\obj\Debug\net8.0\scopedcss\bundle\RestaurantOrdering.styles.css'
2025-08-24 14:42:31.107 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/RestaurantOrdering.styles.css - 200 12473 text/css 20.6506ms
2025-08-24 14:42:31.239 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/_blazor/initializers - null null
2025-08-24 14:42:31.246 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 14:42:31.251 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 14:42:31.251 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/_blazor/initializers - 200 null application/json; charset=utf-8 12.8879ms
2025-08-24 14:42:31.254 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5010/_blazor/negotiate?negotiateVersion=1 - null 0
2025-08-24 14:42:31.256 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 14:42:31.259 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 14:42:31.260 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5010/_blazor/negotiate?negotiateVersion=1 - 200 316 application/json 5.8483ms
2025-08-24 14:42:31.261 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/_blazor?id=pfvyTjpooQQCZBAtA5Ii2w - null null
2025-08-24 14:42:31.263 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 14:42:31.361 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[Category], [s].[CreatedAt], [s].[CurrentQuantity], [s].[Description], [s].[IsActive], [s].[LastUpdated], [s].[MinimumQuantity], [s].[Name], [s].[PurchasePrice], [s].[Supplier], [s].[Unit], [s0].[Id], [s0].[CreatedAt], [s0].[CreatedBy], [s0].[Notes], [s0].[Quantity], [s0].[Reference], [s0].[StockId], [s0].[Supplier], [s0].[Type], [s0].[UnitPrice]
FROM [Stocks] AS [s]
LEFT JOIN [StockMovements] AS [s0] ON [s].[Id] = [s0].[StockId]
WHERE [s].[IsActive] = CAST(1 AS bit)
ORDER BY [s].[Name], [s].[Id]
2025-08-24 14:42:33.302 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/admin/orders - null null
2025-08-24 14:42:33.305 +03:00 [INF] Executing endpoint '/admin/orders (/admin/orders)'
2025-08-24 14:42:33.321 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[IsActive] = CAST(1 AS bit)
ORDER BY [t].[TableNumber]
2025-08-24 14:42:33.353 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[TableId], [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[Status] IN (0, 1, 2, 3)
ORDER BY [o].[TableId]
2025-08-24 14:42:33.364 +03:00 [INF] Executed endpoint '/admin/orders (/admin/orders)'
2025-08-24 14:42:33.365 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/admin/orders - 200 null text/html; charset=utf-8 62.5958ms
2025-08-24 14:42:33.383 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[IsActive] = CAST(1 AS bit)
ORDER BY [t].[TableNumber]
2025-08-24 14:42:33.386 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[TableId], [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[Status] IN (0, 1, 2, 3)
ORDER BY [o].[TableId]
2025-08-24 14:42:34.150 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/admin/tables - null null
2025-08-24 14:42:34.153 +03:00 [INF] Executing endpoint '/admin/tables (/admin/tables)'
2025-08-24 14:42:34.163 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
ORDER BY [t].[TableNumber]
2025-08-24 14:42:34.166 +03:00 [INF] Executed endpoint '/admin/tables (/admin/tables)'
2025-08-24 14:42:34.167 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/admin/tables - 200 null text/html; charset=utf-8 16.7598ms
2025-08-24 14:42:34.180 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
ORDER BY [t].[TableNumber]
2025-08-24 14:42:34.916 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/admin/stok-yonetimi - null null
2025-08-24 14:42:34.919 +03:00 [INF] Executing endpoint '/admin/stok-yonetimi (/admin/stok-yonetimi)'
2025-08-24 14:42:34.922 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[Category], [s].[CreatedAt], [s].[CurrentQuantity], [s].[Description], [s].[IsActive], [s].[LastUpdated], [s].[MinimumQuantity], [s].[Name], [s].[PurchasePrice], [s].[Supplier], [s].[Unit], [s0].[Id], [s0].[CreatedAt], [s0].[CreatedBy], [s0].[Notes], [s0].[Quantity], [s0].[Reference], [s0].[StockId], [s0].[Supplier], [s0].[Type], [s0].[UnitPrice]
FROM [Stocks] AS [s]
LEFT JOIN [StockMovements] AS [s0] ON [s].[Id] = [s0].[StockId]
WHERE [s].[IsActive] = CAST(1 AS bit)
ORDER BY [s].[Name], [s].[Id]
2025-08-24 14:42:34.925 +03:00 [INF] Executed endpoint '/admin/stok-yonetimi (/admin/stok-yonetimi)'
2025-08-24 14:42:34.926 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/admin/stok-yonetimi - 200 null text/html; charset=utf-8 10.0137ms
2025-08-24 14:42:34.935 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[Category], [s].[CreatedAt], [s].[CurrentQuantity], [s].[Description], [s].[IsActive], [s].[LastUpdated], [s].[MinimumQuantity], [s].[Name], [s].[PurchasePrice], [s].[Supplier], [s].[Unit], [s0].[Id], [s0].[CreatedAt], [s0].[CreatedBy], [s0].[Notes], [s0].[Quantity], [s0].[Reference], [s0].[StockId], [s0].[Supplier], [s0].[Type], [s0].[UnitPrice]
FROM [Stocks] AS [s]
LEFT JOIN [StockMovements] AS [s0] ON [s].[Id] = [s0].[StockId]
WHERE [s].[IsActive] = CAST(1 AS bit)
ORDER BY [s].[Name], [s].[Id]
2025-08-24 14:42:34.944 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/admin/stok-yonetimi - null null
2025-08-24 14:42:34.947 +03:00 [INF] Executing endpoint '/admin/stok-yonetimi (/admin/stok-yonetimi)'
2025-08-24 14:42:34.949 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[Category], [s].[CreatedAt], [s].[CurrentQuantity], [s].[Description], [s].[IsActive], [s].[LastUpdated], [s].[MinimumQuantity], [s].[Name], [s].[PurchasePrice], [s].[Supplier], [s].[Unit], [s0].[Id], [s0].[CreatedAt], [s0].[CreatedBy], [s0].[Notes], [s0].[Quantity], [s0].[Reference], [s0].[StockId], [s0].[Supplier], [s0].[Type], [s0].[UnitPrice]
FROM [Stocks] AS [s]
LEFT JOIN [StockMovements] AS [s0] ON [s].[Id] = [s0].[StockId]
WHERE [s].[IsActive] = CAST(1 AS bit)
ORDER BY [s].[Name], [s].[Id]
2025-08-24 14:42:34.952 +03:00 [INF] Executed endpoint '/admin/stok-yonetimi (/admin/stok-yonetimi)'
2025-08-24 14:42:34.953 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/admin/stok-yonetimi - 200 null text/html; charset=utf-8 9.3878ms
2025-08-24 14:54:13.571 +03:00 [INF] Application is shutting down...
2025-08-24 14:54:13.571 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 14:54:13.572 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/_blazor?id=pfvyTjpooQQCZBAtA5Ii2w - 101 null null 702310.933ms
2025-08-24 15:15:16.696 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-24 15:15:16.723 +03:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-08-24 15:15:16.736 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-08-24 15:15:16.768 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-08-24 15:15:16.774 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-24 15:15:16.775 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-08-24 15:15:16.780 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-08-24 15:15:16.786 +03:00 [INF] Applying migration '20250824121445_AddSupplierAndTaxRateTables'.
2025-08-24 15:15:16.836 +03:00 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var sysname;
SELECT @var = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Stocks]') AND [c].[name] = N'Supplier');
IF @var IS NOT NULL EXEC(N'ALTER TABLE [Stocks] DROP CONSTRAINT [' + @var + '];');
ALTER TABLE [Stocks] DROP COLUMN [Supplier];
2025-08-24 15:15:16.838 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Stocks] ADD [SupplierId] int NULL;
2025-08-24 15:15:16.840 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Stocks] ADD [TaxRateId] int NULL;
2025-08-24 15:15:16.842 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Suppliers] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(100) NOT NULL,
    [Address] nvarchar(200) NULL,
    [Phone] nvarchar(20) NULL,
    [Email] nvarchar(100) NULL,
    [ContactPerson] nvarchar(50) NULL,
    [IsActive] bit NOT NULL,
    [CreatedAt] datetime2 NOT NULL,
    CONSTRAINT [PK_Suppliers] PRIMARY KEY ([Id])
);
2025-08-24 15:15:16.844 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [TaxRates] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(50) NOT NULL,
    [Rate] decimal(5,2) NOT NULL,
    [Description] nvarchar(200) NULL,
    [IsActive] bit NOT NULL,
    [CreatedAt] datetime2 NOT NULL,
    CONSTRAINT [PK_TaxRates] PRIMARY KEY ([Id])
);
2025-08-24 15:15:16.856 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Address', N'ContactPerson', N'CreatedAt', N'Email', N'IsActive', N'Name', N'Phone') AND [object_id] = OBJECT_ID(N'[Suppliers]'))
    SET IDENTITY_INSERT [Suppliers] ON;
INSERT INTO [Suppliers] ([Id], [Address], [ContactPerson], [CreatedAt], [Email], [IsActive], [Name], [Phone])
VALUES (1, N'İstanbul, Türkiye', N'Ahmet Yılmaz', '2025-08-21T18:00:00.0000000Z', N'info@metro.com', CAST(1 AS bit), N'Metro Market', N'0212 555 0001'),
(2, N'Ankara, Türkiye', N'Fatma Kaya', '2025-08-21T18:00:00.0000000Z', N'tedarik@carrefour.com', CAST(1 AS bit), N'Carrefour', N'0312 555 0002'),
(3, N'İzmir, Türkiye', N'Mehmet Öz', '2025-08-21T18:00:00.0000000Z', N'satinalma@bim.com', CAST(1 AS bit), N'BİM', N'0232 555 0003'),
(4, N'Bursa, Türkiye', N'Ayşe Demir', '2025-08-21T18:00:00.0000000Z', N'tedarikci@migros.com', CAST(1 AS bit), N'Migros', N'0224 555 0004'),
(5, N'Antalya, Türkiye', N'Ali Vural', '2025-08-21T18:00:00.0000000Z', N'info@yerelmarket.com', CAST(1 AS bit), N'Yerel Market', N'0242 555 0005');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'Address', N'ContactPerson', N'CreatedAt', N'Email', N'IsActive', N'Name', N'Phone') AND [object_id] = OBJECT_ID(N'[Suppliers]'))
    SET IDENTITY_INSERT [Suppliers] OFF;
2025-08-24 15:15:16.867 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'CreatedAt', N'Description', N'IsActive', N'Name', N'Rate') AND [object_id] = OBJECT_ID(N'[TaxRates]'))
    SET IDENTITY_INSERT [TaxRates] ON;
INSERT INTO [TaxRates] ([Id], [CreatedAt], [Description], [IsActive], [Name], [Rate])
VALUES (1, '2025-08-21T18:00:00.0000000Z', N'Temel gıda maddeleri için KDV oranı', CAST(1 AS bit), N'KDV %1', 1.0),
(2, '2025-08-21T18:00:00.0000000Z', N'Bazı gıda maddeleri için KDV oranı', CAST(1 AS bit), N'KDV %8', 8.0),
(3, '2025-08-21T18:00:00.0000000Z', N'İndirimli KDV oranı', CAST(1 AS bit), N'KDV %10', 10.0),
(4, '2025-08-21T18:00:00.0000000Z', N'Genel KDV oranı', CAST(1 AS bit), N'KDV %18', 18.0),
(5, '2025-08-21T18:00:00.0000000Z', N'Lüks ürünler için KDV oranı', CAST(1 AS bit), N'KDV %20', 20.0);
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'CreatedAt', N'Description', N'IsActive', N'Name', N'Rate') AND [object_id] = OBJECT_ID(N'[TaxRates]'))
    SET IDENTITY_INSERT [TaxRates] OFF;
2025-08-24 15:15:16.869 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Stocks_SupplierId] ON [Stocks] ([SupplierId]);
2025-08-24 15:15:16.871 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Stocks_TaxRateId] ON [Stocks] ([TaxRateId]);
2025-08-24 15:15:16.872 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Stocks] ADD CONSTRAINT [FK_Stocks_Suppliers_SupplierId] FOREIGN KEY ([SupplierId]) REFERENCES [Suppliers] ([Id]) ON DELETE SET NULL;
2025-08-24 15:15:16.874 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Stocks] ADD CONSTRAINT [FK_Stocks_TaxRates_TaxRateId] FOREIGN KEY ([TaxRateId]) REFERENCES [TaxRates] ([Id]) ON DELETE SET NULL;
2025-08-24 15:15:16.876 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20250824121445_AddSupplierAndTaxRateTables', N'9.0.8');
2025-08-24 15:15:16.878 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-08-24 15:15:44.869 +03:00 [INF] User profile is available. Using 'C:\Users\fatih\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-24 15:15:45.425 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-24 15:15:45.450 +03:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-08-24 15:15:45.618 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-08-24 15:15:45.674 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 15:15:45.707 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 15:15:45.713 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 15:15:45.718 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 15:15:45.722 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 15:15:45.726 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 15:15:45.730 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__order_TableId_0='?' (DbType = Int32), @__order_MenuItemId_1='?' (DbType = Int32), @__order_Quantity_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__order_TableId_0 AND [o].[MenuItemId] = @__order_MenuItemId_1 AND [o].[Quantity] = @__order_Quantity_2
2025-08-24 15:15:45.789 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 500), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p7='?' (DbType = Int32), @p8='?' (Size = 500), @p9='?' (DbType = DateTime2), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p14='?' (DbType = Int32), @p15='?' (Size = 500), @p16='?' (DbType = DateTime2), @p17='?' (DbType = Int32), @p18='?' (DbType = Int32), @p19='?' (DbType = Int32), @p20='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p21='?' (DbType = Int32), @p22='?' (Size = 500), @p23='?' (DbType = DateTime2), @p24='?' (DbType = Int32), @p25='?' (DbType = Int32), @p26='?' (DbType = Int32), @p27='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p28='?' (DbType = Int32), @p29='?' (Size = 500), @p30='?' (DbType = DateTime2), @p31='?' (DbType = Int32), @p32='?' (DbType = Int32), @p33='?' (DbType = Int32), @p34='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p35='?' (DbType = Int32), @p36='?' (Size = 500), @p37='?' (DbType = DateTime2), @p38='?' (DbType = Int32), @p39='?' (DbType = Int32), @p40='?' (DbType = Int32), @p41='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p42='?' (DbType = Int32), @p43='?' (Size = 500), @p44='?' (DbType = DateTime2), @p45='?' (DbType = Int32), @p46='?' (DbType = Int32), @p47='?' (DbType = Int32), @p48='?' (Precision = 18) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [Orders] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, 0),
(@p7, @p8, @p9, @p10, @p11, @p12, @p13, 1),
(@p14, @p15, @p16, @p17, @p18, @p19, @p20, 2),
(@p21, @p22, @p23, @p24, @p25, @p26, @p27, 3),
(@p28, @p29, @p30, @p31, @p32, @p33, @p34, 4),
(@p35, @p36, @p37, @p38, @p39, @p40, @p41, 5),
(@p42, @p43, @p44, @p45, @p46, @p47, @p48, 6)) AS i ([MenuItemId], [Notes], [OrderDate], [Quantity], [Status], [TableId], [TotalPrice], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([MenuItemId], [Notes], [OrderDate], [Quantity], [Status], [TableId], [TotalPrice])
VALUES (i.[MenuItemId], i.[Notes], i.[OrderDate], i.[Quantity], i.[Status], i.[TableId], i.[TotalPrice])
OUTPUT INSERTED.[Id], i._Position;
2025-08-24 15:15:45.802 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'RestaurantOrdering.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The MERGE statement conflicted with the FOREIGN KEY constraint "FK_Orders_MenuItems_MenuItemId". The conflict occurred in database "RestaurantOrderingDb", table "dbo.MenuItems", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:2830af63-3d41-47da-a6a5-19c7ebf26f02
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The MERGE statement conflicted with the FOREIGN KEY constraint "FK_Orders_MenuItems_MenuItemId". The conflict occurred in database "RestaurantOrderingDb", table "dbo.MenuItems", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:2830af63-3d41-47da-a6a5-19c7ebf26f02
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-24 15:15:45.808 +03:00 [ERR] An error occurred creating the DB.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The MERGE statement conflicted with the FOREIGN KEY constraint "FK_Orders_MenuItems_MenuItemId". The conflict occurred in database "RestaurantOrderingDb", table "dbo.MenuItems", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:2830af63-3d41-47da-a6a5-19c7ebf26f02
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at RestaurantOrdering.Services.TestOrderService.CreateTestOrdersAsync() in C:\Users\fatih\Desktop\AI\Restorant\Services\TestOrderService.cs:line 119
   at Program.<Main>$(String[] args) in C:\Users\fatih\Desktop\AI\Restorant\Program.cs:line 105
2025-08-24 15:15:45.882 +03:00 [INF] Now listening on: http://localhost:5010
2025-08-24 15:15:45.885 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-24 15:15:45.885 +03:00 [INF] Hosting environment: Development
2025-08-24 15:15:45.886 +03:00 [INF] Content root path: C:\Users\fatih\Desktop\AI\Restorant
2025-08-24 15:16:13.245 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/admin/stok-yonetimi?id=8ca62761-7f09-4e7c-8d24-535d53039bc2&vscodeBrowserReqId=1756037773220 - null null
2025-08-24 15:16:13.248 +03:00 [WRN] Failed to determine the https port for redirect.
2025-08-24 15:16:13.267 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-24 15:16:13.271 +03:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2025-08-24 15:16:13.274 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/admin/stok-yonetimi?id=8ca62761-7f09-4e7c-8d24-535d53039bc2&vscodeBrowserReqId=1756037773220 - 302 0 null 30.1772ms
2025-08-24 15:16:13.277 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/Identity/Account/Login?ReturnUrl=%2Fadmin%2Fstok-yonetimi%3Fid%3D8ca62761-7f09-4e7c-8d24-535d53039bc2%26vscodeBrowserReqId%3D1756037773220 - null null
2025-08-24 15:16:13.281 +03:00 [INF] Executing endpoint '/Account/Login'
2025-08-24 15:16:13.294 +03:00 [INF] Route matched with {page = "/Account/Login", area = "Identity"}. Executing page /Account/Login
2025-08-24 15:16:13.303 +03:00 [INF] Executing handler method Microsoft.AspNetCore.Identity.UI.V5.Pages.Account.Internal.LoginModel.OnGetAsync - ModelState is "Valid"
2025-08-24 15:16:13.306 +03:00 [INF] AuthenticationScheme: Identity.External signed out.
2025-08-24 15:16:13.307 +03:00 [INF] Executed handler method OnGetAsync, returned result .
2025-08-24 15:16:13.309 +03:00 [INF] Executing an implicit handler method - ModelState is "Valid"
2025-08-24 15:16:13.310 +03:00 [INF] Executed an implicit handler method, returned result Microsoft.AspNetCore.Mvc.RazorPages.PageResult.
2025-08-24 15:16:13.363 +03:00 [INF] Executed page /Account/Login in 66.4652ms
2025-08-24 15:16:13.364 +03:00 [INF] Executed endpoint '/Account/Login'
2025-08-24 15:16:13.366 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/Identity/Account/Login?ReturnUrl=%2Fadmin%2Fstok-yonetimi%3Fid%3D8ca62761-7f09-4e7c-8d24-535d53039bc2%26vscodeBrowserReqId%3D1756037773220 - 200 null text/html; charset=utf-8 88.8563ms
2025-08-24 15:16:31.243 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/admin/stok-yonetimi - null null
2025-08-24 15:16:31.276 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-08-24 15:16:31.301 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-08-24 15:16:31.306 +03:00 [INF] Executing endpoint '/admin/stok-yonetimi (/admin/stok-yonetimi)'
2025-08-24 15:16:31.368 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[Category], [s].[CreatedAt], [s].[CurrentQuantity], [s].[Description], [s].[IsActive], [s].[LastUpdated], [s].[MinimumQuantity], [s].[Name], [s].[PurchasePrice], [s].[SupplierId], [s].[TaxRateId], [s].[Unit], [s0].[Id], [s0].[CreatedAt], [s0].[CreatedBy], [s0].[Notes], [s0].[Quantity], [s0].[Reference], [s0].[StockId], [s0].[Supplier], [s0].[Type], [s0].[UnitPrice]
FROM [Stocks] AS [s]
LEFT JOIN [StockMovements] AS [s0] ON [s].[Id] = [s0].[StockId]
WHERE [s].[IsActive] = CAST(1 AS bit)
ORDER BY [s].[Name], [s].[Id]
2025-08-24 15:16:31.378 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[Address], [s].[ContactPerson], [s].[CreatedAt], [s].[Email], [s].[IsActive], [s].[Name], [s].[Phone]
FROM [Suppliers] AS [s]
ORDER BY [s].[Name]
2025-08-24 15:16:31.395 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAt], [t].[Description], [t].[IsActive], [t].[Name], [t].[Rate]
FROM [TaxRates] AS [t]
ORDER BY [t].[Rate]
2025-08-24 15:16:31.454 +03:00 [INF] Executed endpoint '/admin/stok-yonetimi (/admin/stok-yonetimi)'
2025-08-24 15:16:31.457 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/admin/stok-yonetimi - 200 null text/html; charset=utf-8 214.1072ms
2025-08-24 15:16:31.553 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/app.css - null null
2025-08-24 15:16:31.554 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/RestaurantOrdering.styles.css - null null
2025-08-24 15:16:31.554 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/_framework/blazor.web.js - null null
2025-08-24 15:16:31.557 +03:00 [INF] The file /app.css was not modified
2025-08-24 15:16:31.557 +03:00 [INF] The file /RestaurantOrdering.styles.css was not modified
2025-08-24 15:16:31.558 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/app.css - 304 null text/css 4.7245ms
2025-08-24 15:16:31.558 +03:00 [INF] Executing endpoint 'Blazor web static files'
2025-08-24 15:16:31.558 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/RestaurantOrdering.styles.css - 304 null text/css 4.7235ms
2025-08-24 15:16:31.561 +03:00 [INF] The file /_framework/blazor.web.js was not modified
2025-08-24 15:16:31.562 +03:00 [INF] Executed endpoint 'Blazor web static files'
2025-08-24 15:16:31.563 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/_framework/blazor.web.js - 304 null text/javascript 9.162ms
2025-08-24 15:16:31.692 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/_blazor/initializers - null null
2025-08-24 15:16:31.701 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 15:16:31.706 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 15:16:31.706 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/_blazor/initializers - 200 null application/json; charset=utf-8 14.4765ms
2025-08-24 15:16:31.709 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5010/_blazor/negotiate?negotiateVersion=1 - null 0
2025-08-24 15:16:31.712 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 15:16:31.715 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 15:16:31.715 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5010/_blazor/negotiate?negotiateVersion=1 - 200 316 application/json 6.0686ms
2025-08-24 15:16:31.719 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/_blazor?id=zufSHau29M6MVtQOFPeMTA - null null
2025-08-24 15:16:31.721 +03:00 [INF] Executing endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 15:16:31.827 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[Category], [s].[CreatedAt], [s].[CurrentQuantity], [s].[Description], [s].[IsActive], [s].[LastUpdated], [s].[MinimumQuantity], [s].[Name], [s].[PurchasePrice], [s].[SupplierId], [s].[TaxRateId], [s].[Unit], [s0].[Id], [s0].[CreatedAt], [s0].[CreatedBy], [s0].[Notes], [s0].[Quantity], [s0].[Reference], [s0].[StockId], [s0].[Supplier], [s0].[Type], [s0].[UnitPrice]
FROM [Stocks] AS [s]
LEFT JOIN [StockMovements] AS [s0] ON [s].[Id] = [s0].[StockId]
WHERE [s].[IsActive] = CAST(1 AS bit)
ORDER BY [s].[Name], [s].[Id]
2025-08-24 15:16:31.831 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[Address], [s].[ContactPerson], [s].[CreatedAt], [s].[Email], [s].[IsActive], [s].[Name], [s].[Phone]
FROM [Suppliers] AS [s]
ORDER BY [s].[Name]
2025-08-24 15:16:31.834 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAt], [t].[Description], [t].[IsActive], [t].[Name], [t].[Rate]
FROM [TaxRates] AS [t]
ORDER BY [t].[Rate]
2025-08-24 15:16:33.228 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/admin/stok-yonetimi - null null
2025-08-24 15:16:33.231 +03:00 [INF] Executing endpoint '/admin/stok-yonetimi (/admin/stok-yonetimi)'
2025-08-24 15:16:33.241 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[Category], [s].[CreatedAt], [s].[CurrentQuantity], [s].[Description], [s].[IsActive], [s].[LastUpdated], [s].[MinimumQuantity], [s].[Name], [s].[PurchasePrice], [s].[SupplierId], [s].[TaxRateId], [s].[Unit], [s0].[Id], [s0].[CreatedAt], [s0].[CreatedBy], [s0].[Notes], [s0].[Quantity], [s0].[Reference], [s0].[StockId], [s0].[Supplier], [s0].[Type], [s0].[UnitPrice]
FROM [Stocks] AS [s]
LEFT JOIN [StockMovements] AS [s0] ON [s].[Id] = [s0].[StockId]
WHERE [s].[IsActive] = CAST(1 AS bit)
ORDER BY [s].[Name], [s].[Id]
2025-08-24 15:16:33.243 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[Address], [s].[ContactPerson], [s].[CreatedAt], [s].[Email], [s].[IsActive], [s].[Name], [s].[Phone]
FROM [Suppliers] AS [s]
ORDER BY [s].[Name]
2025-08-24 15:16:33.245 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAt], [t].[Description], [t].[IsActive], [t].[Name], [t].[Rate]
FROM [TaxRates] AS [t]
ORDER BY [t].[Rate]
2025-08-24 15:16:33.247 +03:00 [INF] Executed endpoint '/admin/stok-yonetimi (/admin/stok-yonetimi)'
2025-08-24 15:16:33.249 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/admin/stok-yonetimi - 200 null text/html; charset=utf-8 20.7677ms
2025-08-24 15:16:34.960 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/admin - null null
2025-08-24 15:16:34.962 +03:00 [INF] Executing endpoint '/admin (/admin)'
2025-08-24 15:16:35.004 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice], [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber], [m].[Id], [m].[CreatedAt], [m].[Description], [m].[ImageData], [m].[ImageUrl], [m].[IsAvailable], [m].[MenuId], [m].[Name], [m].[Price], [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[IsActive], [m0].[Name]
FROM [Orders] AS [o]
INNER JOIN [Tables] AS [t] ON [o].[TableId] = [t].[Id]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[Id]
INNER JOIN [Menus] AS [m0] ON [m].[MenuId] = [m0].[Id]
WHERE [o].[Status] IN (0, 1, 2)
ORDER BY [o].[OrderDate]
2025-08-24 15:16:35.123 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__startDate_0='?' (DbType = DateTime2), @__endDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalPrice]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[Status] = 4 AND [o].[OrderDate] >= @__startDate_0 AND [o].[OrderDate] <= @__endDate_1
2025-08-24 15:16:35.134 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[IsActive] = CAST(1 AS bit)
ORDER BY [t].[TableNumber]
2025-08-24 15:16:35.160 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 15:16:35.333 +03:00 [INF] Executed endpoint '/admin (/admin)'
2025-08-24 15:16:35.334 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/admin - 200 null text/html; charset=utf-8 374.2903ms
2025-08-24 15:16:35.347 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice], [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber], [m].[Id], [m].[CreatedAt], [m].[Description], [m].[ImageData], [m].[ImageUrl], [m].[IsAvailable], [m].[MenuId], [m].[Name], [m].[Price], [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[IsActive], [m0].[Name]
FROM [Orders] AS [o]
INNER JOIN [Tables] AS [t] ON [o].[TableId] = [t].[Id]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[Id]
INNER JOIN [Menus] AS [m0] ON [m].[MenuId] = [m0].[Id]
WHERE [o].[Status] IN (0, 1, 2)
ORDER BY [o].[OrderDate]
2025-08-24 15:16:35.427 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__startDate_0='?' (DbType = DateTime2), @__endDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalPrice]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[Status] = 4 AND [o].[OrderDate] >= @__startDate_0 AND [o].[OrderDate] <= @__endDate_1
2025-08-24 15:16:35.430 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[IsActive] = CAST(1 AS bit)
ORDER BY [t].[TableNumber]
2025-08-24 15:16:35.433 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 15:16:36.302 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/admin/orders - null null
2025-08-24 15:16:36.305 +03:00 [INF] Executing endpoint '/admin/orders (/admin/orders)'
2025-08-24 15:16:36.310 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[IsActive] = CAST(1 AS bit)
ORDER BY [t].[TableNumber]
2025-08-24 15:16:36.338 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[TableId], [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[Status] IN (0, 1, 2, 3)
ORDER BY [o].[TableId]
2025-08-24 15:16:36.344 +03:00 [INF] Executed endpoint '/admin/orders (/admin/orders)'
2025-08-24 15:16:36.346 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/admin/orders - 200 null text/html; charset=utf-8 43.2549ms
2025-08-24 15:16:36.361 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[IsActive] = CAST(1 AS bit)
ORDER BY [t].[TableNumber]
2025-08-24 15:16:36.364 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[TableId], [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[Status] IN (0, 1, 2, 3)
ORDER BY [o].[TableId]
2025-08-24 15:16:37.140 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/admin/stok-yonetimi - null null
2025-08-24 15:16:37.143 +03:00 [INF] Executing endpoint '/admin/stok-yonetimi (/admin/stok-yonetimi)'
2025-08-24 15:16:37.145 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[Category], [s].[CreatedAt], [s].[CurrentQuantity], [s].[Description], [s].[IsActive], [s].[LastUpdated], [s].[MinimumQuantity], [s].[Name], [s].[PurchasePrice], [s].[SupplierId], [s].[TaxRateId], [s].[Unit], [s0].[Id], [s0].[CreatedAt], [s0].[CreatedBy], [s0].[Notes], [s0].[Quantity], [s0].[Reference], [s0].[StockId], [s0].[Supplier], [s0].[Type], [s0].[UnitPrice]
FROM [Stocks] AS [s]
LEFT JOIN [StockMovements] AS [s0] ON [s].[Id] = [s0].[StockId]
WHERE [s].[IsActive] = CAST(1 AS bit)
ORDER BY [s].[Name], [s].[Id]
2025-08-24 15:16:37.147 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[Address], [s].[ContactPerson], [s].[CreatedAt], [s].[Email], [s].[IsActive], [s].[Name], [s].[Phone]
FROM [Suppliers] AS [s]
ORDER BY [s].[Name]
2025-08-24 15:16:37.150 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAt], [t].[Description], [t].[IsActive], [t].[Name], [t].[Rate]
FROM [TaxRates] AS [t]
ORDER BY [t].[Rate]
2025-08-24 15:16:37.152 +03:00 [INF] Executed endpoint '/admin/stok-yonetimi (/admin/stok-yonetimi)'
2025-08-24 15:16:37.153 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/admin/stok-yonetimi - null null
2025-08-24 15:16:37.153 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/admin/stok-yonetimi - 200 null text/html; charset=utf-8 12.7039ms
2025-08-24 15:16:37.155 +03:00 [INF] Executing endpoint '/admin/stok-yonetimi (/admin/stok-yonetimi)'
2025-08-24 15:16:37.159 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[Category], [s].[CreatedAt], [s].[CurrentQuantity], [s].[Description], [s].[IsActive], [s].[LastUpdated], [s].[MinimumQuantity], [s].[Name], [s].[PurchasePrice], [s].[SupplierId], [s].[TaxRateId], [s].[Unit], [s0].[Id], [s0].[CreatedAt], [s0].[CreatedBy], [s0].[Notes], [s0].[Quantity], [s0].[Reference], [s0].[StockId], [s0].[Supplier], [s0].[Type], [s0].[UnitPrice]
FROM [Stocks] AS [s]
LEFT JOIN [StockMovements] AS [s0] ON [s].[Id] = [s0].[StockId]
WHERE [s].[IsActive] = CAST(1 AS bit)
ORDER BY [s].[Name], [s].[Id]
2025-08-24 15:16:37.161 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[Address], [s].[ContactPerson], [s].[CreatedAt], [s].[Email], [s].[IsActive], [s].[Name], [s].[Phone]
FROM [Suppliers] AS [s]
ORDER BY [s].[Name]
2025-08-24 15:16:37.164 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAt], [t].[Description], [t].[IsActive], [t].[Name], [t].[Rate]
FROM [TaxRates] AS [t]
ORDER BY [t].[Rate]
2025-08-24 15:16:37.166 +03:00 [INF] Executed endpoint '/admin/stok-yonetimi (/admin/stok-yonetimi)'
2025-08-24 15:16:37.168 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/admin/stok-yonetimi - 200 null text/html; charset=utf-8 14.7732ms
2025-08-24 15:16:37.177 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[Category], [s].[CreatedAt], [s].[CurrentQuantity], [s].[Description], [s].[IsActive], [s].[LastUpdated], [s].[MinimumQuantity], [s].[Name], [s].[PurchasePrice], [s].[SupplierId], [s].[TaxRateId], [s].[Unit], [s0].[Id], [s0].[CreatedAt], [s0].[CreatedBy], [s0].[Notes], [s0].[Quantity], [s0].[Reference], [s0].[StockId], [s0].[Supplier], [s0].[Type], [s0].[UnitPrice]
FROM [Stocks] AS [s]
LEFT JOIN [StockMovements] AS [s0] ON [s].[Id] = [s0].[StockId]
WHERE [s].[IsActive] = CAST(1 AS bit)
ORDER BY [s].[Name], [s].[Id]
2025-08-24 15:16:37.180 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[Address], [s].[ContactPerson], [s].[CreatedAt], [s].[Email], [s].[IsActive], [s].[Name], [s].[Phone]
FROM [Suppliers] AS [s]
ORDER BY [s].[Name]
2025-08-24 15:16:37.182 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAt], [t].[Description], [t].[IsActive], [t].[Name], [t].[Rate]
FROM [TaxRates] AS [t]
ORDER BY [t].[Rate]
2025-08-24 15:17:33.735 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/admin/tables - null null
2025-08-24 15:17:33.738 +03:00 [INF] Executing endpoint '/admin/tables (/admin/tables)'
2025-08-24 15:17:33.747 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
ORDER BY [t].[TableNumber]
2025-08-24 15:17:33.750 +03:00 [INF] Executed endpoint '/admin/tables (/admin/tables)'
2025-08-24 15:17:33.751 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/admin/tables - 200 null text/html; charset=utf-8 16.2267ms
2025-08-24 15:17:33.762 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/admin/tables - null null
2025-08-24 15:17:33.765 +03:00 [INF] Executing endpoint '/admin/tables (/admin/tables)'
2025-08-24 15:17:33.767 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
ORDER BY [t].[TableNumber]
2025-08-24 15:17:33.770 +03:00 [INF] Executed endpoint '/admin/tables (/admin/tables)'
2025-08-24 15:17:33.771 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/admin/tables - 200 null text/html; charset=utf-8 8.856ms
2025-08-24 15:17:33.791 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
ORDER BY [t].[TableNumber]
2025-08-24 15:17:34.726 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/admin/orders - null null
2025-08-24 15:17:34.729 +03:00 [INF] Executing endpoint '/admin/orders (/admin/orders)'
2025-08-24 15:17:34.732 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[IsActive] = CAST(1 AS bit)
ORDER BY [t].[TableNumber]
2025-08-24 15:17:34.735 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[TableId], [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[Status] IN (0, 1, 2, 3)
ORDER BY [o].[TableId]
2025-08-24 15:17:34.738 +03:00 [INF] Executed endpoint '/admin/orders (/admin/orders)'
2025-08-24 15:17:34.739 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/admin/orders - 200 null text/html; charset=utf-8 12.5206ms
2025-08-24 15:17:34.754 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[IsActive] = CAST(1 AS bit)
ORDER BY [t].[TableNumber]
2025-08-24 15:17:34.756 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[TableId], [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TotalPrice]
FROM [Orders] AS [o]
WHERE [o].[Status] IN (0, 1, 2, 3)
ORDER BY [o].[TableId]
2025-08-24 15:17:35.355 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/admin/stok-yonetimi - null null
2025-08-24 15:17:35.357 +03:00 [INF] Executing endpoint '/admin/stok-yonetimi (/admin/stok-yonetimi)'
2025-08-24 15:17:35.362 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[Category], [s].[CreatedAt], [s].[CurrentQuantity], [s].[Description], [s].[IsActive], [s].[LastUpdated], [s].[MinimumQuantity], [s].[Name], [s].[PurchasePrice], [s].[SupplierId], [s].[TaxRateId], [s].[Unit], [s0].[Id], [s0].[CreatedAt], [s0].[CreatedBy], [s0].[Notes], [s0].[Quantity], [s0].[Reference], [s0].[StockId], [s0].[Supplier], [s0].[Type], [s0].[UnitPrice]
FROM [Stocks] AS [s]
LEFT JOIN [StockMovements] AS [s0] ON [s].[Id] = [s0].[StockId]
WHERE [s].[IsActive] = CAST(1 AS bit)
ORDER BY [s].[Name], [s].[Id]
2025-08-24 15:17:35.365 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[Address], [s].[ContactPerson], [s].[CreatedAt], [s].[Email], [s].[IsActive], [s].[Name], [s].[Phone]
FROM [Suppliers] AS [s]
ORDER BY [s].[Name]
2025-08-24 15:17:35.367 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAt], [t].[Description], [t].[IsActive], [t].[Name], [t].[Rate]
FROM [TaxRates] AS [t]
ORDER BY [t].[Rate]
2025-08-24 15:17:35.369 +03:00 [INF] Executed endpoint '/admin/stok-yonetimi (/admin/stok-yonetimi)'
2025-08-24 15:17:35.370 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/admin/stok-yonetimi - 200 null text/html; charset=utf-8 15.2953ms
2025-08-24 15:17:35.380 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[Category], [s].[CreatedAt], [s].[CurrentQuantity], [s].[Description], [s].[IsActive], [s].[LastUpdated], [s].[MinimumQuantity], [s].[Name], [s].[PurchasePrice], [s].[SupplierId], [s].[TaxRateId], [s].[Unit], [s0].[Id], [s0].[CreatedAt], [s0].[CreatedBy], [s0].[Notes], [s0].[Quantity], [s0].[Reference], [s0].[StockId], [s0].[Supplier], [s0].[Type], [s0].[UnitPrice]
FROM [Stocks] AS [s]
LEFT JOIN [StockMovements] AS [s0] ON [s].[Id] = [s0].[StockId]
WHERE [s].[IsActive] = CAST(1 AS bit)
ORDER BY [s].[Name], [s].[Id]
2025-08-24 15:17:35.383 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[Address], [s].[ContactPerson], [s].[CreatedAt], [s].[Email], [s].[IsActive], [s].[Name], [s].[Phone]
FROM [Suppliers] AS [s]
ORDER BY [s].[Name]
2025-08-24 15:17:35.385 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAt], [t].[Description], [t].[IsActive], [t].[Name], [t].[Rate]
FROM [TaxRates] AS [t]
ORDER BY [t].[Rate]
2025-08-24 15:17:35.851 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/admin/cashier - null null
2025-08-24 15:17:35.854 +03:00 [INF] Executing endpoint '/admin/cashier (/admin/cashier)'
2025-08-24 15:17:35.861 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[IsActive] = CAST(1 AS bit)
ORDER BY [t].[TableNumber]
2025-08-24 15:17:35.880 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Orders] AS [o]
        WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
            SELECT 1
            FROM [PaymentItems] AS [p]
            WHERE [p].[OrderId] = [o].[Id])) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-24 15:17:35.889 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalPrice]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
    SELECT 1
    FROM [PaymentItems] AS [p]
    WHERE [p].[OrderId] = [o].[Id])
2025-08-24 15:17:35.893 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Orders] AS [o]
        WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
            SELECT 1
            FROM [PaymentItems] AS [p]
            WHERE [p].[OrderId] = [o].[Id])) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-24 15:17:35.895 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalPrice]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
    SELECT 1
    FROM [PaymentItems] AS [p]
    WHERE [p].[OrderId] = [o].[Id])
2025-08-24 15:17:35.897 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Orders] AS [o]
        WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
            SELECT 1
            FROM [PaymentItems] AS [p]
            WHERE [p].[OrderId] = [o].[Id])) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-24 15:17:35.899 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalPrice]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
    SELECT 1
    FROM [PaymentItems] AS [p]
    WHERE [p].[OrderId] = [o].[Id])
2025-08-24 15:17:35.901 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Orders] AS [o]
        WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
            SELECT 1
            FROM [PaymentItems] AS [p]
            WHERE [p].[OrderId] = [o].[Id])) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-24 15:17:35.903 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalPrice]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
    SELECT 1
    FROM [PaymentItems] AS [p]
    WHERE [p].[OrderId] = [o].[Id])
2025-08-24 15:17:35.906 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Orders] AS [o]
        WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
            SELECT 1
            FROM [PaymentItems] AS [p]
            WHERE [p].[OrderId] = [o].[Id])) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-24 15:17:35.908 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalPrice]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
    SELECT 1
    FROM [PaymentItems] AS [p]
    WHERE [p].[OrderId] = [o].[Id])
2025-08-24 15:17:35.918 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__startDate_0='?' (DbType = DateTime2), @__endDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([p].[TotalAmount]), 0.0)
FROM [Payments] AS [p]
WHERE [p].[Status] = 2 AND [p].[CompletedAt] >= @__startDate_0 AND [p].[CompletedAt] < @__endDate_1
2025-08-24 15:17:35.929 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__today_0='?' (DbType = DateTime2), @__tomorrow_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Payments] AS [p]
WHERE [p].[Status] = 2 AND [p].[CompletedAt] >= @__today_0 AND [p].[CompletedAt] < @__tomorrow_1
2025-08-24 15:17:35.933 +03:00 [INF] Executed endpoint '/admin/cashier (/admin/cashier)'
2025-08-24 15:17:35.934 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/admin/cashier - 200 null text/html; charset=utf-8 82.2889ms
2025-08-24 15:17:35.948 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[IsActive] = CAST(1 AS bit)
ORDER BY [t].[TableNumber]
2025-08-24 15:17:35.950 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Orders] AS [o]
        WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
            SELECT 1
            FROM [PaymentItems] AS [p]
            WHERE [p].[OrderId] = [o].[Id])) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-24 15:17:35.953 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalPrice]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
    SELECT 1
    FROM [PaymentItems] AS [p]
    WHERE [p].[OrderId] = [o].[Id])
2025-08-24 15:17:35.955 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Orders] AS [o]
        WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
            SELECT 1
            FROM [PaymentItems] AS [p]
            WHERE [p].[OrderId] = [o].[Id])) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-24 15:17:35.958 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalPrice]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
    SELECT 1
    FROM [PaymentItems] AS [p]
    WHERE [p].[OrderId] = [o].[Id])
2025-08-24 15:17:35.961 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Orders] AS [o]
        WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
            SELECT 1
            FROM [PaymentItems] AS [p]
            WHERE [p].[OrderId] = [o].[Id])) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-24 15:17:35.964 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalPrice]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
    SELECT 1
    FROM [PaymentItems] AS [p]
    WHERE [p].[OrderId] = [o].[Id])
2025-08-24 15:17:35.966 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Orders] AS [o]
        WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
            SELECT 1
            FROM [PaymentItems] AS [p]
            WHERE [p].[OrderId] = [o].[Id])) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-24 15:17:35.969 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalPrice]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
    SELECT 1
    FROM [PaymentItems] AS [p]
    WHERE [p].[OrderId] = [o].[Id])
2025-08-24 15:17:35.971 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Orders] AS [o]
        WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
            SELECT 1
            FROM [PaymentItems] AS [p]
            WHERE [p].[OrderId] = [o].[Id])) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-24 15:17:35.974 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalPrice]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
    SELECT 1
    FROM [PaymentItems] AS [p]
    WHERE [p].[OrderId] = [o].[Id])
2025-08-24 15:17:35.977 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__startDate_0='?' (DbType = DateTime2), @__endDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([p].[TotalAmount]), 0.0)
FROM [Payments] AS [p]
WHERE [p].[Status] = 2 AND [p].[CompletedAt] >= @__startDate_0 AND [p].[CompletedAt] < @__endDate_1
2025-08-24 15:17:35.980 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__today_0='?' (DbType = DateTime2), @__tomorrow_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Payments] AS [p]
WHERE [p].[Status] = 2 AND [p].[CompletedAt] >= @__today_0 AND [p].[CompletedAt] < @__tomorrow_1
2025-08-24 15:17:36.293 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/admin/kitchen - null null
2025-08-24 15:17:36.295 +03:00 [INF] Executing endpoint '/admin/kitchen (/admin/kitchen)'
2025-08-24 15:17:36.304 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice], [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber], [m].[Id], [m].[CreatedAt], [m].[Description], [m].[ImageData], [m].[ImageUrl], [m].[IsAvailable], [m].[MenuId], [m].[Name], [m].[Price], [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[IsActive], [m0].[Name]
FROM [Orders] AS [o]
INNER JOIN [Tables] AS [t] ON [o].[TableId] = [t].[Id]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[Id]
INNER JOIN [Menus] AS [m0] ON [m].[MenuId] = [m0].[Id]
WHERE [o].[Status] IN (0, 1, 2)
ORDER BY [o].[OrderDate]
2025-08-24 15:17:36.346 +03:00 [INF] Executed endpoint '/admin/kitchen (/admin/kitchen)'
2025-08-24 15:17:36.347 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/admin/kitchen - 200 null text/html; charset=utf-8 53.8296ms
2025-08-24 15:17:36.363 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice], [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber], [m].[Id], [m].[CreatedAt], [m].[Description], [m].[ImageData], [m].[ImageUrl], [m].[IsAvailable], [m].[MenuId], [m].[Name], [m].[Price], [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[IsActive], [m0].[Name]
FROM [Orders] AS [o]
INNER JOIN [Tables] AS [t] ON [o].[TableId] = [t].[Id]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[Id]
INNER JOIN [Menus] AS [m0] ON [m].[MenuId] = [m0].[Id]
WHERE [o].[Status] IN (0, 1, 2)
ORDER BY [o].[OrderDate]
2025-08-24 15:17:39.319 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice], [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber], [m].[Id], [m].[CreatedAt], [m].[Description], [m].[ImageData], [m].[ImageUrl], [m].[IsAvailable], [m].[MenuId], [m].[Name], [m].[Price], [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[IsActive], [m0].[Name]
FROM [Orders] AS [o]
INNER JOIN [Tables] AS [t] ON [o].[TableId] = [t].[Id]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[Id]
INNER JOIN [Menus] AS [m0] ON [m].[MenuId] = [m0].[Id]
WHERE [o].[Status] IN (0, 1, 2)
ORDER BY [o].[OrderDate]
2025-08-24 15:17:39.938 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice], [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber], [m].[Id], [m].[CreatedAt], [m].[Description], [m].[ImageData], [m].[ImageUrl], [m].[IsAvailable], [m].[MenuId], [m].[Name], [m].[Price], [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[IsActive], [m0].[Name]
FROM [Orders] AS [o]
INNER JOIN [Tables] AS [t] ON [o].[TableId] = [t].[Id]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[Id]
INNER JOIN [Menus] AS [m0] ON [m].[MenuId] = [m0].[Id]
WHERE [o].[Status] IN (0, 1, 2)
ORDER BY [o].[OrderDate]
2025-08-24 15:17:42.494 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice], [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber], [m].[Id], [m].[CreatedAt], [m].[Description], [m].[ImageData], [m].[ImageUrl], [m].[IsAvailable], [m].[MenuId], [m].[Name], [m].[Price], [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[IsActive], [m0].[Name]
FROM [Orders] AS [o]
INNER JOIN [Tables] AS [t] ON [o].[TableId] = [t].[Id]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[Id]
INNER JOIN [Menus] AS [m0] ON [m].[MenuId] = [m0].[Id]
WHERE [o].[Status] IN (0, 1, 2)
ORDER BY [o].[OrderDate]
2025-08-24 15:17:54.224 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/admin/tables - null null
2025-08-24 15:17:54.226 +03:00 [INF] Executing endpoint '/admin/tables (/admin/tables)'
2025-08-24 15:17:54.230 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
ORDER BY [t].[TableNumber]
2025-08-24 15:17:54.232 +03:00 [INF] Executed endpoint '/admin/tables (/admin/tables)'
2025-08-24 15:17:54.233 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/admin/tables - 200 null text/html; charset=utf-8 8.761ms
2025-08-24 15:17:54.244 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
ORDER BY [t].[TableNumber]
2025-08-24 15:17:57.502 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/admin/tables - null null
2025-08-24 15:17:57.504 +03:00 [INF] Executing endpoint '/admin/tables (/admin/tables)'
2025-08-24 15:17:57.508 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
ORDER BY [t].[TableNumber]
2025-08-24 15:17:57.510 +03:00 [INF] Executed endpoint '/admin/tables (/admin/tables)'
2025-08-24 15:17:57.511 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/admin/tables - 200 null text/html; charset=utf-8 9.5144ms
2025-08-24 15:17:58.527 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/admin - null null
2025-08-24 15:17:58.529 +03:00 [INF] Executing endpoint '/admin (/admin)'
2025-08-24 15:17:58.536 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice], [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber], [m].[Id], [m].[CreatedAt], [m].[Description], [m].[ImageData], [m].[ImageUrl], [m].[IsAvailable], [m].[MenuId], [m].[Name], [m].[Price], [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[IsActive], [m0].[Name]
FROM [Orders] AS [o]
INNER JOIN [Tables] AS [t] ON [o].[TableId] = [t].[Id]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[Id]
INNER JOIN [Menus] AS [m0] ON [m].[MenuId] = [m0].[Id]
WHERE [o].[Status] IN (0, 1, 2)
ORDER BY [o].[OrderDate]
2025-08-24 15:17:58.562 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__startDate_0='?' (DbType = DateTime2), @__endDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalPrice]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[Status] = 4 AND [o].[OrderDate] >= @__startDate_0 AND [o].[OrderDate] <= @__endDate_1
2025-08-24 15:17:58.565 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[IsActive] = CAST(1 AS bit)
ORDER BY [t].[TableNumber]
2025-08-24 15:17:58.571 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 15:17:58.635 +03:00 [INF] Executed endpoint '/admin (/admin)'
2025-08-24 15:17:58.636 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/admin - 200 null text/html; charset=utf-8 108.316ms
2025-08-24 15:17:58.651 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice], [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber], [m].[Id], [m].[CreatedAt], [m].[Description], [m].[ImageData], [m].[ImageUrl], [m].[IsAvailable], [m].[MenuId], [m].[Name], [m].[Price], [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[IsActive], [m0].[Name]
FROM [Orders] AS [o]
INNER JOIN [Tables] AS [t] ON [o].[TableId] = [t].[Id]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[Id]
INNER JOIN [Menus] AS [m0] ON [m].[MenuId] = [m0].[Id]
WHERE [o].[Status] IN (0, 1, 2)
ORDER BY [o].[OrderDate]
2025-08-24 15:17:58.692 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__startDate_0='?' (DbType = DateTime2), @__endDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalPrice]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[Status] = 4 AND [o].[OrderDate] >= @__startDate_0 AND [o].[OrderDate] <= @__endDate_1
2025-08-24 15:17:58.696 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[IsActive] = CAST(1 AS bit)
ORDER BY [t].[TableNumber]
2025-08-24 15:17:58.703 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 15:17:59.398 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/menu?table=1&category=Ana%20Yemekler - null null
2025-08-24 15:17:59.401 +03:00 [INF] Executing endpoint '/menu (/menu)'
2025-08-24 15:17:59.411 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__tableNumber_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[TableNumber] = @__tableNumber_0
2025-08-24 15:17:59.418 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 15:17:59.507 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 15:17:59.576 +03:00 [INF] Executed endpoint '/menu (/menu)'
2025-08-24 15:17:59.577 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/menu?table=1&category=Ana%20Yemekler - 200 null text/html; charset=utf-8 178.5257ms
2025-08-24 15:17:59.591 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__tableNumber_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[TableNumber] = @__tableNumber_0
2025-08-24 15:17:59.594 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 15:17:59.671 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 15:18:04.751 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 15:18:04.755 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/admin - null null
2025-08-24 15:18:04.758 +03:00 [INF] Executing endpoint '/admin (/admin)'
2025-08-24 15:18:04.770 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice], [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber], [m].[Id], [m].[CreatedAt], [m].[Description], [m].[ImageData], [m].[ImageUrl], [m].[IsAvailable], [m].[MenuId], [m].[Name], [m].[Price], [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[IsActive], [m0].[Name]
FROM [Orders] AS [o]
INNER JOIN [Tables] AS [t] ON [o].[TableId] = [t].[Id]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[Id]
INNER JOIN [Menus] AS [m0] ON [m].[MenuId] = [m0].[Id]
WHERE [o].[Status] IN (0, 1, 2)
ORDER BY [o].[OrderDate]
2025-08-24 15:18:04.791 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__startDate_0='?' (DbType = DateTime2), @__endDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalPrice]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[Status] = 4 AND [o].[OrderDate] >= @__startDate_0 AND [o].[OrderDate] <= @__endDate_1
2025-08-24 15:18:04.797 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[IsActive] = CAST(1 AS bit)
ORDER BY [t].[TableNumber]
2025-08-24 15:18:04.800 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 15:18:04.878 +03:00 [INF] Executed endpoint '/admin (/admin)'
2025-08-24 15:18:04.879 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/admin - 200 null text/html; charset=utf-8 123.6934ms
2025-08-24 15:18:04.891 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice], [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber], [m].[Id], [m].[CreatedAt], [m].[Description], [m].[ImageData], [m].[ImageUrl], [m].[IsAvailable], [m].[MenuId], [m].[Name], [m].[Price], [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[IsActive], [m0].[Name]
FROM [Orders] AS [o]
INNER JOIN [Tables] AS [t] ON [o].[TableId] = [t].[Id]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[Id]
INNER JOIN [Menus] AS [m0] ON [m].[MenuId] = [m0].[Id]
WHERE [o].[Status] IN (0, 1, 2)
ORDER BY [o].[OrderDate]
2025-08-24 15:18:04.926 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__startDate_0='?' (DbType = DateTime2), @__endDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalPrice]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[Status] = 4 AND [o].[OrderDate] >= @__startDate_0 AND [o].[OrderDate] <= @__endDate_1
2025-08-24 15:18:04.929 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[IsActive] = CAST(1 AS bit)
ORDER BY [t].[TableNumber]
2025-08-24 15:18:04.931 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[CreatedAt], [m].[Description], [m].[IsActive], [m].[Name], [m1].[Id], [m1].[CreatedAt], [m1].[Description], [m1].[ImageData], [m1].[ImageUrl], [m1].[IsAvailable], [m1].[MenuId], [m1].[Name], [m1].[Price]
FROM [Menus] AS [m]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[ImageData], [m0].[ImageUrl], [m0].[IsAvailable], [m0].[MenuId], [m0].[Name], [m0].[Price]
    FROM [MenuItems] AS [m0]
    WHERE [m0].[IsAvailable] = CAST(1 AS bit)
) AS [m1] ON [m].[Id] = [m1].[MenuId]
WHERE [m].[IsActive] = CAST(1 AS bit)
ORDER BY [m].[Name], [m].[Id]
2025-08-24 15:18:06.417 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice], [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber], [m].[Id], [m].[CreatedAt], [m].[Description], [m].[ImageData], [m].[ImageUrl], [m].[IsAvailable], [m].[MenuId], [m].[Name], [m].[Price], [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[IsActive], [m0].[Name]
FROM [Orders] AS [o]
INNER JOIN [Tables] AS [t] ON [o].[TableId] = [t].[Id]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[Id]
INNER JOIN [Menus] AS [m0] ON [m].[MenuId] = [m0].[Id]
WHERE [o].[Status] IN (0, 1, 2)
ORDER BY [o].[OrderDate]
2025-08-24 15:18:08.279 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/admin/kitchen - null null
2025-08-24 15:18:08.282 +03:00 [INF] Executing endpoint '/admin/kitchen (/admin/kitchen)'
2025-08-24 15:18:08.284 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice], [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber], [m].[Id], [m].[CreatedAt], [m].[Description], [m].[ImageData], [m].[ImageUrl], [m].[IsAvailable], [m].[MenuId], [m].[Name], [m].[Price], [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[IsActive], [m0].[Name]
FROM [Orders] AS [o]
INNER JOIN [Tables] AS [t] ON [o].[TableId] = [t].[Id]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[Id]
INNER JOIN [Menus] AS [m0] ON [m].[MenuId] = [m0].[Id]
WHERE [o].[Status] IN (0, 1, 2)
ORDER BY [o].[OrderDate]
2025-08-24 15:18:08.322 +03:00 [INF] Executed endpoint '/admin/kitchen (/admin/kitchen)'
2025-08-24 15:18:08.323 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/admin/kitchen - 200 null text/html; charset=utf-8 43.6815ms
2025-08-24 15:18:08.334 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [o].[Id], [o].[MenuItemId], [o].[Notes], [o].[OrderDate], [o].[Quantity], [o].[Status], [o].[TableId], [o].[TotalPrice], [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber], [m].[Id], [m].[CreatedAt], [m].[Description], [m].[ImageData], [m].[ImageUrl], [m].[IsAvailable], [m].[MenuId], [m].[Name], [m].[Price], [m0].[Id], [m0].[CreatedAt], [m0].[Description], [m0].[IsActive], [m0].[Name]
FROM [Orders] AS [o]
INNER JOIN [Tables] AS [t] ON [o].[TableId] = [t].[Id]
INNER JOIN [MenuItems] AS [m] ON [o].[MenuItemId] = [m].[Id]
INNER JOIN [Menus] AS [m0] ON [m].[MenuId] = [m0].[Id]
WHERE [o].[Status] IN (0, 1, 2)
ORDER BY [o].[OrderDate]
2025-08-24 15:18:09.144 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5010/admin/cashier - null null
2025-08-24 15:18:09.146 +03:00 [INF] Executing endpoint '/admin/cashier (/admin/cashier)'
2025-08-24 15:18:09.149 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[IsActive] = CAST(1 AS bit)
ORDER BY [t].[TableNumber]
2025-08-24 15:18:09.154 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Orders] AS [o]
        WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
            SELECT 1
            FROM [PaymentItems] AS [p]
            WHERE [p].[OrderId] = [o].[Id])) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-24 15:18:09.159 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalPrice]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
    SELECT 1
    FROM [PaymentItems] AS [p]
    WHERE [p].[OrderId] = [o].[Id])
2025-08-24 15:18:09.161 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Orders] AS [o]
        WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
            SELECT 1
            FROM [PaymentItems] AS [p]
            WHERE [p].[OrderId] = [o].[Id])) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-24 15:18:09.163 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalPrice]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
    SELECT 1
    FROM [PaymentItems] AS [p]
    WHERE [p].[OrderId] = [o].[Id])
2025-08-24 15:18:09.165 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Orders] AS [o]
        WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
            SELECT 1
            FROM [PaymentItems] AS [p]
            WHERE [p].[OrderId] = [o].[Id])) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-24 15:18:09.167 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalPrice]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
    SELECT 1
    FROM [PaymentItems] AS [p]
    WHERE [p].[OrderId] = [o].[Id])
2025-08-24 15:18:09.169 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Orders] AS [o]
        WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
            SELECT 1
            FROM [PaymentItems] AS [p]
            WHERE [p].[OrderId] = [o].[Id])) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-24 15:18:09.171 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalPrice]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
    SELECT 1
    FROM [PaymentItems] AS [p]
    WHERE [p].[OrderId] = [o].[Id])
2025-08-24 15:18:09.173 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Orders] AS [o]
        WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
            SELECT 1
            FROM [PaymentItems] AS [p]
            WHERE [p].[OrderId] = [o].[Id])) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-24 15:18:09.175 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalPrice]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
    SELECT 1
    FROM [PaymentItems] AS [p]
    WHERE [p].[OrderId] = [o].[Id])
2025-08-24 15:18:09.179 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__startDate_0='?' (DbType = DateTime2), @__endDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([p].[TotalAmount]), 0.0)
FROM [Payments] AS [p]
WHERE [p].[Status] = 2 AND [p].[CompletedAt] >= @__startDate_0 AND [p].[CompletedAt] < @__endDate_1
2025-08-24 15:18:09.182 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__today_0='?' (DbType = DateTime2), @__tomorrow_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Payments] AS [p]
WHERE [p].[Status] = 2 AND [p].[CompletedAt] >= @__today_0 AND [p].[CompletedAt] < @__tomorrow_1
2025-08-24 15:18:09.184 +03:00 [INF] Executed endpoint '/admin/cashier (/admin/cashier)'
2025-08-24 15:18:09.185 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/admin/cashier - 200 null text/html; charset=utf-8 41.3041ms
2025-08-24 15:18:09.196 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAt], [t].[IsActive], [t].[QrCodeUrl], [t].[TableNumber]
FROM [Tables] AS [t]
WHERE [t].[IsActive] = CAST(1 AS bit)
ORDER BY [t].[TableNumber]
2025-08-24 15:18:09.198 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Orders] AS [o]
        WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
            SELECT 1
            FROM [PaymentItems] AS [p]
            WHERE [p].[OrderId] = [o].[Id])) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-24 15:18:09.201 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalPrice]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
    SELECT 1
    FROM [PaymentItems] AS [p]
    WHERE [p].[OrderId] = [o].[Id])
2025-08-24 15:18:09.203 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Orders] AS [o]
        WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
            SELECT 1
            FROM [PaymentItems] AS [p]
            WHERE [p].[OrderId] = [o].[Id])) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-24 15:18:09.206 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalPrice]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
    SELECT 1
    FROM [PaymentItems] AS [p]
    WHERE [p].[OrderId] = [o].[Id])
2025-08-24 15:18:09.208 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Orders] AS [o]
        WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
            SELECT 1
            FROM [PaymentItems] AS [p]
            WHERE [p].[OrderId] = [o].[Id])) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-24 15:18:09.211 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalPrice]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
    SELECT 1
    FROM [PaymentItems] AS [p]
    WHERE [p].[OrderId] = [o].[Id])
2025-08-24 15:18:09.214 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Orders] AS [o]
        WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
            SELECT 1
            FROM [PaymentItems] AS [p]
            WHERE [p].[OrderId] = [o].[Id])) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-24 15:18:09.216 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalPrice]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
    SELECT 1
    FROM [PaymentItems] AS [p]
    WHERE [p].[OrderId] = [o].[Id])
2025-08-24 15:18:09.218 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Orders] AS [o]
        WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
            SELECT 1
            FROM [PaymentItems] AS [p]
            WHERE [p].[OrderId] = [o].[Id])) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-08-24 15:18:09.220 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__tableId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([o].[TotalPrice]), 0.0)
FROM [Orders] AS [o]
WHERE [o].[TableId] = @__tableId_0 AND [o].[Status] = 4 AND NOT EXISTS (
    SELECT 1
    FROM [PaymentItems] AS [p]
    WHERE [p].[OrderId] = [o].[Id])
2025-08-24 15:18:09.221 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__startDate_0='?' (DbType = DateTime2), @__endDate_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COALESCE(SUM([p].[TotalAmount]), 0.0)
FROM [Payments] AS [p]
WHERE [p].[Status] = 2 AND [p].[CompletedAt] >= @__startDate_0 AND [p].[CompletedAt] < @__endDate_1
2025-08-24 15:18:09.224 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[@__today_0='?' (DbType = DateTime2), @__tomorrow_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Payments] AS [p]
WHERE [p].[Status] = 2 AND [p].[CompletedAt] >= @__today_0 AND [p].[CompletedAt] < @__tomorrow_1
2025-08-24 15:18:11.641 +03:00 [INF] Executed endpoint 'Microsoft.AspNetCore.Routing.RouteEndpoint'
2025-08-24 15:18:11.642 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5010/_blazor?id=zufSHau29M6MVtQOFPeMTA - 101 null null 99923.0996ms
